{"text":"Flexible computational image sensor with compressive sensing capability\n\nABSTRACT\n\nThe present disclosure relates to a method and system for imaging a scene. The method includes generating a shutter pattern and applying the shutter pattern to a photodetector array. The system includes a sensor architecture in three dimensions, where elements of the sensor architecture are stacked in two or more layers. Some elements of the sensor architecture include a photodetector array, register array, a generator to generate shutter patterns, readout circuitry, and an ISP.\n    \n    CROSS-REFERENCE TO RELATED APPLICATIONS\n    This Application claims priority under 35 U.S.C. § 119 to U.S. Provisional Application Ser. No. 63/295,839, filed December 31st, 2021, entitled “A FLEXIBLE COMPUTATIONAL IMAGE SENSOR WITH COMPRESSIVE SENSING CAPABILITY”, which is herein incorporated by reference in its entirety.\n    \n    \n    FIELD\n    The present disclosure relates generally to an image sensor with compressive sensing capabilities. It may be a computational image sensor that applies to high speed imaging, high dynamic range, motion-blur free imaging, and direct time-of-flight.\n    BACKGROUND\n    A short integration time period for multiple frame capturing may be desired in various imaging techniques, including, but not limited to: high dynamic range (HDR), high-speed imaging, time-of-flight (TOF), and motion-blur free low light imaging. Further, other systems such as 3D sensing using direct time-of-flight (DTOF) Low light imaging may have a long integration time and can accordingly suffer from motion blur caused by camera or object movement. In order to reduce or eliminate motion blur in low light imaging, a shorter integration time and multiple frame capturing can be used. These captured frames can be post-processed for object alignment first and then can be accumulated to form a motion-blur free high-quality image with a high signal-to-noise (SNR) ratio. HDR imaging can also benefit from a shorter integration time and with multiple frames, which can avoid clipping in high light regions.\n    With shorter integration times and multiple frames, large amounts of data can be generated, and this data needs to be both transferred and processed in a short period of time. There exists a need to efficiently store, transfer, and process this data from these image sensors.\n    One possible method for storing, transferring, and processing data can be to compress the data at the pixel level before reading out the data. The image can then be decompressed either on chip or off chip to recover the original multiple frames of information. For high-speed imaging, recovering the multiple frames of information may be sufficient, however, for motion-blur free low light imaging and HDR imaging, there may be more work required. The motion vectors inside these frames can be estimated first, then the objects can be aligned and the frames can be congregated to form a final image. Lastly, for 3D sensing, pixel-wise histograms can be built based on the multiple frames of information, and then the depth information can be extracted for each histogram.\n    Traditional compressive sensing technologies may be used. For compressive sensing, there may be patterns assigned to an image plane. These patterns may be electrical, such as a shutter pattern, or optical, such as an optical mask. These patterns may be time and/or spatially variant. The masks may need to be switched very quickly to achieve a high frame rate or to have high time-resolving capabilities. Applying different mask values for each pixel and at each frame at high speeds may be difficult. Storing the values of the random masks for each pixel frame may also require a lot of memory. The previous examples may be for background and orientation purposes only, and may contain concepts developed by the inventors that are not prior art.\n    SUMMARY\n    According to one example embodiment, provided is a sensor, comprising: a photodetector array located on a first die layer, a register array located on a second die layer, a row select driver, a column readout, a pattern generator, an image signal processor, wherein the first die layer is stacked on the second die layer.\n    According to another example embodiment, provided is a method for imaging, comprising: generating a shutter pattern on a first die layer, sending the shutter pattern to a register array on the first die layer, outputting control signal values from the register array to switches in a photodetector array on a second die layer, enabling charge accumulation in photodetectors in the photodetector array when the control signal values are set to enable, disabling charge accumulation in photodetectors in the photodetector array when the control signal value are set to disable, and reading out the accumulated charge values on the first die layer.\n    According to another example embodiment, provided is a sensor, comprising: a photodetector array on a first die layer, a register array on a second die layer, a memory array, an image signal processor, a row driver, a pattern generator, and a column readout.\n    \n    \n    \n      BRIEF DESCRIPTION OF THE DRAWINGS\n      The following description and examples illustrate embodiments of the invention in detail. It is to be understood that this invention is not limited to the particular embodiments described herein and as such may vary. Those of skill in the art will recognize that there are numerous variations and modifications of this invention, which are encompassed within its scope.\n      The novel features of the invention are set forth with particularity in the appended claims. A better understanding of the features and advantages of the present invention will be obtained by reference to the following detailed description that sets forth illustrative embodiments, in which the principles of the invention are utilized, and the accompanying drawings of which:\n       FIG. 1  depicts an example sensor of an example embodiment.\n       FIG. 2  depicts an example pixel of an example embodiment.\n       FIG. 3  depicts another example pixel that may be used in the pixel array of FIG. 1 .\n       FIG. 4  depicts process of an example order of operations for a pixel in the pixel array of FIG. 1 .\n       FIG. 5  depicts an example pixel array.\n       FIG. 6A depicts an example stacked architecture of a sensor architecture.\n       FIG. 6B depicts a pixel that may be a pixel in FIG. 6A.\n       FIG. 7  depicts an architecture with three stacked die layers.\n       FIG. 8A depicts an example stacked architecture that may use digital pixels, such as SPADs.\n       FIG. 8B depicts a pixel that may be a pixel in FIG. 8A.\n       FIG. 9  shows an example stacked architecture.\n       FIG. 10  depicts an example architecture combined optical mask with an electrical shutter pattern.\n       FIG. 11  depicts a process for shutter generation.\n       FIG. 12  depicts an alternate embodiment where photodetectors may share a register.\n    \n    \n    \n    DETAILED DESCRIPTION OF THE DRAWINGS\n    Hereinafter, example embodiments will be described in more detail with reference to the accompanying drawings, in which like reference numbers refer to like elements throughout. The present disclosure however, may be embodied in various different forms, and should not be construed as being limited to only the illustrated embodiments herein. Rather, these embodiments are provided as examples so that this disclosure will be thorough and complete, and will fully convey the aspects and features of the present disclosure to those skilled in the art. Accordingly, processes, elements, and techniques that are not necessary to those having ordinary skill in the art for a complete understanding of the aspects and features of the present disclosure may not be described. Unless otherwise noted, like reference numerals denote like elements throughout the attached drawings and the written description, and thus, descriptions thereof may not be repeated.\n    In the drawings, the relative sizes of elements, layers, and regions may be exaggerated and/or simplified for clarity. Spatially relative terms, such as “beneath,” “below,” “lower,” “under,” “above,” “upper,” and the like, may be used herein for ease of explanation to describe one element or feature’s relationship to another element(s) or feature(s) as illustrated in the figures. It will be understood that the spatially relative terms are intended to encompass different orientations of the device in use or in operation, in addition to the orientation depicted in the figures. For example, if the device in the figures is turned over, elements described as “below” or “beneath” or “under” other elements or features would then be oriented “above” the other elements or features. Thus, the example terms “below” and “under” can encompass both an orientation of above and below. The device may be otherwise oriented (e.g., rotated 90 degrees or at other orientations) and the spatially relative descriptors used herein should be interpreted accordingly.\n    It will be understood that, although the terms “first,” “second,” “third,” etc., may be used herein to describe various elements, components, regions, layers and/or sections, these elements, components, regions, layers and/or sections should not be limited by these terms. These terms are used to distinguish one element, component, region, layer or section from another element, component, region, layer or section. Thus, a first element, component, region, layer or section described below could be termed a second element, component, region, layer or section, without departing from the spirit and scope of the present disclosure.\n    It will be understood that when an element or layer is referred to as being “on,” “connected to,” or “coupled to” another element or layer, it can be directly on, connected to, or coupled to the other element or layer, or one or more intervening elements or layers may be present. In addition, it will also be understood that when an element or layer is referred to as being “between” two elements or layers, it can be the only element or layer between the two elements or layers, or one or more intervening elements or layers may also be present.\n    The terminology used herein is for the purpose of describing particular embodiments and is not intended to be limiting of the present disclosure. As used herein, the singular forms “a” and “an” are intended to include the plural forms as well, unless the context clearly indicates otherwise. It will be further understood that the terms “comprises,” “comprising,” “includes,” and “including,” when used in this specification, specify the presence of the stated features, integers, steps, operations, elements, and/or components, but do not preclude the presence or addition of one or more other features, integers, steps, operations, elements, components, and/or groups thereof. As used herein, the term “and/or” includes any and all combinations of one or more of the associated listed items. Expressions such as “at least one of,” when preceding a list of elements, modify the entire list of elements and do not modify the individual elements of the list.\n    As used herein, the term “substantially,” “about,” and similar terms are used as terms of approximation and not as terms of degree, and are intended to account for the inherent variations in measured or calculated values that would be recognized by those of ordinary skill in the art. Further, the use of “may” when describing embodiments of the present disclosure refers to “one or more embodiments of the present disclosure.” As used herein, the terms “use,” “using,” and “used” may be considered synonymous with the terms “utilize,” “utilizing,” and “utilized,” respectively. Also, the term “exemplary” is intended to refer to an example or illustration.\n    Unless otherwise defined, all terms (including technical and scientific terms) used herein have the same meaning as commonly understood by one of ordinary skill in the art to which the present disclosure belongs. It will be further understood that terms, such as those defined in commonly used dictionaries, should be interpreted as having a meaning that is consistent with their meaning in the context of the relevant art and/or the present specification, and should not be interpreted in an idealized or overly formal sense, unless expressly so defined herein. The term “diameter” as used herein may refer to the diameter of a circular or spherical shape, or the equivalent diameter of a non-circular or non-spherical shape.\n     FIG. 1  depicts an example sensor 100 of an example embodiment. Sensor 100 may be a sensor architecture. Sensor 100 may be sized at few millimeters in length, height (not shown), and width, but it may be smaller or larger. Sensor 100 may be a stacked sensor with multiple dies stacked vertically. Each of these stacked dies may be known as a stacked layer. A stacked layer may be a single die.\n    There may be a pixel array 101, which may comprise one or more pixels 102 that may be arranged in N rows by M columns, where N and M are integer values greater than or equal to one. Pixels 102 in pixel array 101 may be constructed of circuitry found in one or more stacked die layers. A die can be vertically stacked on another die either vertically or with an intermediate or interposed die, or various other arrangements. The die may be stacked as a die, or they may be stacked before dicing (EG, as wafers). For example, there may be a photodetection element 103 of a pixel 102 that may be found on one die layer, and readout elements of pixel 102 may be found on another die layer. The layering configurations of pixel array 101 will be described in more detail later.\n    Focusing on one example pixel 102 of pixel array 101, pixel 102 may comprise one or more photodetectors (PDs) 103. Additionally, pixel 102 may include zero or more registers 104. A pixel with more than one photodetector 103 may be known as a shared pixel. A shared pixel may sum the values or charges accumulated together to have one output value, or it may have two separate outputs, one for each photodetector. Register 104 may receive a pattern 112 sent from a pattern generator 108. Register 104 may output a control signal 106 to photodetector 103 to enable or disable the output of photodetector 103.\n    Photodetector 103 may be any suitable photodetector for a target wavelength range of any part of the electromagnetic spectrum. The present embodiments refer to a visible spectrum of light, however, light may be understood to be any wavelength in the electromagnetic spectrum. For example, light may include near-infrared, short-wave infrared, long-wave infrared, and/or ultraviolet.\n    A row select signal 105 may be sent to a row of pixels containing pixel 102 in pixel array 101. Row select signal 105 may be sent from a row select driver 107. Row select signal 105 may select the row of pixels containing pixel 102 and enable pixel 102 to send data to pixel output 113. Pixel output 113 may be a voltage that may be used to determine a photodetection event or light intensity. Pixel output 113 may be sent to column readout 109. Pixel output 113 may be an output connecting a column in pixel array 101, for example, the column of pixels containing pixel 102. The output value of pixel 102 may be a charge that accumulated from photodetector 103 or may be a binary value (1 or 0, high or low, detection or no detection).\n    Moving away from the details of pixel 102 and back to the sensor 100, row select driver 107 may be used to enable reading out a row of pixel values. Row select driver 107 may select one or more of the N rows of pixels in pixel array 101. When a row of pixels in pixel array 101 is selected, the values of the pixels (a stored charge or a binary value) may be sent to a column readout 109.\n    Column readout 109 may read pixel values from all columns and one or more of the row(s) of pixels selected by row select driver 107. For example, three rows of pixels in pixel array 101 may be selected, and column readout 109 may receive readout pixel values from three rows of pixels for each column of pixel array 101.\n    There may be a pattern generator 108 connected to pixel array 101. In one embodiment, pattern generator 108 may be a memory. In such an embodiment, pattern generator 108 may store one or more pre-loaded shutter patterns. In some embodiments, a shutter pattern may be a binary pattern that may map onto the pixel array 101. The binary value may be used to control a readout status of individual pixels 102 in pixel array 101. For example, the readout status may be to read or to not read a pixel 102, depending on the value of the shutter pattern mapped onto that specific pixel 102.\n    Pre-loaded shutter patterns may be generated in a separate location and loaded into pattern generator 108. Shutter patterns may then be loaded into the registers 104 of pixels 102 in pixel array 101, corresponding to the bits mapped thereon in the shutter pattern.\n    A shutter pattern may be used to compress an image, which may be known as compressive or compressed sensing. The shutter pattern may be used in an algorithm that compresses an image or sequence of images, which algorithm may operate spatially, temporally, or spatial-temporally. The shutter pattern may be electrical, optical, or both, which will be described in more detail later.\n    In another embodiment, pattern generator 108 may actively generate shutter patterns. Generated shutter patterns may be generated in pattern generator 108, which may also be known as on-chip generation or online generation. The distribution of shutter patterns, and control of pixels, would thence be similar to that expressed above.\n    In both embodiments, generated shutter patterns may be random or pseudo-randomly generated. A pseudo-randomly generated pattern may also be known as a deterministic random bit generator. The shutter pattern may be approximately random, and any method to generate pseudo-random patterns may be used. In other embodiments, the pattern may be not random. For all shutter patterns described below, the shutter patterns may be random or pseudo-random in both the spatial and temporal domains.\n    The shutter patterns described below may be a binary pattern (random or pseudo-random) of ones and zeros that may be applied to a pixel, array of pixels, and/or multiple frames of pixels. The shutter pattern may be applied to pixel values over a period of time and the final output value may be the weighted sum of the pixel values. The weighted sum may be a compressed output and may be in a temporal, spatial, or spatial-temporal domain. The compressed output may have an associated compression ratio. The compression ratio will be described in subsequent sections for temporal, spatial, and spatial-temporal compression.\n    In one embodiment, the shutter pattern may be an array of binary values that are the same dimension of an image in pixel array 101. That is, if there are H by W pixels, there may be H by W shutter values in the shutter pattern for one frame. For M frames, there may be H by W by M shutter values in the shutter pattern.\n    The shutter pattern may change for each clock cycle, or every other clock cycle, or any other sequence. For example, if an image is H by W with M frames, there may be M shutter patterns. Thus, for each frame, the shutter pattern may change. When an image readout occurs on the M-th frame, there may be one readout. The one readout may be a compression from M frames into one readout frame. A temporal compression ratio may therefore be M. During reconstruction, the compressed image may be reconstructed to M frames. This form of shutter patterns may be known as temporal compression.\n    In another embodiment, the shutter pattern may comprise multiple subarrays of shutter patterns. Each subarray shutter pattern may be pseudo-randomly generated. For example, for an image H by W with 1 frame, there may be a subarray shutter pattern of dimensions square root sqrt(B) by sqrt(B), where B may be a patch size. This subarray shutter pattern may also be known as a patch.\n    There may be a subarray of multiple shutter patterns of dimension sqrt(B) by sqrt(B) applied across the image of size H x W. For example, if B = 4, the subarray shutter pattern dimensions may be 2 by 2 pixels. If H and W are both 4, then there may be a total of 4 separate 2 by 2 subarray shutter patterns (patches) applied to the image, where each subarray shutter pattern may be pseudo-randomly generated. From a subarray shutter pattern that is 2 by 2 pixels, the output readout size may be 1 pixel. This example may have a spatial compression ratio of 4 (from 4 pixels there may be an output of 1 pixel). That is, for a subarray shutter pattern, the one or more photodetectors related to the subarray shutter pattern may lead to a reduced output size when reading out photodetector values. Therefore, there may be a reduction in pixel count for the output readout image from an input image of 4 by 4 to an output image of 2 by 2. The compressed output may be a weighted sum, which may be a weighted sum applying a patch (subarray shutter pattern) to sqrt(B) by sqrt(B) pixels in the pixel array 101, which may result in an output of one value. The frame rate may remain the same, that is, one input frame may result in one output frame. This form of shutter patterns may be known as spatial compression.\n    In yet another embodiment, the shutter pattern may comprise a combination of temporal and spatial compression. Each frame readout may be spatially compressed. For each frame readout, a different series of subarray shutter patterns may be used. The output frames may be a series of multiple frames all smaller in size than the original input frames. By extending the example of the spatial patch of 2x2 and the temporal compression of M frames, the spatial-temporal compression ratio may be 2x2xM, or 4M. That is, from 2x2xM pixels, the compression output may be the weighted sum of the 2x2xM pixels and may be one output value. Thus, for a patch size of X by Y with M frames, the compression ratio may be X by Y by M.\n    As described previously, a column readout 109 may be connected to pixel array 101. An image signal processor (ISP) 110 may be connected to column readout 109, which may provide an output 111 for off-chip processing. Column readout 109 may include capacitors to store pixel values, an analog-to-digital (ADC) converter to convert analog values to digital values, digital memory to store converted digital numbers, and other components (not shown).\n    The sensor 100 of FIG. 1  may be an example architecture of an example embodiment. The following figures will describe example components of architecture 100, as well as example data flow, hardware design, and operation.\n     FIG. 2  depicts an example pixel 200 of an example embodiment. Pixel 200 may be a pixel such as pixel 102 in pixel array 101 of FIG. 1 . Pixel 200 may include a circuit with a photodetector 204. Photodetector 204 may be a photodiode, but may be any other suitable photodetector for a target wavelength range of any part of the electromagnetic spectrum. In some embodiments, photodetector 204 may be single photon avalanche diode (SPAD), quanta image sensor (QIS), photodiode, or any other photodetector. Pixel 200 may be responsible for charge accumulation as well as sending a voltage output during readout. Photodetector 204 may be responsible for photon conversion into photoelectrons or charge.\n    A first switch 202 may be used to open and close a connection in pixel 200. When the first switch 202 is in the closed position, charge generated from photodetector 204 may be sent to a node 201. Node 201 may connect to an overflow voltage (Vov), which may be considered a drain..When first switch 202 is closed, pixel 200 may not be able to accumulate charge because photodetector 204 may be dumping charge into node 201. When first switch 202 is open, pixel 200 may be able to accumulate charge. First switch 202 may be controlled by the shutter pattern described previously: when a shutter pattern value for pixel 200 is set to off (don’t read), first switch 202 may close. When a shutter pattern value for pixel 200 is set to on (read), first switch 202 may open. As described next, there may be other switches in pixel 200 that may work together with first switch 202.\n    A second switch 203 may be used to open and close another connection in pixel 200. Building on the description of the operation of first switch 202, when the second switch 203 is in the closed position and the first switch 202 is in the open position, pixel 200 may be able to accumulate charge at the capacitor 214. When the second switch 203 is in the open position, photon detected using photodetector 204 may be accumulated at the photodetector 204. A shutter pattern from pattern generator 108 of FIG. 1  may be used as control signals to control first switch 202 and second switch 203, or other control signals may be used. In some embodiments, second switch may not be added to pixel 200, that is, first switch 202 may be used to control the reading or not reading of pixel 200. There may be a select switch in pixel 200 (not shown) that may enable readout.\n    There may optionally be a capacitor 214 and optionally a transfer gate 205 that together may enable a charge accumulation circuit with in pixel 200. When first switch 202 and transfer gate 205 are open, and second switch 203 is closed, charge may accumulate on photodetector 204 and/or capacitor 214, which may be known as a floating diffusion region or node. When transfer gate 205 is present, a correlated double sampling readout option may be used for reading out. When transfer gate 205 is not present, a pseudo-correlated double sampling option may be used for reading out. In both instances, a pixel select (not shown) may be used to enable reading out pixel 200.\n    As described previously, transfer gate 205 may not need to be in pixel 200. When transfer gate 205 is not in pixel 200, the combination of first switch 202 being open and second switch 203 being closed may enable charge accumulation and reading out charge accumulated in photodetector 204 (along with a pixel select, not shown).\n    Stored charge, or voltage, may be read out when row select driver 107 of FIG. 1  selects the row that pixel 200 is found in a pixel array such as pixel array 101 of FIG. 1 . Going back to FIG. 2 , when transfer gate 205 and second switch 203 are closed, and first switch 202 is open, pixel 200 may be read (along with a pixel select, not shown). The charge from photodetector 204 that accumulated may flow through an amplifier 213 and to output 207. Pixel 200 may have an amplifier 213 as a circuit component, and it may be used as a one-way switch for current.\n    Pixel 200 may have a reset switch 206 which may be used to reset the charge accumulated in photodetector 204. Charge may be dumped when reset switch 206 is closed. In some embodiments, reset switch 206 may be a quenching circuit.\n    Output value 207 may be the output value of pixel 200. Output value 207 may be a charge level in voltage form, which may be converted later to a digital output, such as 1 or 0, or high or low, or on or off. When output value 207 is on, pixel 200 may have detected a photon of light. When output value 207 is off, pixel 200 may have not detected a photon of light or may have had the value of photodetector 204 masked. First switch 202 may be driven closed and second switch 203 may be driven to mask the value of photodetector 204. Masking a value may mean to block the output value 207 (by opening switch 203 or dumping via switch 202) to deliberately signal no photodetection (i.e. a zero or an off value).\n    There may be a register 208 associated with pixel 200 that may be responsible for controlling the operation of pixel 200. There may be a control signal 210 and a clock signal 209 as inputs into register 208. Control signal 210 may be an output from pattern generator 108 of FIG. 1  and may be a portion of the shutter pattern corresponding to the pixel 200. Control signal 210 may change as often as once per clock cycle (sent by clock signal 209), but may change less frequently, such as once per every two clock cycles, or even less frequent. Control signal 210 may go into register 208 and may transfer the control signal to one or more output signals, shown as first signal 211 and second signal 212.\n    There may be a first signal 211 and second signal 212 as output signals of register 208. The signals 211 and 212 may be used to control first switch 202 and second switch 203, respectively. There may be a connection between the output signals 211 of register 208 and the first switch 202. There may also be a connection between the output signal 212 of register 208 and second switch 203. In an example embodiment, signals 211 and 212 may be opposites of each other. That is, when register 208 generates an “on” signal for first signal 211, second signal 212 may be an “off” signal. Subsequently, First signal 211 being “on” may close first switch 202 and second signal 212 being “off” may open second switch 203. As a result, photodetector 204 may not accumulate charge and pixel 200. This scenario may be when a shutter value (sent via control signal 210) is set to not reading a pixel.\n    In another scenario, when a shutter value is set to reading a pixel, register 208 may generate a first signal 211 set to “off” and may open first switch 202. Register 208 may also generate a second signal 212 set to “on” and may close first switch 203. Charge may then accumulate for photodetector 204 and the voltage signal may be sent to output 207. Optionally, if transfer gate 205 is present, transfer gate 205 may need to close before an output signal is sent to output 207.\n    Furthermore, register 208 may be used to propagate part of the shutter pattern generated from pattern generator 108 of FIG. 1 . For example, if pixel 200 is the first pixel in a row and column of a pixel array 101 of FIG. 1 , a new shutter pattern value may be loaded into register 208 one cycle at a time, and the previous shutter pattern value may be sent to the next pixel in the row. Thus, the output of register 208 may be used as a control signal / input (not shown) of a next register associated with a next pixel (not shown). There may be a clock speed for propagating shutter pattern values. In an example embodiment, the clock speed may be the final frame rate F multiplied by the compression ratio M. For example, with a temporal compression ratio of M=8 and a frame rate of 30 frames/second, the clock speed may be 240 Hz. Other embodiments may have a higher or lower clock speed.\n    Together, the circuitry of pixel 200 may be used to detect photons at the pixel level in pixel array 101 of FIG. 1 . In an example embodiment, pixel 200 may be a pixel 102 of FIG. 1 . That is, in sensor 100 of FIG. 1 , pixel array 101 may be an array of pixels like pixel 200 where there are single or shared photodetectors within each pixel, and a register within each pixel (or set of pixels). The physical location of the components of pixel 200 of FIG. 2  may be together on the same chip, on multiple layers of a chip (also may be known as stacked), or a combination of on-chip and off-chip. The location of the physical components of pixel 200 will be described later.\n     FIG. 3  depicts another example pixel 300 that may be used in pixel array 101 of FIG. 1 . There may be one or more photodetectors in a pixel 300. In the example embodiment of FIG. 3 , there may be two photodetectors 304 and 305, which may be known as a shared pixel. It may also be known as a 1x2 (one by two) shared pixel, where the pixel may have one column and two rows of photodetectors. In other embodiments, there may be more photodetectors in pixel 300. The photodetectors may be arranged in any number of rows and columns, for example 1x2, 2x1, 2x2, 3x2, and so on.\n     FIG. 3  may have components with similar functionality to FIG. 2 , with the exception of an additional photodetector. There may be a first switch 302 that when closed may connect a first photodetector 304 with a node 301. There may be a first transfer gate 315 that may be used to read out the charge accumulated with photodetector 304. There may be a second switch 303 that when closed may connect a second photodetector 305 with node 301. Node 301 may have an overvoltage that may be used as a sink for photodetectors 304 and 305 when switches 302 and 303 are closed, respectively.\n    There may be a capacitor 317 to enable charge accumulation. Additionally, there may be a first transfer gate 315 and a second transfer gate 316. The operation of the transfer gates 315 and 316 may be similar to the transfer gate 205 described in FIG. 2 .\n    In some embodiments, pixel 300 may have an integer n > 1 photodetectors, and there may be up to n output signals for the register 308. In the example pixel 300, there are n = 2 photodetectors and two output signals for register 308. Whatever the number of photodetectors there may be in a pixel 300, there may be fewer or the same number of output signals for a register 308. For example, register 308 may have a first signal 311 and a second signal 312 for each photodetector 304 and 305, respectively. First signal 311 and second signal 312 may be complimentary in values (one is high, the other low and vice versa) or may be the same (both are high or both are low).\n    In an example embodiment, register 308 may be used to send control signals to transfer gates 315 and 316. For example, first signal 311 may be used to control first switch 302 and second transfer gate 316. Second signal 312 may be used to control second switch 302 and first transfer gate 315. The two signals 311 and 312 may be opposite values to each other. That is, when a shutter pattern is sent to register 308 via control signal 310, one of the photodetectors 304 or 305 may be enabled for charge accumulation in pixel 300 while the other photodetector may be disabled for charge accumulation.\n    In other embodiments, first signal 311 may only be sent to control first switch 302 and second signal 312 may only be sent to control second switch 303. Transfer gates 315 and 316 may be controlled by other circuitry not shown.\n    There may be a floating diffusion node 314, which may be the storage of accumulated charge for pixel 300 when photodetectors 304, 305, or both are enabled. When pixel 300 is read, charge may flow through amplifier 313 to output 307. There may be a pixel select (not shown) to enable reading out pixel 300.\n    In both pixel 200 of FIG. 2  and pixel 300 of FIG. 3 , there may be an order of operations performed for applying a shutter pattern, enabling accumulation, and reading out charge. FIG. 4  depicts this order of operations.\n     FIG. 4  depicts process 400 of an example order of operations for a pixel in pixel array 101 of FIG. 1 . The pixels describe in FIGS. 2 and 3  may use this logic when using shutter values, accumulating charge, dumping charge, and reading out charge.\n    Step 401 may involve receiving a shutter value at a pixel. A shutter value may be sent from pattern generator 108 of FIG. 1 . The shutter value may be received by a register such as register 208 of FIG. 2 . As will be described in more detail later, the shutter value may also be received from another register associated with another pixel, which in turn receives the value from pattern generator 108. As described previously, pattern generator 108 may provide a shutter value pattern that is sent to registers within pixels, and those registers may propagate the shutter value pattern to connected registers until all registers in pixel array 101 receive a shutter value pattern.\n    Once the shutter value in step 401 is received at a pixel, step 402 may occur. In step 402, the pixel may transfer the shutter value with a register such as register 104 of FIG. 1  or register 208 or 308 of FIGS. 2 or 3 , respectively. The register may send a control signal to a switch associated with a photodetector in the pixel. In some embodiments, the pixel may have more than one photodetector. If there is more than one photodetector, the register may send a control signal to each of the switches associated with each of the photodetectors in the pixel.\n    The shutter value received by a pixel in step 401 may be timestamped by a clock cycle. For each clock cycle, step 401 may send a new shutter value to a pixel, but the value may change in more than one clock cycle, such as two, three, or more cycles. For all subsequent steps, each step may be performed once per clock cycle, except for reading out.\n    When the register in step 402 transfers the shutter value and sends a control signal to a switch in the pixel, the value may be set to enable charge accumulation 403 for the pixel. When the value is set to enable charge accumulation, charge accumulation for the pixel may occur. Charge accumulation 403 may last for as long as step 402 sends a signal to continue to accumulate charge in the photodetector. This may occur for one or more clock cycles and when the shutter value is set to on, or read.\n    In some embodiments, the pixel may have more than one photodetector, and step 403 may enable charge accumulation in the pixel for each photodetector where the associated control signal is set to on, or read.\n    When the register in step 402 checks the shutter value and the value is set to off or don’t read, step 404 may disable charge accumulation for the pixel. Disabling charge accumulation may last for as long as step 402 sends a signal to continue to not accumulate charge in the photodetector. This may occur for one or more clock cycles and when the shutter value is set to off or don’t read.\n    In some embodiments, the pixel may have more than one photodetector, and step 404 may disable charge accumulation for each photodetector where the associated control signal is set to off or don’t read.\n    Step 405 may check if a pixel should be read out. As shown in FIG. 1 , a readout may occur when row select driver 107 sends a signal to pixels in a row and selects the pixels for reading out. When row select driver 107 does not send a readout signal, step 405 may loop back to step 401. When row select driver 107 sends a readout signal, step 405 may lead to step 406.\n    Step 406 may readout the value of a pixel. A pixel may be read out both when it has or has not accumulated charge. If a pixel has accumulated charge, a voltage output signal like output 207 of FIG. 2  may be sent that may send a signal to a column readout 109 that may be further processed by an ISP 110 and result in an output 111 that denotes photons have been detected. After readout is complete in step 406, process 400 may repeat itself unless imaging is complete. When readout is complete, a reset or quenching may occur in the pixels to reset their charge. For example, reset switch 206 of FIG. 2  may close to remove accumulated charge and then open before moving back to step 401.\n     FIG. 5  depicts an example pixel array 500. In the example pixel array 500 of FIG. 5 , there may be four rows and four columns of pixels, that is, there may be 16 pixels. Each pixel in pixel array 500 may use the same configuration as described in FIG. 2 . Elements in the example embodiment are similar to FIG. 2  and FIG. 1 . Pixel array 500 may be used in sensor 100 of FIG. 1  as pixel array 101. In an example embodiment, the pixels in pixel array 500 may use one photodetector, however, any pixel type (shared or single photodetector) may be used.\n    Pixel 501 may be a pixel in pixel array 500, and may be the first row, first column pixel. Pixel 501 may have one photodetector, and a register Pixel 501 may have a register output that may propagate a shutter pattern to a neighboring pixel in its row.\n    Pixel 502 may be another pixel in pixel array 500, and may be the second row, first column pixel. Pixel 502 may have a register output that may propagate a shutter pattern to a neighboring pixel in its row.\n    A column readout line 503 may connect the output of pixel 501 and pixel 502. During a column readout event, there may be values for each pixel in a given column read out in sequential order. The values may be voltage signals. In an example embodiment, the voltage signal may be linearly correlated to the charge accumulated inside each pixel. For example, in the first column, there may be four pixels (on pixel per row). Once a row is selected for reading out (not shown), there may be a column readout event. During a column readout event, the voltage signals from all pixels may be read out sequentially. The first, second, third, and then fourth pixel may be read out. The charge data may be stored in a column readout such as column readout 109 of FIG. 1 . The data may then be read by an ISP layer such as ISP 110 of FIG. 1  which may be used for image reconstruction, color processing, or other task, which may depend on the type of pixels in pixel array 500 and application.\n    Pixels in pixel array 500 may be loaded with a shutter pattern. When the pixels in the first row are selected, a control signal 305 may be sent to the pixels (and may be received by their registers) to apply a mask pattern. As seen in pixel 501, a register 208 may receive a control signal 210 and provide two outputs similar to FIG. 2 . In FIG. 2 , - the first signal 211 may be to control the first switch 202 and the second signal 212 may be to control the second switch 203. In the example pixels in pixel array 500, the register may have complimentary outputs, which may be one example embodiment of register 208 from FIG. 2 . That is, when the first signal 211 is high, the second signal 212 is low. When the first signal 211 of the register 208 is set to high, the first switch 202 may be closed and the second switch 203 may be open, which may not allow for charge to accumulate in the pixel. When the first signal 211 of the register 208 is set to low (and therefore second output 212 set to high), the first switch 202 may be open and the second switch 203 may be closed, when may allow for charge to accumulate in the pixel.\n    The output of the register 208 may be used as the input to a register 508 of the third pixel 507, which may be the pixel next to pixel 501. That is, the shutter pattern may propagate from the register in one pixel to the register in another pixel until all registers in the pixel array 500 hold shutter pattern values. For example there may be a connection 506 that connects a first signal output of a register 208 associated with pixel 501 to a control signal input of a register 508 associated with the pixel 507, which may be in the first row, second column of pixel array 500. A similar connection may exist between other pixels, where the previous pixel in a row may have a first output signal that connects to the control signal input of a register associated with the next pixel in the same row.\n    Pixel array 500 may be physically designed to fit on one layer of a die, or it may be designed to fit on multiple die layers. The components of pixel array 500 may be separated to allow for a denser fill factor. Fill factor may be the area of photodetectors divided by the total surface area of pixel array 500. When all components of a pixel (i.e. photodetector, switches, register, etc.) are on a single layer, the fill factor may be lower than when components of a pixel are on multiple layers. For example, only the photodiodes of pixel array 500 may be found on first layer (which may result in a higher fill factor), and the registers of pixel array 500 may be found on a second layer. The two-dimensional cross sectional area (along the plane of the photodetectors) may be smaller in the multi-layer configuration than in the single layer configuration. This may allow for a more compact sensor. Alternatively, this may allow for more photodetectors within a given footprint area. This three-dimensional design will be described next.\n     FIG. 6A depicts an example stacked architecture 600 of a sensor architecture. Stacked architecture 600 may have a smaller two-dimensional cross section than a non-stacked architecture and may be because the elements of the architecture can be packed in three dimensions. Stacked architecture 600 may be one example of a three dimensional (3D) stacking of two layers and may use analog pixels / photodetectors, such as CIS, QIS, or CCD. In some embodiments, there may be two layers in stacked architecture 600. In some embodiments, all layers may be found physically on in the same package. In another example embodiment, stacked architecture 600 may be for an analog-pixel using a photodiode.\n    Stacked architecture 600 may have a first die layer 601 and a second die layer 602. First die layer 601 may be stacked on second die layer 602. First die layer 601 may include a row select driver 603, a column readout 604, and a photodetector array 605. There may be connectors 617 connecting first die layer 601 to second die layer 602. In some embodiments, connectors 617 may be microbumps, micropillars, solder balls, or hybrid bonding between the two layers 601 and 602.\n    Photodetector array 605 may be an array of photodetectors physically located on first die layer 601. There may be a register array 613 on the second die layer 602 that, together with photodetector array 605, may be a pixel array such as the pixel array 500 of FIG. 5 .\n    Second die layer 602 may include a pattern generator 612, register array 613, ISP 615, and output 616. Between layers 601 and 602 there may be a connector array 617, which may form electrical connections between elements of layer 601 and layer 602.\n    Together, all elements in architecture 600 may form a more compact sensor compared to a single layer sensor architecture. By layering the elements on two or more layers, the photodetector array 605 may have a higher fill factor, which may allow for higher sensitivity photodetection. Further, this arrangement allows for the use of different process nodes for each layer of architecture 600, or the process nodes may be the same. While architecture 600 shows two stacked layers, there may be more stacked layers, which may be discussed in FIG. 7 .\n    Focusing into the inset, FIG. 6B is a pixel 606 that may be a pixel in in the pixel array that may be configured physically in two layers: one layer may be in photodetector array 605 and a second layer may be in register array 613. As shown in the inset, pixel 606 may include a row select line 607, a column readout 614, photodetector 608, a connector 610 a, a connector 610 b, a shutter pattern 609, and a register 614.\n    In some embodiments, pixel 606 may have some components on first die layer 601 and other components on second die layer 602. In an example embodiment, components of pixel 606 that may be found on first die layer 601 may include photodetector 608, row select line 607, column readout 614, and a top half of connector 610 a. Components of pixel 606 that may be found on second die layer 602 may include register 614, housing shutter pattern 609, and a bottom half of connector 610 b. Connectors 610 a and 610 b may be the top and bottom half of one connection of connectors 617 between two die layers 601 and 602. Similarly, connectors 617 may have top and bottom half connectors (not shown). In some embodiments, connectors 610 a and 610 b may be a microbump, micropillar, solder ball, hybrid bond, or any other form of connection that allows for electrical contact between physical die layers.\n     FIG. 7  depicts an architecture 700 with three stacked die layers. In an example embodiment, architecture 700 may use analog pixels / photodetectors, such as CIS, QIS, or CCD. FIG. 7  may include elements of FIG. 6A but some elements may be on different die layers.\n    There may be a first die layer 701 that may include a photodetector array 605, row select driver 603, and column readout 604. There may be a second layer 702 that may include a pattern generator 612 and register array 613. Finally, there may be a third layer 703 that may include an ISP 704, which may be ISP 615 of FIG. 6A.\n    There may be connectors 705 and 706 in architecture 700. Connector 705 may connect layer 701 and 702. Connector 706 may connect layer 702 and layer 703. Connectors 705 and 706 may be microbumps, micropillars, solder balls, hybrid bonding, or any other connection providing electrical contact.\n     FIGS. 6 and 7  show two- and three-layer options for analog pixels. There may be more die layers in alternate embodiments. Analog pixels may accumulate charge and the accumulated charge may be a voltage signal that may be converted into a digital signal (i.e. on or off, photodetection event occurred or did not occur). In additional to analog pixels, digital pixels may be used in a sensor. Digital pixels may include digital (on vs off, digital count) signals. For example, SPAD pixels may be used in a sensor. The following two figures show example digital pixel architectures with two and four layers. There may be a lot of similarity in operation and output, however, there may be some intermediary differences between sensor architectures for analog and digital pixels.\n     FIG. 8A depicts an example stacked architecture 800 that may use digital pixels, such as SPADs. Stacked architecture 800 may have two die layers, however, any number of layers may be used.\n    Stacked architecture 800 may have a first die layer 801 and a second die layer 802. First die layer 801 may be stacked on second die layer 802. First die layer 801 may include a bias generator 803 and a photodetector array 804. Bias generator 803 may generate different voltage or current references and may be used with photodetector array 804 for photodetection. There may be connectors 805 connecting first die layer 801 to second die layer 802. In some embodiments, there may microbumps, micropillars, solder balls, or hybrid bonding between the two layers 801 and 802, but any method for electrical connecting may be used.\n    Photodetector array 804 may be an array of photodetectors physically located on first die layer 801. There may be a register array 806 on the second die layer 802 that, together with photodetector array 804, may be part of a pixel array such as the pixel array 500 of FIG. 5 . There may also be a latch array 808 and memory array 809 on the second die layer 802 that may be part of a pixel array. These elements will be described at the unit level in FIG. 8B with the pixel 807.\n    Moving back to the stacked architecture 800, second die layer 802 may include a pattern generator 819, register array 806, latch array 808, memory array 809, row driver 820, and sense amplifier 821. Pattern generator 819 may generate a shutter pattern that may be loaded into register array 806. In another embodiment, pattern generator 819 may receive a shutter pattern and then load the received shutter pattern values into register array 806.\n    Latch array 808 may accumulate additional counts from photodetectors in photodetector array 804. Memory array 809 may store photodetection values from photodetectors in photodetector array 804. Row driver 820 may select rows in photodetector array 804 that may be read out. Sense amplifier 821 may read out values of photodetector array 804 when row driver 820 selects rows of photodetectors.\n    Together, all elements in architecture 800 may form a more compact sensor compared to a single layer sensor architecture having similar components. By layering the elements on two or more layers, the photodetector array 804 may have a higher fill factor, which may allow for higher sensitivity to photodetection. There may be different process nodes for each element in architecture 800, or the process nodes may be the same. While architecture 800 shows two stacked layers, there may be more stacked layers.\n    Focusing on FIG. 8B, a pixel 807 may be a pixel in in the pixel array that may be configured physically in two layers: on first die layer 801 there may be photodetectors 816 and on second die layer 802 there may be register 813 housing data for shutter pattern 814, latch / counter 812, row select 810, shutter control signal 815, sense amplifier line 811, and memory 817. In some embodiments, pixel 807 may have alternate arrangements of components on first die layer 801 and other components on second die layer 802. There may also be connectors 818A and 818B. Connector 818A may be for the top die layer and connector 818B may be for the bottom die layer. Connector 818A and connector 818B may form an electrical connection between the two die layers 801 and 802 for pixel 807. In some embodiments, connectors 818A and 818B may be a microbumps, micropillars, solder balls, hybrid bond, or any other form of connection that allows for electrical contact between physical die layers.\n    Photodetectors 816 may be, for example, a 2x2 configuration of SPADs, that is, pixel 807 may be a shared pixel. Shutter pattern 814 may be an input into register 813. Register 813 may receive a shutter pattern 814 and may output a shutter control signal 815 that may control the charge accumulation of the four photodetectors 816. There may be one or more control signals 815 for each photodetector in photodetectors 816. A memory 817 may store values from photodetectors 816. In an example embodiment, memory 817 may be SRAM, but it may be any type of memory. A row select 810 may select pixel 816 for reading out, and a sense amplifier line 811 may be a column readout and read out from memory 817.\n     FIG. 9  shows an example stacked architecture 900. Stacked architecture 900 may have the same elements of FIG. 8A but in a different configuration. As the shared elements may behave the same was as in FIG. 8A, they may not be described again in detail below. Stacked architecture 900 may be an example of a 3D stacking of four die layers and may use digital pixels / photodetectors, such as SPAD. In some embodiments, there may be four layers vertically stacked on each other. In other embodiments, some layers may be vertically stacked, while other layers may be adjacent in a horizontal location to the layer.\n    Stacked architecture 900 may have a first die layer 901. First die layer may include a photodetector array 804 and a bias generator 803. Photodetector array 804 may include photodetection elements capable of detecting wavelengths in the electromagnetic spectrum. In an example embodiment, photodetector array 804 may be able to detect visible light, however, other wavelength ranges may also be applicable in other embodiments. Bias generator 803 may be used to generate different voltage or current references for photodetectors in photodetector array 804.Bias generator 803 may also be found on a second die layer 902 or a third die layer 903, but it may be found on other die layers.\n    Stacked architecture 900 may have a second die layer 902. There may be connectors 907 electrically connecting first die layer 901 and second die layer 902. Second die layer 902 may include a pattern generator 819 and register array 806. Pattern generator 819 may generate a shutter pattern or it may receive a pre-loaded shutter pattern. Pattern generator 819 may send the shutter pattern to register array 806, which may use this information to enable or disable charge accumulation / photodetection in photodetector array 804.\n    There may be a third die layer 903. There may be connectors 910 electrically connecting second die layer 902 and third die layer 903. Third die layer 903 may include a memory array 809, a latch array 808, and a row driver 820. Memory array 809 may store values from photodetector array 804. Latch array 808 may accumulate additional counts from photodetector array 804. Row driver 820 may select rows of photodetector array 804 for reading out.\n    There may be a fourth die layer 904. There may be connectors 914 electrically connecting third die layer 903 and fourth die layer 904. Fourth die layer 904 may include a sense amplifier 821 and an ISP 916. Sense amplifier 821 may be used in conjunction with row driver 820 to read out values from memory array 809. ISP 916 may be used for processing the read out values of in memory array 809.\n    The above example embodiments in FIGS. 6-9  may use pattern generators to either generate or load a shutter pattern. This shutter pattern may be an electrical shutter. In some embodiments, an optical mask can be used in place of or combined with an electrical shutter. FIG. 10  depicts an example architecture 1000 combined optical mask with an electrical shutter pattern. There may be an optical mask 1001 on top of sensor architecture 1002. Optical mask 1001 may be a liquid crystal, but may be any other type of mask that can block photodetection. For example, optical mask 1001 may have an array of MEMS actuators to precisely control the passing or blocking of light onto each photodetector in a photodetector array.\n    When performing imaging, both the optical mask 1001 and the digital shutter pattern (not shown) of sensor architecture 1002 may be used, or one of the two may be disabled while the other is used.\n    The above example embodiments in FIGS. 6-10  may all generate a shutter pattern to be used for imaging. FIG. 11  depicts a process 1100 for shutter generation.\n    Process 1101 may be determining shutter pattern type. As described previously, there may be spatial, temporal, spatial-temporal, or a combined optical mask and electrical shutter pattern options. In the combined optical mask and electrical shutter pattern options, the optical mask portion may be able to use the spatial compression option and the electrical shutter pattern portion can be any type (including being disabled).\n    Process 1102 may generate the shutter pattern chosen in step 1101. The shutter pattern may be generated on chip or off chip, that is, it may be generated online or preloaded for use. On chip shutter generation may be done with a pseudo-random number generator. Off chip shutter generation may be done by a computer and then loaded into a memory on chip.\n    Process 1103 may be to transmit the shutter pattern generated from process 1102. Transmitting a shutter pattern may be sent from a pattern generator to a register array. The register array may propagate the shutter pattern sequentially or in any order. For example, in the first row, the shutter pattern may be received by the first register and then the pattern may propagate to the second, third, and subsequent registers in the row until all registers are loaded with a shutter pattern. In an example embodiment, if there are four columns of registers, it may take four clock cycles for a shutter pattern to be fully loaded into a register array.\n    Process 1104 may be to apply the loaded shutter pattern onto a photodetector array. Shutter pattern values may be binary (1 or 0) and may enable or disable charge accumulation in a photodetector. In some embodiments, there may be one shutter pattern value per photodetector. In other embodiments, there may be one shutter value pattern shared between two or more photodetectors.\n    Process 1105 may be to check for a new shutter pattern to be generated. A new shutter pattern may be generated as often as once per clock cycle, but it may be slower, such as once per two clock cycles or more. If there is no change to the new shutter pattern, the same shutter pattern may remain or the shutter pattern that was applied to the register array may be cleared, that is, all photodetectors may be used for imaging. If there is a change to the new shutter pattern, process 1105 may loop back to process 1102.\n    The result of process 1100 may lead to reading out of photodetector values from a photodetector array. As described previously, a row select may select rows for reading out, and a column readout may readout selected rows for each column. An ISP may process the read out data and perform decompression or other image processing tasks.\n    As described previously, registers may share control signal values with multiple photodetectors. FIG. 12  depicts an alternate embodiment where photodetectors may share a register.\n    There may be a pixel array 1200. In the example of FIG. 12 , pixel array 1200 may be a 4 x 4 array of pixels. Pixel array 1200 may have a shared register configuration.\n    Shift register 1201, for example, may send one control signal to a switch set 1202. Switch set 1202 be switches configured to enable or disable charge accumulate for a photodetector set 1203. Photodetector set 1203 may be four photodetectors. Shift register 1201 may be found on a lower die layer, such as second die layer 602 of FIG. 6A. Photodetector set 1203 and switch set 1202 may be found on a higher die layer, such as first die layer 601 of FIG. 6A. Together, this configuration may enable easier routing in three dimensions as the configuration may be more compact than if all elements were found on a single die layer. Other combinations of elements may exist, such as shift register 1201 and switch set 1202 being on one a lower die layer and photodetector set 1203 being on a higher die layer.\n    Pixel array 1200 may be used when a spatial-temporal compression option is used. For example, there may be four 2x2 pixel subsets 1204, 1205, 1206, and 1207. During the spatial part of a spatial-temporal compression, each 2x2 subset may result in one output value. Shift register 1201 may be able to send one value to one of the four registers in each pixel subset 1204-1207. Similarly, there may be three other registers (not shown) per pixel subset 1204-1207 to send shutter values to the associated switches that may control charge accumulation in the other photodetectors in each pixel subset 1204-1207.\n    Embodiments of the subject matter and the operations described in this specification may be implemented in digital electronic circuitry, or in computer software, firmware, or hardware, including the structures disclosed in this specification and their structural equivalents, or in combinations of one or more of them. Embodiments of the subject matter described in this specification may be implemented as one or more computer programs, i.e., one or more modules of computer-program instructions, encoded on computer-storage medium for execution by, or to control the operation of data-processing apparatus. Alternatively or additionally, the program instructions can be encoded on an artificially-generated propagated signal, e.g., a machine-generated electrical, optical, or electromagnetic signal, which is generated to encode information for transmission to suitable receiver apparatus for execution by a data processing apparatus. A computer-storage medium can be, or be included in, a computer-readable storage device, a computer-readable storage substrate, a random or serial-access memory array or device, or a combination thereof. Moreover, while a computer-storage medium is not a propagated signal, a computer-storage medium may be a source or destination of computer-program instructions encoded in an artificially-generated propagated signal. The computer-storage medium can also be, or be included in, one or more separate physical components or media (e.g., multiple CDs, disks, or other storage devices). Additionally, the operations described in this specification may be implemented as operations performed by a data-processing apparatus on data stored on one or more computer-readable storage devices or received from other sources.\n    While this specification may contain many specific implementation details, the implementation details should not be construed as limitations on the scope of any claimed subject matter, but rather be construed as descriptions of features specific to particular embodiments. Certain features that are described in this specification in the context of separate embodiments may also be implemented in combination in a single embodiment. Conversely, various features that are described in the context of a single embodiment may also be implemented in multiple embodiments separately or in any suitable subcombination. Moreover, although features may be described above as acting in certain combinations and even initially claimed as such, one or more features from a claimed combination may in some cases be excised from the combination, and the claimed combination may be directed to a subcombination or variation of a subcombination.\n    Similarly, while operations are depicted in the drawings in a particular order, this should not be understood as requiring that such operations be performed in the particular order shown or in sequential order, or that all illustrated operations be performed, to achieve desirable results. In certain circumstances, multitasking and parallel processing may be advantageous. Moreover, the separation of various system components in the embodiments described above should not be understood as requiring such separation in all embodiments, and it should be understood that the described program components and systems can generally be integrated together in a single software product or packaged into multiple software products.\n    Thus, particular embodiments of the subject matter have been described herein. Other embodiments are within the scope of the following claims. In some cases, the actions set forth in the claims may be performed in a different order and still achieve desirable results. Additionally, the processes depicted in the accompanying figures do not necessarily require the particular order shown, or sequential order, to achieve desirable results. In certain implementations, multitasking and parallel processing may be advantageous.\n    As will be recognized by those skilled in the art, the innovative concepts described herein may be modified and varied over a wide range of applications. Accordingly, the scope of claimed subject matter should not be limited to any of the specific exemplary teachings discussed above, but is instead defined by the following claims.\n    Embodiments of the inventive concept may extend to the following statements, without limitation:\n    Statement 1: A sensor, comprising: a photodetector array located on a first die layer, a register array located on a second die layer, a row select driver, a column readout, a pattern generator, an image signal processor, wherein the first die layer is stacked on the second die layer.\n    Statement 2: The sensor of statement 1, wherein the photodetector array comprises at least one of a photodiode, SPAD, CIS, QIS, or CCD.\n    Statement 3: The sensor of statement 1, wherein the row select driver is located on the first die layer.\n    Statement 4: The sensor of statement 1, wherein the column readout is located on the first die layer.\n    Statement 5: The sensor of statement 1, wherein the pattern generator is located on the second die layer.\n    Statement 6: The sensor of statement 1, wherein the image signal processor is located on the second die layer.\n    Statement 7: The sensor of statement 1, wherein at least one register in the register array outputs one control signal to one photodetector in the photodetector array.\n    Statement 8: The sensor of statement 1, wherein at least one register in the register array outputs one control signal to two or more photodetectors in the photodetector array.\n    Statement 9: The sensor of statement 1, wherein the sensor further comprises an optical mask that is located vertically above the first die layer.\n    Statement 10: The sensor of statement 1, wherein the sensor further comprises a third layer and has at least one of a pattern generator, register array, image signal processor, or memory located on the third layer.\n    Statement 11: The sensor of statement 1, wherein the first die layer and the second die layer are electrically connected with microbumps, micropillars, solder balls or hybrid bonding.\n    Statement 12: A method for imaging, comprising: generating a shutter pattern on a first die layer, sending the shutter pattern to a register array on the first die layer, outputting control signal values from the register array to switches in a photodetector array on a second die layer, enabling charge accumulation in photodetectors in the photodetector array when the control signal values are set to enable, disabling charge accumulation in photodetectors in the photodetector array when the control signal value are set to disable, and reading out the accumulated charge values on the first die layer.\n    Statement 13: The method of statement 12, wherein the enabled charge accumulation is stored in a first memory on the first die layer.\n    Statement 14: The method of statement 12, wherein the reading out of the accumulated charge values on the first die layer further comprises selecting at least one row of a photodetector array and sending the values of the selected at least one row to a column readout on the second die layer.\n    Statement 15: The method of statement 12, wherein sending the shutter pattern to the register array on the first die layer further comprises: receiving part of the shutter pattern in a first register associated with a first pixel during a first clock cycle, and sending the part of the shutter pattern from the first register to a second register associated with a second pixel during a second clock cycle.\n    Statement 16: The method of statement 15, wherein the speed of the clock cycle may be the product of a compression ratio and a frame rate.\n    Statement 17: A sensor, comprising: a photodetector array on a first die layer, a register array on a second die layer, a memory array, an image signal processor, a row driver, a pattern generator, and a column readout, wherein the first die layer and second die layer are vertically stacked.\n    Statement 18: The sensor of statement 17, wherein the memory array is on the second die layer or a third die layer.\n    Statement 19: The sensor of statement 17, wherein the image signal processor is on the second die layer, third die layer, or a fourth die layer.\n    Statement 20: The sensor of statement 17, wherein the pattern generator is on the second die layer or third die layer.\n    Statement 21: The sensor of statement 17, wherein the sensor further comprises a memory array and a latch array that are on the second die layer, third die layer, or fourth die layer.\n    Statement 22: The sensor of statement 17, wherein the first die layer and the second die layer are electrically connected with microbumps, micropillars, solder balls or hybrid bonding.\n    \n  \n    What is claimed is:\n    \n       1. A sensor, comprising:\na photodetector array located on a first die layer, a register array located on a second die layer, a row select driver, a column readout, a pattern generator, and an image signal processor, wherein the first die layer is stacked on the second die layer. \n    \n    \n       2. The sensor of claim 1, wherein the photodetector array comprises at least one of a photodiode, SPAD, CIS, QIS, or CCD.\n    \n    \n       3. The sensor of claim 1, wherein the row select driver is located on the first die layer.\n    \n    \n       4. The sensor of claim 1, wherein the column readout is located on the first die layer.\n    \n    \n       5. The sensor of claim 1, wherein the pattern generator is located on the second die layer.\n    \n    \n       6. The sensor of claim 1, wherein the image signal processor is located on the second die layer.\n    \n    \n       7. The sensor of claim 1, wherein at least one register in the register array outputs one control signal to one photodetector in the photodetector array.\n    \n    \n       8. The sensor of claim 1, wherein at least one register in the register array outputs one control signal to two or more photodetectors in the photodetector array.\n    \n    \n       9. The sensor of claim 1, wherein the sensor further comprises an optical mask that is located vertically above the first die layer.\n    \n    \n       10. The sensor of claim 1, wherein the sensor further comprises a third layer and has at least one of a pattern generator, register array, image signal processor, or memory located on the third layer.\n    \n    \n       11. The sensor of claim 1, wherein the first die layer and the second die layer are electrically connected with microbumps, micropillars, solder balls or hybrid bonding.\n    \n    \n       12. A method for imaging, comprising:\ngenerating a shutter pattern on a first die layer, sending the shutter pattern to a register array on the first die layer, outputting control signal values from the register array to switches in a photodetector array on a second die layer, enabling charge accumulation in photodetectors in the photodetector array when the control signal values are set to enable, disabling charge accumulation in photodetectors in the photodetector array when the control signal value are set to disable, and reading out the accumulated charge values on the first die layer. \n    \n    \n       13. The method of claim 12, wherein the enabled charge accumulation is stored in a first memory on the first die layer.\n    \n    \n       14. The method of claim 12, wherein the reading out of the accumulated charge values on the first die layer further comprises selecting at least one row of a photodetector array and sending the values of the selected at least one row to a column readout on the second die layer.\n    \n    \n       15. The method of claim 12, wherein sending the shutter pattern to the register array on the first die layer further comprises:\nreceiving part of the shutter pattern in a first register associated with a first pixel during a first clock cycle, and sending the part of the shutter pattern from the first register to a second register associated with a second pixel during a second clock cycle. \n    \n    \n       16. The method of claim 15, wherein the speed of the clock cycle may be the product of a compression ratio and a frame rate.\n    \n    \n       17. A sensor, comprising:\na photodetector array on a first die layer, a register array on a second die layer, a memory array, an image signal processor, a row driver, a pattern generator, and a column readout, wherein the first die layer and second die layer are vertically stacked. \n    \n    \n       18. The sensor of claim 17, wherein the memory array is on the second die layer or a third die layer.\n    \n    \n       19. The sensor of claim 17, wherein the image signal processor is on the second die layer, third die layer, or a fourth die layer.\n    \n    \n       20. The sensor of claim 17, wherein the pattern generator is on the second die layer or third die layer.\n    \n    \n       21. The sensor of claim 17, wherein the sensor further comprises a memory array and a latch array that are on the second die layer, third die layer, or fourth die layer.\n    \n    \n       22. The sensor of claim 17, wherein the first die layer and the second die layer are electrically connected with microbumps, micropillars, solder balls or hybrid bonding.\n    \n  "}
{"text":"Tissue fluid measurement device\n\nABSTRACT\n\nA method for determining a change in cell volume with a sensor device having four electrodes. The method comprises the following steps: ⋅applying a current with a known cycle of different known frequencies in time series on an outer pair of electrodes; measuring a resulting variating potential over an inner pair of electrodes; ⋅calculating a total impedance absolute value from said measured potential; ⋅storing each total impedance against frequency value in a memory; ⋅reading a frequency value belonging to at least one impedance value of a subsequent cycle; ⋅reading a frequency value belonging to the same at least one impedance value of a previous cycle; ⋅comparing said frequency values and determining a difference between the frequency values; and ⋅providing a time series of differences in frequency across said time series, an increasing frequency difference across said time series indicating a relative increase or decrease of cell volume.\n    \n    TECHNICAL FIELD\n    The present invention relates to a method and a device for measuring tissue fluid, especially non-invasive measurement of human tissue impedance. The device is particularly suitable for determining hydration level of a person, but it may also be used to observe disease processes included in the Renin-agiotensin-aldosterone system such as: inflammatory processes (obesity, rheumatic disorders, osteoarthritis, cancer, stroke and heart attack, rhabdomyolysis), hypertension and atheriosclerosis, diabetes and pancreatic disease, liver disease and pancreas. The apparatus can be used as a tissue fluid monitoring device, a body fluid measurement device or a device for monitoring fluid volume and tonicity.\n    BACKGROUND ART\n    A huge range of body impedance measurement devices are known in the art, ranging from devices to measure full body impedance to determine muscle/fat ratio to measurement of skin impedance in order to determine hydration level.\n    There are three principle ways of measuring resistance and reactance measurements (often referred to as bioimpedance measurements):\n    single frequency bioimpedance (SFBI), bioimpedance spectroscopy (BIS) which uses a number of discrete frequencies identical to multi frequency bioimpedance (MFBI), and bioimpedance vector analysis (BIVA).   \n\n    All these techniques base their measurements on Cole-Cole or Nyquist plots, then transform the measurements through algorithms into total body volume of water (TBW) and extracellular volume (ECV), and finally use these to calculate intracellular volume (ICV). Whole body bioimpedance measurements can then provide a body analysis beyond hydration. Series of publications and review articles all have shown that bioimpedance measurements processed as described above can both overestimate and underestimate hydration with significant margins of error. Furthermore, different diseases and disease states results in even larger errors and thus very low specificity.\n    Only a few products utilize the time-resolved changes to improve their calculation, and none of the prior art devices consider changes in cell size. Since ICV is a subtraction of ECW (Extra Cellular Water) from TBW, and TBW calculation is very error prone, the ICV calculation is equally hampered by a number of confounding factors.\n    Some examples of prior art references are:\n    WO02016030869A1, which describes a four-probe impedance skin measurements over various frequencies. The reference claims that intra and extra cellular contributions are decorrelated by the measurements.\n    US20170172484A1, which also related to skin measurements using several frequencies.\n    US20180168459A1, which related to skin measurements using one or more frequencies between 100 Hz and 1 MHz. The reference claims that a distinction can be made between intra and extra cellular water contents.\n    WO2016005915A3, which also describes skin measurements, using at least two frequencies. This reference also claims that a precise distinction can be made between extra and intra cellular water. The loss of hydration can be determined by a relationship between these two.\n    U.S. Pat. No. 10,610,111, which also relates to skin measurements using a wide range of frequencies.\n    U.S. Pat. No. 10,531,842, which also describes determination of intra and extra cellular water. In the method of this reference the well-known Cole-Cole model is used.\n    The “ESPEN guideline on clinical nutrition and hydration in geriatrics” of 2018 (available from Elsevier.com or https://www.clinicalnutritionjournal.com/article/S0261-5614(18)30210-3/fulltext) lists 82 recommendations for clinical nutrition and hydration in older persons to prevent malnutrition and dehydration. Recommendation 64 is that all older persons should be screened for low-intake dehydration when they contact the health care system. Raised serum osmolality (higher concentration of chemicals such as sodium, chloride, bicarbonate, proteins, and glucose due to dehydration) may double the risk of mortality.\n    Another recommendation is to directly measure serum or plasma osmolality to identify dehydration. This is, however, a time-consuming procedure that can be done only with certain time intervals. It cannot detect rapid changes in hydration level.\n    In recommendation 69, the guidelines, however, discourages the use of bioelectrical impedance to assess hydration status, as this “has not been shown to be usefully diagnostic”. The guidelines refer in this respect to a Cochrane review, “Clinical symptoms, signs and tests for identification of impending and current water-loss dehydration in older people”, of 2015 (available from Cochrane Library—https://www.cochranelibrary.com/cdsr/doi/10.1002/14651858.CD009647.pub2/full). The Cochrane review analyzed 67 tests, including bioelectrical impedance measurements. The review found no evidence of the utility of bioelectric impedance in assessment of hydration in older persons.\n    Although the above prior art examples of bioelectric impedance measurement methods all claim to be able to determine dehydration, or hyperhydration, with accuracy, the ESPEN guideline and the Cochrane review show that it is not that simple. The signal to noise level is very high for these measurements, especially in the high frequency range, around 500 kHz or above. This means that, in practical use, none of the methods described above are able to determine the ratio between intra and extra cellular water with a high enough accuracy to be used to safely monitor patient hydration level.\n    Conventional noise reduction requires sophisticated and bulky electronics and large computational power. This means that the sensor device attached to the skin must be coupled to an external module. Hence, the total arrangement will be bulky. This means that the patient needs to be largely immobile while being monitored. It also means that the device will be expensive and has to be moved between patients to defend the costs.\n    SUMMARY OF INVENTION\n    The present invention therefore has as its main objective to increase the accuracy of the hydration level determination sufficiently for the method to be useful in monitoring of hydration level of patients.\n    It is also an objective to provide for a sensor device that can fit in a patch to be attached to the skin of a patient without the need of being constantly coupled to an external device, and which can be single use.\n    This is achieved by a method for determining a change in cell volume with a sensor device having four electrodes; applying a current with a known cycle of different known frequencies in time series on an outer pair of said electrodes; measuring a resulting variating potential over an inner pair of said electrodes; wherein said method further comprising: calculating a total impedance absolute value according to per se known methods from said measured potential at each frequency in said time series; storing each total impedance against frequency value for said time series of cycles in a memory, such as a random access memory or non-volatile memory; reading a frequency value belonging to at least one impedance value of a subsequent cycle; reading a frequency value belonging to the same at least one impedance value of a previous cycle; comparing said frequency values and determining a difference between the frequency values; and providing a time series of differences in frequency across said time series, an increasing frequency difference across said time series indicating a relative increase or decrease of cell volume.\n    A better estimate can be achieved by reading respective frequencies belonging to a plurality of impedance values of a previous and subsequent cycle, determining differences between each frequency value for the same impedance value, and calculating an average difference between frequency values of said previous and subsequent cycles.\n    Extra cellular bio impedance and intra cellular bio impedance can then be determined from a Cole-Cole plot.\n    By curve-fitting the measured variating potential over the cycle of frequencies to an empirical data model through a per se known numerical method of curve-fitting, such as the least mean squares technique, where parameters to be used to determine a change of cell volume are extracted from said empirical model, said empirical model being the following approximation:\n    \n      \n    where |Z(f)| is the absolute value (magnitude) of the impedance, γ is a slope parameter derived from the steepness of a magnitude plot determined as an empirical value from a large set of measurements, RE is extra cellular resistance, RI is intracellular resistance, RT is the total resistance, f is the frequency, and α is a frequency dependent factor of the cell volume, and determining a change in cell volume, the change in cell volume being according to the following relationship:\n    \n      \n    a sufficiently accurate estimate of cell volume can be achieved without the need for considerable computational power.\n    To eliminate or reduce the impact of measurement errors the measured potential over the frequency cycle is compared with an upper boundary curve and a lower boundary curve, where the boundary curves are determined such that the measured impedance on a higher frequency is allowed to be within A%, typically 90%, to B%, typically 101% ,of the closest lower frequency and that a series of potential measurements over the cycle of frequencies is rejected if any of the measurements fall outside on or both said boundary curves.\n    An empirical data model can be achieved or improved by using precise reference measurement with a high-quality instrument.\n    The slope parameter can also conveniently be determined by use of said precise reference measurements.\n    Noise can be reduced by passing a true signal from a signal and noise mix resulting from the measured potential through a Fourier transform for each of said known frequencies, using the following formula:\n      ŝ=(s+n)\n    where ŝ is an estimate of the signal without noise, s is the pure signal and n is the noise.\n    The features of the present invention enables implementation of the electrodes and a processor capable of calculating an estimate of cell volume change using the empirical data model into a patch to be adhered to the skin of a patient and still achieve sufficient accuracy of the results.\n    The results are used to determine underhydration and overhydration by comparing the calculated estimate of cell volume change and total impedance absolute value change to threshold values and when any of the cell volume change and/or the total impedance value change exceeds said threshold values, send an alert indicating underhydration or overhydration to a receiver unit. Thereby a simple and convenient instrument for monitoring of a patient is achieved.\n    As a further improvement a change in either extra cellular bio impedance or intra cellular bio impedance can be monitored. Thereby an even more precise monitoring of the patient can be achieved.\n    \n    \n    \n      BRIEF DESCRIPTION OF DRAWINGS\n      The present invention will now be explained in connection with exemplary embodiments illustrated by the accompanying drawings, in which:\n       FIG. 1  illustrates schematically the principles of the sensor of the present invention,\n       FIG. 2  shows a flowchart illustrating the method of the present invention according to a preferred embodiment,\n       FIG. 3  shows an example of a signal that has been run through Fourier transform to estimate the true signal and hence also the noise,\n       FIG. 4  shows the impedance curve as a function of frequency, as well as the set boundaries for the curve,\n       FIG. 5  shows a circuit diagram illustrating the bioimpedance of a single cell,\n       FIG. 6  shows a Cole-Cole plot of reactance versus resistance for a single cell,\n       FIG. 7  is a plot of the absolute value of the bioimpedance of a single cell versus frequency,\n       FIG. 8  illustrates different impedance versus frequency plots, similar to the single curve in FIG. 7 , with different slope parameters,\n       FIG. 9  shows a plot of three different frequency cycles of bioimpedance versus frequency where the cell volume has changed between the cycles,\n       FIG. 10  shows the curves of FIG. 9  after the end points having been merged to eliminate shifts along the Y-axis,\n       FIG. 11  shows a plot similar to FIG. 8  but with two different types of tissue,\n       FIG. 12  shows the results of an experiment on a patient, where cell volume is plotted against time, and\n       FIG. 13  shows the results of a second experiment on a patient.\n    \n    \n    \n    DETAILED DESCRIPTION OF THE INVENTION\n    The method of the present invention applies a 4-electrode sensor device. 4-electrode sensors are considered the most accurate and versatile devices for body impedance measurements.\n    Although the function of such 4-electrode devices is well-known in the art (it was invented already in 1861 by Lord Kelvin), it will be briefly explained, referring to FIG. 1 , which illustrates the principle. The sensor device 1 comprises four electrodes 2, 3, 4, 5, which are attached to a base and adapted to be placed in close contact with the skin 6 of the patient.\n    A constant current I(f) with a known frequency f is applied on the outer electrodes 2, 5, as illustrated by the tildes above the electrodes in FIG. 1 . This will give a potential difference between the outer electrodes 2, 5 and between the inner electrodes 3, 4. Both potential differences are used by the patch. The potential difference between the outer electrodes is used to determine if the patch has good connection with the skin. The inner electrodes 3, 4 potential is measured by voltmeter 8, preferably with a high impedance variable voltage gain amplifier. As it is high impedance no current will flow through the inner electrodes and thus the potential difference, U(f), that is measured is due to the impedance in the tissue 9 and cells 7. The bio impedance is given as:\n    \n      \n    where Z(f) is the impedance, U(f) is the measured voltage between the two inner electrodes 3, 4 and I(f) is the current applied to the two outer electrode 2, 5.\n    So far, the method is conventional and theoretically very simple.\n    To avoid false measurements several quality checks of the signal is put into action, the flowchart for the measurement system is given in FIG. 2 .\n    In the first step 20, the bio impedance Z(f) is measured according to the conventional method described above. A sinewave current with a known frequency and a duration of a few milliseconds is applied to the outer electrodes 2, 5. The resulting voltage signal measured by the voltmeter 8, amplified by a variable gain amplifier and digitized by an analog to digital converter (not shown). Subsequently, the results are analyzed by an embedded microcontroller (not shown). About 20 different frequencies may be applied to make up a complete measurement cycle. These measurement cycles are repeated and the interval between the cycles are typically between a few seconds to minutes and may be adaptive. The frequencies used for measurement are typically but not limited to 1 kHz to 500 kHz.\n    The sensor device is preferably embedded in a patch (not shown) that can be attached by an adhesive to a suitable location on the patient skin, such as between the shoulder blades. To ensure that the electrodes have good connection with the skin of the patient, the voltage potential across the two outer electrodes 2, 5 is measured at one or more frequencies. This potential is used to check for good skin connection (as illustrated by item 21).\n    If the potential difference between the two outer electrodes 2, 5 is outside a predetermined threshold the measurement cycle is discarded, as shown by item 22.\n    If several cycles in sequence are discarded, an alarm may be issued for a caretaker to check the patch.\n    Accepted signals are digitized and as the frequency of the signal is known, an estimate of the signal can be found by using Fourier transform. The measured signal, s+n (s=signal, n=noise), has both the wanted signal s, and noise n, which comes from the body itself and the measurement system. An estimate of the signal is found by Fourier transform.\n    As is well-known in the art, Fourier transform done by the following formula:\n      ŝ=(s+n)\n    where ŝ is an estimate of the signal without noise, s is the pure signal and n is the noise.\n    Since Fourier transform is a filtering function the estimated signal will always be smaller than the original signal.\n    \n      \n      \n      ŝ≤s+n \n      \n    \n     FIG. 3  shows an example of a Fourier transformation. The upper graph shows a measured signal, which contains a mixture of the desired signal and noise. As can be seen, the measured signal is a rough sinus curve with irregular ripples transposed thereon. The middle graph shows the estimated signal after a Fourier transformation. In this case the estimated signal is a clean and even sinus curve. The lower graph shows the estimated noise, which is the remainder of the measured signal after the estimated signal has been removed, i.e. the noise can be estimated by the following equation:\n    \n      \n      \n      {circumflex over (n)}=s+n−ŝ\n      \n    \n    where\n     {circumflex over (n)}≥0\n\n    If the noise level is above a certain threshold the measurement cycle is rejected (see items 23 and 24 in FIG. 2 ). This is done even if the signal to noise ratio may be good, because there may be strong noise close to the measurement frequency and this noise will cause false interpretation of the signal estimate. If the noise is low the estimated signal is close to the real signal and it is possible to set\n     ŝ≈s\n\n    The threshold for setting the acceptable noise level may be fixed, adaptive or both. An adaptive threshold may be achieved by using the best measurements to determine a noise floor. The adaptive threshold may be a certain level above this floor, such 3-12 dB higher.\n    The next step in the analysis is assessing the curve shape of measured impedance (i.e. estimated signal) v. frequency (frequencies applied to the outer electrodes 2, 5). An exemplary curve is shown in FIG. 4 . The impedance will always fall with increasing frequency. The measured curve (after Fourier transformation) is shown as the middle curve 17. As shown, the impedance as a function of frequency has a distinct curve form where the impedance falls with increasing frequency. The method of the invention therefore includes a step 25 applying a function that creates dynamic boundaries that the curve must stay within. These boundaries are shown as the lower curve 17 a and the upper curve 17 b. If several measurements making up the curve 17 are outside these boundaries, the measurement cycle is rejected (see items 25, 26 in FIG. 2 ).\n    The lower boundary 17 a can conveniently be determined by allowing the impedance to fall a maximum value from one frequency to the next higher frequency, such as 5-20% of the previous lower frequency.\n    The upper boundary 17 b can be determined by allowing the impedance only to increase slightly from the previous lower to the next higher frequency, such as 1-2% increase between the lower and the higher frequency.\n    The boundaries 17 a, 17 b are determined based on experience data and may be updated as new data sets are retrieved. The same applies for the threshold of how much of the curve 17 that may lie outside the boundaries before it is rejected.\n    In the next step (see item 27 in FIG. 2 ) of the method of the invention, the measured curves Z(f) are curve-fitted to the proprietary data model used in the present invention through a least mean squares (LMS) model. If the error is above a threshold the measurement cycle is discarded as illustrated by items 28 and 29 in FIG. 2 . The data-model is created by using precise reference measurements with high quality instruments, such as Zurich Instruments MFIA 50 okHz/5 MHz Impedance Analyzer or ScioSpec ISX3 Electrical Impedance Spectroscopy.\n    In the final step (see item 30 in FIG. 2 ), four values are extracted from every measurement cycle; the extra cellular bio impedance, the intra cellular bio impedance, a parameter used for calculation of cell volume and the slope parameter.\n    Now the method of obtaining the cell volume will be explained.\n     FIG. 5  shows a textbook representation of the bio impedance Z of a single cell. RE represents the extra cellular resistance, RI represents the intracellular resistance and CI represents the cell membrane capacitance.\n    By solving the following equation:\n    \n      \n    where Z(w) is the total impedance of a single cell as a function of angular frequency and iw is the imaginary angular frequency, and then splitting the equation in resistance and reactance and introduce some variable substitution to simplify equation, the result is:\n    \n      \n    where α0 is a frequency dependent factor of the single cell volume, f is the frequency, RT is the total resistance, defined as:\n    \n      \n    and the frequency dependent variable α0 is:\n    \n      \n    and Z(f)=R+iX\n    where R is Resistance and X is Reactance.\n    This is what prior art bioimpedance instruments measure, and the result may be shown as a Cole-Cole plot (aka Nyquist plot), as the example shown in FIG. 6 , where the Resistance and Reactance are shown in the same diagram.\n    Important properties of this diagram are that at zero (i.e. below approximately 1 kHz) frequency the extracellular resistance can be read out of the diagram as RE=Z(0). and at infinite frequency (i.e. above approximately 1 MHz) the total resistance can be read out as RT=Z(∞).\n    The sensor device to be used for performing the present invention cannot measure phase but it can measure the magnitude, which is given as:\n     |Z(f)|=√{square root over (Resistance2+Reactance2)}\n\n    which when the parameters are inserted, reads as follows:\n    \n      \n    where |Z(f)| is the absolute value (magnitude) of the impedance.\n    Plotting the magnitude of the above equation results in the graph of FIG. 7 .\n    To be able to extract the three unknowns of the above equation, a, RE, RT, the minimum requirement is to measure the impedance at three different frequencies. But this is true only for a single cell. Also, if these three variables are extracted, the resistance and reactance can be reconstructed.\n    Since there are a huge number of cells within the measured part of the skin, with different sizes, the resulting equations will be very complex, if all aspects are to be taken into account.\n    It is however an object of the present invention to implement the method into a device that is battery operated and has limited computational power. Thus a simple and good approximation needs to be developed. It has been found that the following equation will give a good approximation:\n    \n      \n    where γ is the slope parameter, i.e. the steepness of the magnitude plot. The value is an empirical value chosen from a large set of measurements. Measurements are done at the same place on the body on a large number of different patients. The location of musculus trapezius has been found to be a good place to make measurements, as this will provide consistent results. An example of plots with different slope parameters is shown in FIG. 8 , where the steepest plot has a slope parameter of 2,0 and the least steep plot has a slope parameter of 1,0.\n    If the graph of FIG. 7  shifts along the X axis (see double arrow A) this indicates a change in cell volume, i.e. a shift to the left means that a gets larger and indicates a larger cell volume. A shift to the right indicates that a gets smaller and the cell volume is reduced. When there is a change in cell volume it is likely that the bio-impedances RE and RT change as well, which is seen by a shift along the Y axis, as indicated by the double arrow B. Thus, the correct cell volume will not be estimated from α alone but a combination of the three extracted parameters:\n     Cell_volume=function_of(α,R E ,R T)\n\n    One example of this may be expressed as follows:\n    \n      \n    The valitidy of the model was tested. 93 sensors on a group of volunteers and the adjusted “Coefficient_of_determination”, (R squared) was used to validate the mode as illustrated in FIG. 8 a . The adjusted R squared (R2) is used as it take into account the number of fitting parameters. Ref: https://en.wikipedia.org/wiki/Coefficient of determination\n    A latter version of the sensor device is capable of measure resistance, reactance and phase information thus a model can be constructed based on the impedance model.\n    A complex model may be found based on the following:\n    From paragraph [0058]   \n\n    \n       \n        \n          \n            From paragraph [0060]\n          \n        \n      \n    \n      Z(f)=R+iX  \n    This gives the general behaviour of the ideal single cell model, in particular it shows the expresiions of the resistance and reactance separated.\n    From paragraph [0070], with many cells the model is given as   \n\n    \n      \n    For sake of principle and simplification of the equations set:\n    \n      \n    Introducing resistance and reactance\n    \n      \n    And separate the resistance and reactance\n    \n      \n    Hence by introducing another variable, φ, a complex model with resistance, reactance and phase is developed. The variable φ is found by curve fitting the resistance against the measured resistance values as illustrated in FIG. 8 b , where Imaginary impedance corresponds to the reactance.\n     FIG. 9  illustrates a plot of three different frequency cycles of bioimpedance versus frequency. As is evident, the curve shifts both along the X and Y axis between the frequency cycles. As explained in connection with FIG. 7 , this is an indication of a change in both cell volume and impedance between the cycles.\n    In FIG. 10  the end points of the three curves in FIG. 9  have been merged, i.e. the change in bioimpedance has been suppressed. By doing this the shift of the curve along the X axis becomes clearer, and it is easier to determine that a change in cell volume has occurred.\n    If there are two distinct cell types the curve form may have the shape shown in FIG. 11 .\n    If there are more than one cell type, the resulting value is just the sum of the admittances for each cell type.\n    A simplified expression for this condition can by summing the admittances:\n    \n      \n    where tissue1 and tissue2 are two different types of cells.\n    A real example of measurements is shown in FIG. 12 .\n     FIG. 12  shows an idealized example for illustration purposes. It is based on actual measurements but simplified for ease of understanding.\n    Bio impedance is an absolute number, the cell size is normalized with the standard score method, which is a well-known method per se in statistical analysis.\n    In FIG. 12  the patient goes through five different phases A-E, signified by different behaviour of the patient, as will be described below. In the figure, extra cellular impedance is shown by the graph 29 and cell size is shown by the graph 30.\n    A—The patient is sleeping. The impedance 29 increases during the sleep and the cell size 30 decreases due to loss of intracellular fluid, i.e. water. B—The patient is awake and drinking and eating, the bio impedance 29 falls while the cell size 30 increases, the cell size increases relatively more than the bio impedance reduction which might indicate water intake with little electrolytes. C—The patient is hiking, the bio impedance 29 rises, and the cell size 30 falls as the patient loses more fluids than the possible intake.   \n\n    D—The patient drinks fluid with electrolytes (sports drink) after hiking, both the cell size 30 and the bio impedance 29 have a similar relative change, albeit in opposite directions.\n    E—The patient maintains hydration level by drinking water, but there is a minute loss of electrolytes\n     FIG. 13  shows a case where a patient is subjected to an extraction of two litres of liquid from the body and at the same time drinks 0,2 litres of water during a four-hour time period. The result is that the total impedance increases clearly over this time period. This indicates a significant dehydration of the patient. The time course of change in impedance is well correlated with extraction curves (r>0,98). The relative change in impedance can thus be correlated to extracted volume of liquid.\n    The present invention is a method that can be used by a sensor device to measure hydration in the body, provide an output about the hydration state and provide an alert to any changes in hydration state.\n    The sensor device is preferably a battery powered, four electrode, light weight, body mountable, flexible patch that makes time resolved electrical resistance and reactance measurements over a wide range of frequencies.\n    Through these measurements with high time resolution and mathematical modelling intracellular and extracellular volume, in addition to cell volume, and hydration state can be calculated and displayed, and the patch may also provide an alert to changes in hydration state.\n    The patch is preferably designed to be attached by adhesive to the skin of the patient, at the location of musculus trapezius, approximately at the same level as the heart. This is a good position as it will not interfere with the movement of the patient and is beyond reach of patients who may be inclined to remove foreign objects, such as patients with dementia.\n    The position is also a central place of the body. Measuring impedance in one muscle group such as musculus trapezius, which does not change much throughout a grown person's lifetime, is considered to be representative of the hydration level of the body as such. Using the trapezius muscle group and placing the patch at the level of the heart will also make the measurements hydrostatically neutral.\n    Possible medical examples of use can be expressed as:\n    (1) Any disease, medication or activity that leads to a change in intracellular volume will shift the hydration curve to higher or lower frequencies in the direction of arrow A in FIG. 8 . (2) Any disease, medication or activity that lead to a general change in total body water, will result in a general shift of the measured impedance of the hydration curve in the direction of arrow B in FIG. 8 .   \n\n    (3) Any disease, medication or activity that leads to a change in extra cellular volume only, will shift the measured impedance and shift the low frequency end of the hydration curve.\n    (4) Any disease, medication or activity that leads to a change in extracellular electrolyte concentration, will shift the measured impedance of the left tail of the hydration curve vertically (see FIG. 8 ). (5) Any disease, medication or activity that leads to a general shift in electrolyte concentration, will shift the hydration curve vertically, in the direction of arrow B in FIG. 8 . (6) Any disease, medication or activity that leads to a change in intracellular electrolyte concentration, will shift the hydration curve horizontally in the direction of arrow A in FIG. 8 .   \n\n    Shifts are realized according to the following matrix, making each shift unique and detectable:\n    \n      \n        \n          \n             \n             \n             \n             \n            \n              \n                 \n                 \n              \n              \n                 \n                Hypertone\n                Isotone\n                hypotone\n              \n              \n                 \n                 \n              \n            \n            \n              \n                 \n              \n            \n          \n          \n             \n             \n             \n             \n            \n              \n                Hypervolemia\n                 1Na↑ total volume↑\n                 4Na→ total volume↑\n                 7Na ↓ total volume↑\n              \n              \n                Isovolemia\n                 2Na↑ total volume→\n                 5Na→ total volume\n                 8Na↓ total volume→\n              \n              \n                 \n                 \n                →\n              \n              \n                Hypovolemia\n                 3Na↑ total volume↓\n                 6Na→ total volume↓\n                 9Na↓ total volume↓\n              \n              \n                 \n              \n            \n          \n        \n      \n    \n    Volemia is an indication of change in cell volume, where hyper is excess volume, iso is constant volume and hypo is deficient volume, Tone is an indication of electrolyte (mainly Na+) concentration, where hyper is excess concentration, iso is constant concentration and hypo is deficient concentration. Isovolema combined with isotone is the normal condition, which the remaining conditions indicates some sort of anomaly.\n    Future user scenarios are for the observation of disease processes included in the well-known Renin-agiotensin-aldosterone system such as: inflammatory processes (obesity, rheumatic disorders, osteoarthritis, cancer, stroke and heart attack, rhabdomyolysis), hypertension and atherosclerosis, diabetes and pancreatic disease and liver disease. This list is not exhaustive.\n    \n  \n    \n       1-11. (canceled)\n    \n    \n       12. A method for determining if a relative difference in cell volume has occurred, with a sensor device having four electrodes, said sensor device being embedded in a single patch that is attachable to the skin of a patient, the method comprising:\nperforming a first measurement cycle by:\na) applying a current corresponding to a cycle of different predetermined frequencies in time series on an outer pair of the electrodes;\nb) measuring a resulting variating potential at each predetermined frequency over an inner pair of the electrodes;\nc) calculating a measured impedance from the corresponding measured variating potential at each predetermined frequency;\nd) calculating a total impedance absolute value from the corresponding measured impedance at each predetermined frequency; and\ne) storing each total impedance absolute value against its corresponding frequency for the first measurement cycle in a memory;\n performing one or more subsequent measurement cycles by repeating steps a) to e), wherein each of the one or more subsequent measurement cycles is performed after a predetermined period of time after the first measurement cycle; reading one or more corresponding frequency value belonging to at least one selected total impedance absolute value of the one or more subsequent measurement cycles; reading a corresponding frequency value belonging to the same at least one selected total impedance absolute value of the first measurement cycle; comparing said frequency values of said first and said one or more subsequent measurement cycles, and determining a difference between the frequency values; and providing a time series of differences in frequency across said first and one or more subsequent measurement cycles; wherein an increasing frequency difference across said time series indicates a relative increase or decrease of cell volume. \n    \n    \n       13. The method of claim 12, wherein the total impedance absolute value over the cycle of predetermined frequencies is curve-fitted to an empirical data model; and\nwherein parameters α, RE and RT to be used to determine a change of cell volume are extracted from said empirical model, said empirical model being the following approximation: \n      \n        where |Z(f)| is the total impedance absolute value, γ is a slope parameter derived from the steepness of a magnitude plot determined as an empirical value from a large set of measurements, RE is extra cellular resistance, RI is intracellular resistance, RT is the total resistance, f is the frequency, and α is a frequency dependent factor of the cell volume; and\n        determining a change in cell volume, the change in cell volume being according to the following relationship:\n      \n      \n        \n    \n    \n       14. The method of claim 12, further comprising:\nreading respective frequencies belonging to a plurality of selected total impedance absolute values of the first measurement cycle; and reading respective frequencies belonging to the plurality of selected total impedance absolute values of the one or more subsequent measurement cycle; determining differences between each frequency value for the same total impedance absolute value for the plurality of selected total impedance absolute values; and calculating an average frequency difference between the first and the one or more subsequent measurement cycles. \n    \n    \n       15. The method of claim 12, wherein extra cellular bio impedance and intra cellular bio impedance is determined from a Cole-Cole plot.\n    \n    \n       16. The method of claim 12, wherein the measured impedance over the cycle of different predetermined frequencies is compared with an upper boundary curve and a lower boundary curve, wherein the boundary curves are determined such that the measured impedance on a higher frequency is allowed to be within A%, typically 90%, to B%, typically 101% ,of a corresponding closest lower frequency and that a series of measured impedance over the cycle of different predetermined frequencies is rejected if any of the measurements fall outside one or both said boundary curves.\n    \n    \n       17. The method of claim 12, wherein the empirical data model is created using reference measurements using an impedance meter.\n    \n    \n       18. The method of claim 17, wherein the slope parameter is determined based on said reference measurements.\n    \n    \n       19. The method of claim 12, wherein a true signal from a signal and noise mix resulting from the measured potential is estimated by passing the signal/noise mix through a Fourier transform for each of said known frequencies, using the following formula:\n  ŝ=(s+n) \n      where ŝ is an estimate of the signal without noise, s is the pure signal and n is the noise.\n    \n    \n       20. The method of claim 12, further comprising:\nimplementing the electrodes and a processor for performing the method steps of any of claims 1 to 8 into a patch to be adhered to the skin of a patient before carrying out the steps of any of claims 1 to 8. \n    \n    \n       21. The method of claim 12, wherein the calculated estimate of cell volume change and total impedance absolute value change are compared to threshold values and, when any of the cell volume change or the total impedance value change exceeds said threshold values, an alert indicating underhydration or overhydration is sent to a receiver unit.\n    \n    \n       22. The method of claim 21, wherein a change in either extra cellular bio impedance or intra cellular bio impedance is monitored.\n    \n    \n       23. A method for determining if a relative difference in cell volume has occurred, with a sensor device having four electrodes, said sensor device being embedded in a single patch that is attachable to the skin of a patient, the method comprising:\nperforming a first measurement cycle by:\na) applying a current corresponding to a cycle of different predetermined frequencies in time series on an outer pair of the electrodes;\nb) measuring a resulting variating potential at each predetermined frequency over an inner pair of the electrodes;\nc) calculating a measured impedance from the corresponding measured variating potential at each predetermined frequency;\nd) calculating a total impedance absolute value from the corresponding measured impedance at each predetermined frequency; and\ne) storing each total impedance absolute value against its corresponding frequency for the first measurement cycle in a memory;\n performing one or more subsequent measurement cycles by repeating steps a) to e), wherein each of the one or more subsequent measurement cycles is performed after a predetermined period of time after the first measurement cycle; reading one or more corresponding frequency value belonging to at least one selected total impedance absolute value of the one or more subsequent measurement cycles; reading a corresponding frequency value belonging to the same at least one selected total impedance absolute value of the first measurement cycle; comparing said frequency values of said first and said one or more subsequent measurement cycles, and determining a difference between the frequency values; and providing a time series of differences in frequency across said first and one or more subsequent measurement cycles; wherein an increasing frequency difference across said time series indicates a relative increase or decrease of cell volume; and wherein the total impedance absolute value over the cycle of predetermined frequencies is curve-fitted to an empirical data model; and wherein parameters α, RE and RT to be used to determine a change of cell volume are extracted from said empirical model, said empirical model being the following approximation: \n      \n        \n      where |Z(f)| is the total impedance absolute value , γ is a slope parameter derived from the steepness of a magnitude plot determined as an empirical value from a large set of measurements, RE is extra cellular resistance, RI is intracellular resistance, RT is the total resistance, f is the frequency, and α is a frequency dependent factor of the cell volume; and\ndetermining a change in cell volume, the change in cell volume being according to the following relationship:\n\n      \n        \n    \n  "}
{"text":"Semiconductor integrated circuit and control method therefor\n\nABSTRACT\n\nA semiconductor integrated circuit includes a plurality of first non-volatile registers including a retention circuit that retains volatile data and one or more non-volatile elements capable of retaining non-volatile data, and a second non-volatile register that retains a load enable bit that decides in which one of the plurality of first non-volatile registers data is loaded. The semiconductor integrated circuit also includes a non-volatile register control circuit that, when supply power is delivered from outside, loads to the retention circuit data retained by the non-volatile element(s) contained in the first non-volatile register specified by the load enable bit loaded from the second non-volatile register (FIG.  1 ).\n    \n    CROSS-REFERENCE TO RELATED APPLICATION\n    The present application claims priority rights based on JP Patent Application No. 2011-254028 filed on Nov. 21, 2011. The total contents of disclosure of the patent application of the senior filing date are to be incorporated by reference into the present application. This invention relates to a semiconductor integrated circuit and a control method therefor. More particularly, it relates to a semiconductor integrated circuit including a non-volatile register, and a control method therefor.\n    TECHNICAL FIELD\n    Background\n    These days, as the degree of integration of the semiconductor integrated circuit enhances, the leakage current in the transistors, used in the integrated circuit, is becoming of a problem. In particular, the leakage current in a state the integrated circuit is not in operation tends to increase such that power consumption ascribable to such leakage current is becoming non-negligible. Thus, there exists such a semiconductor integrated circuit having a low power consumption mode in which, when the semiconductor integrated circuit is not in operation, the power supply to the integrated circuit is turned off to decrease the leakage current.\n    However, if the power supply to the semiconductor integrated circuit is turned off, the value of a register that is to retain its inner state is erased. In this consideration, it is necessary that, in the semiconductor integrated circuit, data desired to be retained is retreated to an external storage device before the power supply is turned off.\n    Patent Literature [PTL] 1 shows a method which retains the state of component elements of a computer system, and the computer system having a function of re-booting after the power supply is completely turned off. In the computer system, disclosed in Patent Literature 1, the inner states of the system are read out using scan latches provided as system component elements. The inner states, thus read out, are retained in a retreat area, after which the power supply is turned off.\n    Patent Literature 2 shows a semiconductor device including a non-volatile memory and a latch circuit provided with a write circuit. In the semiconductor device, disclosed in Patent Literature 2, data in the latch circuit (volatile data) is written in the non-volatile memory before the power supply is turned off. Thus, in the semiconductor device of Patent Literature 2, making use of non-volatile memory cells, no complicated transfer operation is necessary, while data may be retreated at a fast speed.\n    CITATION LIST\n    Patent Literature\n    \n       \n        [PTL 1]: Japanese Patent Kokai Publication No. JP2002-182803A\n        [PTL 2]: Japanese Patent Kokai Publication No. JP2004-133969A\n      \n    \n    SUMMARY\n    Technical Problem\n    The disclosures of the above mentioned technical literatures are to be incorporated herein by reference. The following analysis is given in accordance with the present invention.\n    It should be noted that, if a memory device, provided aloof from the circuit that holds the inner states, is used, as in Patent Literature 1, there is produced time delay as well as power consumption accompanying the transfer of data. If, in particular, power supply is frequently turned onRmoff, time delay as well as power consumption accompanying the data transfer will be most problematical.\n    Additionally, the semiconductor device, disclosed in Patent Literature 2, has a drawback that, each time power supply switches, provided from one module to another, are turned onRmoff, it becomes necessary to perform unneeded writeRm load operations to retreat and restore data of all of non-volatile latches, contained in a module of interest, thus increasing power consumption. Moreover, the state that prevailed before power supply interruption occurred needs to be restored when the power supply is next turned on, which means a further drawback from the viewpoint of system flexibility.\n    There is thus a demand for such a semiconductor integrated circuit in which, in restoring the power supply of the integrated circuit, it is possible to suppress time and power consumption involved in recovering the once-retreated data.\n    Solution to Problem\n    In one aspect of the present invention, there is provided a semiconductor integrated circuit, comprising a plurality of first non-volatile registers, including a retention circuit that retains volatile data and a non-volatile element(s) capable of retaining non-volatile data, a second non-volatile register that retains a load enable bit that decides in which one of the plurality of first non-volatile registers the data is to be loaded, and a non-volatile register control circuit that, when supply power is delivered from outside, causes the data retained by the non-volatile element(s) contained in the first non-volatile register identified by the load enable bit loaded from the second non-volatile register to be loaded into the retention in circuit.\n    In a second aspect of the present invention, there is provided a method for controlling a semiconductor integrated circuit including a plurality of first non-volatile registers, comprising a retention circuit that retains volatile data and a non-volatile element(s) capable of retaining the non-volatile data, in which the method comprises a first step of referring to a load enable bit that decides in which of the first non-volatile registers the data is to be loaded, and a second step of loading the data retained by the non-volatile elements contained in the first non-volatile register identified by the load enable bit into the retention circuit when supply power is delivered from outside.\n    Advantageous Effects of Invention\n    In the respective aspects of the present invention, there are provided a semiconductor integrated circuit that may contribute to suppressing power consumption and time involved in restoring the once-retreated data when the power supply of the circuit is restored, and a control method therefor.\n    \n    \n    \n      BRIEF DESCRIPTION OF DRAWINGS\n       FIG. 1 is a block diagram showing the synopsis of an exemplary embodiment.\n       FIG. 2 is a block diagram showing an example interior configuration of a semiconductor integrated circuit 1 according to an exemplary embodiment 1.\n       FIG. 3 is a block diagram showing an example command format as used in the exemplary embodiment 1.\n       FIG. 4 is a circuit diagram showing an example configuration of a non-volatile flipflop 60.\n       FIG. 5 is a schematic cross-sectional view showing a domain wall displacement element that performs writing by exploiting the spin torque effect as non-volatile element as well as its neighbored portion.\n       FIG. 6 is a schematic view showing example connections of non-volatile registers R1 to Rm, contained in a semiconductor integrated circuit 1, and a non-volatile register control circuit 30 as a control circuit therefor.\n       FIG. 7 is a diagrammatic view showing operation waveforms for a case where a command code is a write command for writing into the non-volatile elements.\n       FIG. 8 is a diagrammatic view showing operation waveforms for a case where a command code is a load command for loading from the non-volatile elements.\n       FIG. 9 is a schematic view showing an example interior configuration of a semiconductor integrated circuit 2 according to an exemplary embodiment 2.\n       FIG. 10 is a schematic view showing example connections of non-volatile registers R1 to Rm to a non-volatile register control circuit 30 a, a control circuit for the non-volatile registers. All of these are contained in a semiconductor integrated circuit 2.\n       FIG. 11 is a flowchart showing example operations at the time of system booting of the semiconductor integrated circuit 3 according to an exemplary embodiment 3.\n       FIG. 12 is a flowchart showing example operations at the time of system booting of a semiconductor integrated circuit 4 according to an exemplary embodiment 4.\n       FIG. 13 is a schematic view showing an example circuit configuration of a non-volatile flipflop 60 a according to an exemplary embodiment 5.\n       FIG. 14 is a schematic view showing example connections of non-volatile registers R1 to Rm to a non-volatile register control circuit 30 b, a control circuit for the non-volatile registers. All of these are contained in a semiconductor integrated circuit 5.\n    \n    \n    \n    DESCRIPTION OF EMBODIMENTS\n    Initially, the synopsis of an exemplary embodiment will be explained with reference to FIG. 1. It is noted that symbols for reference to the drawings are appended to respective components merely as examples to assist in understanding, and the invention is not to be restricted to the particular mode illustrated.\n    Since the memory elements and the logic elements are arranged separately, as described above, data transfer delay as well as power consumption of the interconnects or the circuits on which data is transferred will increase at the time of restoration from the power supply off state. By this reason, such a semiconductor integrated circuit in which it is possible to suppress power consumption as well as time involved in restoring the once-retreated data on recovery of the power supply of the semiconductor integrated circuit, as well as a control method therefore, has been a desideratum.\n    Thus, a semiconductor integrated circuit 100, shown in FIG. 1, is provided as an example. The semiconductor integrated circuit 100, shown in FIG. 1, comprises a plurality of first non-volatile registers 103, including a retention circuit 101 that retains volatile data and a non-volatile element(s) 102 capable of retaining non-volatile data. The semiconductor integrated circuit also includes a second non-volatile register 104 that retains a load enable bit that decides in which one of the plurality of first non-volatile registers 103 the data is to be loaded, and a non-volatile register control circuit 105 that, when supply power is delivered from outside, causes the data retained by the non-volatile element(s) 102 contained in the first non-volatile register 103 identified by the load enable bit loaded from the second non-volatile register 104 to be loaded into the retention circuit 101.\n    Each of the first non-volatile registers 103, contained in the semiconductor integrated circuit 100, is made up of the retention circuit 101, as logic element, and the non-volatile element(s) 102, as memory element(s), formed as one with the retention circuit. Since the logic element and the memory element(s) are thus formed as one with each other, it is possible to prevent delay in data transfer before the power supply is restored from its off state, and hence to reduce power consumption otherwise caused in the interconnects or circuits used for transferring the data. Moreover, since the number of the non-volatile elements 102 from which data is to be loaded is identified by the load enable bit(s) and hence may be reduced, the power consumption involved in data restoration may be decreased, while the targeted post-restoration state may be achieved more promptly.\n    Furthermore, the following modes are also possible.\n    [Mode 1] The semiconductor integrated circuit according to the first aspect as stated above.\n\n[Mode 2] Preferably, the plural first non-volatile registers are divided into a plurality of groups, each group being either correlated or not correlated to the load enable bit. Preferably, the non-volatile register control circuit causes the data retained by the non-volatile element(s) contained in the first non-volatile register belonging to the group specified by the load enable bit to be loaded into the retention circuit.\n\n[Mode 3] In the above mentioned semiconductor integrated circuit, whether or not data retained by the non-volatile element(s) contained in the first non-volatile register belonging to the group not correlated to the load enable bit is to be loaded into the retention circuit preferably is to obey a predetermined rule.\n\n[Mode 4] Preferably, the above mentioned semiconductor integrated circuit further comprises a command decoder that decodes a command for a central processing unit and a memory that retains the command. An address is donated to each of the plural first non-volatile registers, which are divided into a plurality of groups. The command includes an address bit that specifies an address corresponding to the plural first non-volatile registers and a load bit that instructs loading data from the plural first non-volatile registers. Depending on the result of the command decoder decoding the command read out from the memory, the non-volatile register control circuit preferably causes loading of data of the first non-volatile registers, which belong to the same group of the first non-volatile registers as that of the first non-volatile register identified by the address bit, and for which the corresponding load bit has been activated. [Mode 5] Preferably, the plural first non-volatile registers are divided into a plurality of groups. The semiconductor integrated circuit comprises a power supply control circuit capable of delivering a plurality of load signals that decide which of the groups the plural first non-volatile registers belong to is to be activated. The non-volatile register control circuit loads data of the first non-volatile registers which belong to the group corresponding to a load signal delivered by the power supply control circuit and for which the corresponding load enable bit has been activated.\n\n[Mode 6] Preferably, the non-volatile register control circuit performs, when supply power is delivered from outside, either a system boot not including the operation of loading into the retention circuit the data retained by the non-volatile elements included in the first non-volatile register, or a system boot including the operation of loading into the retention circuit the data retained by the non-volatile elements included in the first non-volatile register, based on a loading-related branch flag.\n\n[Mode 7] Preferably, data relevant to a program counter is retained by one of the plural first non-volatile registers. When supply power is delivered from outside, the non-volatile register control circuit causes the data to be loaded from the non-volatile elements contained in the non-volatile register retaining data relevant to a program counter into the retention circuit. The non-volatile register control circuit performs, based on the value of the program counter, either a system boot not including the operation of loading into the retention circuit the data retained by the non-volatile elements included in the first non-volatile register or a system boot including the operation of loading into the retention circuit the data retained by the non-volatile elements included in the first non-volatile register.\n\n[Mode 8] Preferably, the plural non-volatile registers receive first and second write signals and one input data. In case of activation of the first write signal, the non-volatile registers allow the data of the retention circuit to be written into the non-volatile elements. In case of activation of the second write signal, the non-volatile registers allow the input data to be written in the non-volatile elements without changing data retained by the retention circuits.\n\n[Mode 9] The method for controlling a semiconductor integrated circuit according to the second aspect as stated above.\n\n[Mode 10] Preferably, the second step includes either a step of booting a system as the data retained by the non-volatile elements contained in the first non-volatile register is not loaded into the retention circuit, or a step of booting the system as the data retained by the non-volatile elements contained in the first non-volatile register is loaded into the retention circuit, based on a loading-related branch flag, when the supply power is delivered from outside.\n\n[Mode 11] Preferably, the above mentioned second step includes a step of loading the value of the program counter into the retention circuit contained in the first non-volatile register and, depending on the value of the program counter, either a step of booting a system as the data retained by the non-volatile elements contained in the non-volatile register is not loaded into the retention circuit or a step of booting the system as the data retained by the non-volatile element contained in the non-volatile register is loaded into the retention circuit, when the supply power is delivered from outside.\n\n    More concrete exemplary embodiments of the present invention will now be explained in detail with reference to the drawings.\n    Exemplary Embodiment 1\n    A exemplary embodiment 1 will now be explained in detail with reference to the drawings.\n     FIG. 2 depicts an example interior configuration of a semiconductor integrated circuit 1 according to the exemplary embodiment 1. For simplicity of explanation, there is shown in FIG. 2 a module of the semiconductor integrated circuit involved in the restoration from the state of power supply interruption.\n    The semiconductor integrated circuit 1 is made up by a non-volatile register set 10, a load enable register 20, a non-volatile register control circuit 30, a memory 40 and a command decoder 50.\n    The non-volatile register set 10 includes a plurality of non-volatile registers R1 to Rm, where m denotes an integer not smaller than 2, hereinafter the same. Each non-volatile register is able to retain the n-bit information, where n denotes an integer not smaller than 2, hereinafter the same. Each non-volatile register is made up of a plurality of flipflops each retaining the 1-bit information. That is, each non-volatile register is able to retain the information of n bits, and hence is made up of n non-volatile flipflops. It is noted that the number of bits n of the non-volatile registers may vary from one non-volatile register to another. However, in the semiconductor integrated circuit 1 of the subject exemplary embodiment, the value of n is assumed to be the same from one non-volatile register to another.\n    Each non-volatile flipflop includes a retention circuit retaining volatile data and a non-volatile element(s) retaining non-volatile data. Details of the retention circuit and the non-volatile element(s) will be explained subsequently.\n    The non-volatile flipflop has a function to transfer data between the retention circuit and the non-volatile element(s). In the present description, transferring data of the retention circuit to the non-volatile element(s) is defined as write into the non-volatile element(s), while transferring data of the non-volatile element(s) to the retention circuit is defined as loading from the non-volatile element(s).\n    As stated above, the semiconductor integrated circuit 1 includes the m non-volatile registers, to which addresses A1 through to Am are donated. Examples of the non-volatile registers may include a program counter PC, a stack point SP, a status register SR, a general-purpose register and a register used in a peripheral module. The values retained by these non-volatile registers are expressive of inner states of the semiconductor integrated circuit 1. Therefore, if, after retreating the values of the retention circuit to the non-volatile element(s), the power supply to the semiconductor integrated circuit 1 is turned off, and the data are restored when the power supply is again turned on, it is possible to restore the state of the semiconductor integrated circuit 1 to that which prevailed before the power supply was turned off, that is, before operation interruption.\n    The load enable register 20 may retain a plurality of bits. Here, the load enable register 20 is assumed to be retaining d bits, where d denotes an integer not smaller than 2, hereinafter the same. Note that the bits included in the load enable register 20 are labeled as load enable bits LEB1 through to LEBd, and will now be detailed.\n    The load enable bits LEB are used on the occasion of deciding in which one of the plural non-volatile registers R1 to Rm data are to be loaded. The relationship of correspondence between the load enable bits LEB and the non-volatile registers is as follows: The m non-volatile registers, contained in the non-volatile register set 10, may be divided into q groups G1 to Gq, where q denotes an integer not smaller than 2, hereinafter the same. Each of the groups G is either correlated to one of the plural load enable bits LEB1 through to LEBd, or correlated to none of the load enable bits.\n    The method for using the load enable bits LEB will now be summarized.\n    The load enable bits LEB are loaded into the non-volatile register control circuit 30 immediately after supply power is delivered to the semiconductor integrated circuit 1. That is, the load enable bits LEB are loaded into the non-volatile register control circuit before data loading occurs in the non-volatile registers R1 to Rm. Thus, the non-volatile register control circuit 30 is able to refer to the load enable bits LEB in advance of the non-volatile registers R1 to Rm.\n    In performing the loading in the non-volatile registers R1 to Rm, the non-volatile register control circuit 30 names or specifies one of the non-volatile registers R1 to Rm, and refers to the load enable bit LEB corresponding to the group the so specified non-volatile register belongs to. If the value of the load enable bit LEB, thus referred to, is ‘1’, indicating an activated state, data of the non-volatile elements is loaded into the retention circuit in the specified non-volatile register. If the value of the load enable bit LEB referred to is ‘0’, the data of the non-volatile elements of the specified non-volatile register is not loaded into the retention circuit. For a case where there is no corresponding load enable bit, whether or not data of the non-volatile elements of the non-volatile register specified is to be loaded into the retention circuit is fixedly pre-set in the non-volatile register control circuit 30. The method for naming (specifying) the non-volatile registers R1 to Rm by the non-volatile register control circuit 30 will be considered subsequently.\n    The semiconductor integrated circuit 1 according to the subject exemplary embodiment includes a set of commands. The command set includes a non-volatile register control command which enables control of the non-volatile registers R1 to Rm.\n    Next, the sequence from command readout until control of the non-volatile registers will be summarized.\n    Initially, a central processing unit of the semiconductor integrated circuit 1, not shown in FIG. 2, reads out a command stored in the address from the memory 40 in accordance with an address as specified by the program counter PC. The command read out is sent to the command decoder 50 where it is decoded. If the command code is a command to write into the non-volatile elements, the non-volatile register control circuit 30 causes data retained by the retention circuit of the non-volatile register specified to be written into the non-volatile elements. If, on the other hand, the command code is a load command for the non-volatile elements, the non-volatile register control circuit 30 causes data of the non-volatile elements of the non-volatile register specified to be loaded into the retention circuit.\n    Next, details of the control command for the non-volatile register will be explained.\n    It is assumed that the semiconductor integrated circuit 1 of the subject exemplary embodiment uses a single-operand command style. FIG. 3 shows an example command style as used in the semiconductor integrated circuit 1. The command shown in FIG. 3 has a bit length of (a+b+c), where a to c denote integers, hereinafter the same. The first to the ath bits are used for specifying the register, while the (a+1)th to the (a+b)th bits are used for specifying an addressing mode and the (a+b+1)th to the (a+b+c)th bits for specifying a command code.\n    By adding the control command for the non-volatile register to the command code, it becomes possible to control the non-volatile register without altering a pre-existing architecture. For example, in performing writing in the non-volatile register R4, bearing the register number 4, the register specifying bit is set for specifying the register number 4. The addressing mode is set as in setting the customarily provided register actuating mode. A newly added write command for the non-volatile register is set in the command code. As for the addressing mode, such a mode that is different from the customarily provided mode may also be used.\n    Moreover, the m non-volatile registers of from the address A1 down to the address Am may be divided into t groups, t being an integer not smaller than 2, hereinafter the same. Thus, should a certain address be specified, the non-volatile registers of the group to which belong the non-volatile registers bearing such address may be controlled simultaneously. For example, it is now assumed that each of the non-volatile registers R1 to Rm has one load enable bit LEB, and loading is to be performed just in the non-volatile registers, out of the total of the non-volatile registers, having the values of the load enable bits LEB equal to ‘1’. Then, the number of the groups of the non-volatile registers in which data loading is to be made is 1, the number of the load enable bits LEB is m and the number of the groups q correlated to the load enable bits LEB is also m. The bits for identifying or specifying the registers may not be taken into account. The addressing mode may be set to the mode for actuating the non-volatile registers, and the command code may be set.\n    If the plural non-volatile registers R1 to Rm are operated in this manner simultaneously, the control time for the non-volatile registers may be reduced. In the semiconductor device of Patent Literature 2, in which loading is made in the total of the registers in a given module, it becomes necessary to perform the loading even from the non-volatile elements, the loading from which is unneeded, resulting in wasteful power consumption. However, if limitations are imposed on the non-volatile registers in which loading is to be made, with the use of the load enable bits LEB, it becomes possible to reduce the power consumption involved in the data recovery as the overhead needed for the data recovery is suppressed from increasing. It should be noted that, while it has been indicated above that the single operand command style can be used as the control command for the non-volatile registers, the invention is not to be restricted to this particular mode.\n    The non-volatile flipflop that makes up the non-volatile register will now be discussed.\n     FIG. 4 shows an example circuit configuration of a non-volatile flipflop 60, which non-volatile flipflop 60 includes a master latch 61 and a slave latch 62. The slave latch, in turn, includes non-volatile elements 63, 64.\n    The master latch 61 and the slave latch 62 are able to retain volatile data. In the non-volatile flipflop 60, data may be exchanged between the slave latch 62 and the non-volatile elements 63, 64. More specifically, the non-volatile flipflop 60 has the function of writing data of a retention circuit included in the slave latch 62 into the non-volatile elements 63, 64 and the function of loading the data from the non-volatile elements 63, 64 into the slave latch 62.\n    The master latch 61 is made up of clocked inverters 65, 66 and inverters INV01, INV02. The clocked inverter 65 is made up of N-channel MOS transistors N01, N02 and P-channel MOS transistors P01, P02, while the clocked inverter 66 is made up of N-channel MOS transistors N03, N04 and P-channel MOS transistors P03, P04. Also, a retention circuit 67 is made up of the inverter INV01 and the clocked inverter 66 comprised of the N-channel MOS transistors N03, N04 and the P-channel MOS transistors P03, P04.\n    Input data D is entered via the clocked inverter 65 to the master latch 61 so as to be latched by the retention circuit 67. Data entered to the master latch 61 is retained at a node T01, while data inverted by the inverter INV02 is retained at a node T02. The data retained at the nodes T01, T02 are entered via N-channel MOS transistors N05, N06 to nodes T03, T04 of the slave latch 62.\n    The slave latch 62 includes a retention circuit 68 and a write transistor(s). The retention circuit 68 is made up of N-channel MOS transistors N07, N08 and P-channel MOS transistors P05, P06, while the write transistor(s) is made up of N-channel MOS transistors N09 to N12. The slave latch also includes NOR circuits NOR1, NOR2, an N-channel MOS transistor N13, P-channel MOS transistors P07 to P09, output inverters INV03, INV04 and the non-volatile elements 63, 64.\n    The N-channel MOS transistor N13 grounds the N-channel MOS transistors N07, N08 except during data write time. The P-channel MOS transistors P07 to P09 are used as pre-charging transistors.\n    The non-volatile element 63 has one end connected to the source of the N-channel MOS transistor N07, while having the other end connected common to the drains of the N-channel MOS transistors N09 to N012. The non-volatile element 64 has one end connected to the source of the N-channel MOS transistor N08, while having the other end connected common to the drains of the N-channel MOS transistors N09 to N012. Complementary data latched by the N-channel MOS transistors N07, N08 and the P-channel MOS transistors P05, P06 are entered to the NOR circuits NOR1, NOR2.\n    A write signal WB is entered to the N-channel MOS transistor N13 and to the NOR circuits NOR1, NOR2. A load signal LB is entered to the gates of the P-channel MOS transistors P07 to P09. An output signal from the inverter INV04 is labeled as data output Q, an output signal from the inverter INV03 is labeled as data output QB. A clock CLK is inverted by an inverter, not shown, to a clock P1 which is delivered to the clocked inverters 65, 66. The clock P1 is further inverted by another inverter, not shown, to a clock P2, which is also delivered to the clocked inverters 65, 66.\n    Note that the non-volatile flipflop 60 includes, in addition to the function proper to a flipflop, the following functions: First, the non-volatile flipflop includes a function to write data electrically stored in the slave latch 62 into the non-volatile elements 63, 64. Second, the non-volatile flipflop includes a function to read out data stored in the non-volatile elements 63, 64 to store the data in the slave latch 62.\n    For use as the non-volatile elements 63, 64, an MTJ (Magnetic Tunnel Junction) element, a ferromagnetic tunnel junction device exploiting the magnetoresistive effect, may be contemplated. The MTJ element includes a ferromagnetic layer (free layer), whose direction of magnetization is varied, another ferromagnetic layer (fixed layer), whose direction of magnetization is fixed, and an insulation layer formed between the free and fixed layers.\n    If now the current is caused to flow through the MTJ element in a direction perpendicular to its film surface, the resistance value of the MTJ element is varied in accordance with the directions of magnetization of the free and fixed layers. In case the direction of magnetization of the free layer is parallel to that of the fixed layer, the resistance value becomes lower. On the other hand, in case the direction of magnetization of the free layer is antiparallel to that of the fixed layer, the resistance value becomes higher. In the MTJ element, such property is exploited to correlate logical data to the resistance values or to the direction of magnetization of the free layer. Thus, the low resistance state is correlated to the logical value 0, the high resistance state to the logical value 1, as an example. For writing in the MTJ element, there are known two methods, namely a magnetic field write method that uses a current magnetic field to control the direction of magnetization of the free layer, and a spin torque write method that uses the spin torque effect to control the direction of magnetization of the free layer.\n     FIG. 5 shows, in a cross-section, a domain wall displacement element as well as its neighbored portion. The domain wall displacement element, as a non-volatile element, performs writing using the spin torque effect. It is noted that transistors composing the non-volatile elements 63, 64 are indicated by symbols for ease in understanding.\n    The non-volatile elements 63, 64 are made up of a metal layer 70, first hard layers 71, second hard layers 72, free layers 73, insulation layers 74 and reference layers 75, stacked together in this order, looking from a semiconductor substrate as reference.\n    As for connections for the non-volatile element 63, the reference layer 75 is connected to the N-channel MOS transistors N07, and the first hard layer 71 to the N-channel MOS transistors N09, N10. The second hard layer 72 is connected via the first hard layer 71 of the non-volatile element 64 to the N-channel MOS transistors N11, N12. For the free layer 73 and for the first and second hard layers 71, 72, magnetic thin films having perpendicular magnetic anisotropy may, for example, be used. The directions of magnetization of the first and second hard layers 71, 72 are fixed so as to be reversed to each other. The free layer 73 may have its magnetization controlled in the up-and-down direction, as indicated by Z in FIG. 5, in accordance with the direction of the spin polarized current. In more concrete terms, if the current is caused to flow from the first hard layer 71 to the second hard layer 72, polarized electrons will flow in the reverse direction, such that the free layer 73 has its direction of magnetization aligned with that of the second hard layer 72. If conversely the current is caused to flow from the second hard layer 72 to the first hard layer 71, the free layer has its direction of magnetization aligned with that of the first hard layer 71.\n     FIG. 6 shows example connections of the non-volatile registers R1 to Rm to the non-volatile register control circuit 30, all provided in the semiconductor integrated circuit 1. The non-volatile register control circuit is a control circuit for the non-volatile registers.\n    In the semiconductor integrated circuit 1 of the subject exemplary embodiment 1, an address is donated to each of the n non-volatile registers. For example, an address is donated in terms of a 16-bit word (n=16) or an 8-bit word (n=8) as units. There are m addresses of the non-volatile registers, namely addresses A1 to Am.\n    In the semiconductor integrated circuit 1, it is assumed that, in case one address is specified, the n non-volatile registers corresponding to the so specified address may be controlled at the same time. Or, in case one address is specified, a certain plurality of the non-volatile registers, included in an address space of the one address, may be controlled at the same time.\n    The non-volatile register control circuit 30 receives a system clock CLK_SYS, an address of one register A_REG, a volatile data write signal for the register WE_REG, input data D_REG to the register, a write signal NVWE_REG into the non-volatile elements 63, 64, a load signal NVLE_REG from the non-volatile elements 63, 64 and a load enable bit LEB. It is from the load enable register 20 and the command decoder 50 that these control signals are delivered.\n    The non-volatile register control circuit 30 is responsive to the control signals received to output a non-volatile register control signal to each of the non-volatile registers. For example, the non-volatile register control signals, delivered to the non-volatile register R1 corresponding to the address A1, may be comprised of a clock CLK_REG (A1), an input data D_REG(A1), a load signal LB_REG (A1) and a write signal WB_REG(A1). The non-volatile register R1 that has received the control signals outputs a data output Q_REG(A1). Similar operations are performed by the non-volatile registers R2 to Rm corresponding respectively to the addresses A2 to Am. Note that, in FIG. 6, one of the non-volatile flipflops, such as a non-volatile flipflop for the n'th bit, among the non-volatile flipflops in the non-volatile register, is shown as being representative.\n    Referring to FIG. 4, the write operation in the non-volatile register will now be summarized.\n    At the time of the write operation in the semiconductor integrated circuit 1, the write signal WB is set to an L level. At such time, the write data into the non-volatile elements coincides with a data output Q of the slave latch 62. In case the data output Q is ‘0’, the N-channel MOS transistors N10, N11 are on, while the N-channel MOS transistors N09, N12 are off. At this time, the write current flows from the node T06 to the node T05. This sets the non-volatile element 63 and the non-volatile element 64 to the low resistance state and to the high resistance state, respectively, whereby the data ‘0’ corresponding to the data output Q is stored in the non-volatile elements 63, 64.\n    On the other hand, in case the data output Q is ‘1’, the N-channel MOS transistors N010, N11 are off, while the N-channel MOS transistors N09, N12 are on. At this time, the write current flows from the node T05 to the node T06. This sets the non-volatile element 63 and the non-volatile element 64 to the high resistance state and to the low resistance state, respectively, whereby the data ‘1’ corresponding to the data output Q is stored in the non-volatile elements.\n    Next, referring to FIG. 4, the operation of loading in the non-volatile register will be summarized.\n    At the time of loading by the semiconductor integrated circuit 1, the load signal LB is set to an L level. The clock CLK is also in an L level. The P-channel MOS transistors P07 to P09 are then turned on, so that the nodes T03, T04 are at an H level. As a result, the readout current flows in the non-volatile element 63 via the N-channel MOS transistor N07. In addition, the readout current flows in the non-volatile element 64 via the N-channel MOS transistor N08. There is generated a minor potential difference across the nodes T03 and T04 in response to the difference between the values of the readout currents.\n    When the load signal LB is set to the H level, the potential difference is amplified. If the data retained in the non-volatile elements 63, 64 is ‘0’, the non-volatile element 63 is in the low resistance state, while the non-volatile element 64 is in the high resistance state. Hence, the node T03 is in the L level, while the node T04 is in the H level. As a result, the data output Q is ‘0’ in responsive to the data of the non-volatile elements. On the other hand, if the data retained in the non-volatile elements 63, 64 is ‘1’, the non-volatile element 63 is in the high resistance state, while the non-volatile element 64 is in the low resistance state. Hence, the node T03 is in the H level, while the node T04 is in the L level. As a result, the data output Q is ‘1’ in responsive to the data of the non-volatile elements.\n    Next, such a case in which, in the semiconductor integrated circuit 1, the command code is a write command for the non-volatile elements will be considered in detail.\n     FIG. 7 shows example operation waveforms for a case the command code is a write command for writing into the non-volatile elements.\n    At a time T1, a central processing unit in the semiconductor integrated circuit 1 outputs PC1, a value of a program counter PC, to the memory 40 by way of an address A_RAM.\n    At a time T2, the central processing unit receives, from the memory 40, a command OP1, by way of data RD_RAM corresponding to the address A_RAM. It is noted that the command OP1 is of the command style shown in FIG. 3 and the command code is a write command code for writing into the non-volatile elements. It is also noted that the addressing mode is of the single operand style and specifies a register of the address A1.\n    At a time T3, the command decoder 50 of the central processing unit decodes the command OP1 to output the address A1 as the address A_REG of the register.\n    At a time T4, the command decoder 50 decodes the command OP1 and outputs the write signal NVWE_REG for the non-volatile elements to the non-volatile register control circuit 30. The outputting comes to a close at a time T5.\n    During the time since T6 until T8, the non-volatile register control circuit 30 sets the write signal WB_REG (A1) for the register of the address A1 selected to the L level to cause the current to flow in the non-volatile register R1.\n    At a time T7, the value of the non-volatile elements in the non-volatile register R1 corresponding to the address A1 is rewritten to a value Ral (resistance value R_REG(A1)) corresponding to the data output Q_REG(A1) retained.\n    During the next clock cycle, the write operation for the non-volatile elements in the non-volatile register R2 corresponding to the address A2 occurs, and the corresponding waveform is shown. The write operation occurs by a sequence of operations which is the same as that for the address A1. It is noted that, as shown in FIG. 7, the time period since T6 until T8, within which the write operation occurs for the non-volatile elements, may temporally be later than a time Ta when the cycle to read out the next command from the memory 40 commences. It is because the write operation into the non-volatile elements may be done without changing the output of the non-volatile register and hence is not deterrent to the operation of reading out the next command. By using such pipelining-like operation, it is possible to assure sufficient setup time for writing into the non-volatile elements as well as to execute a plurality of commands within a short time.\n    Next, such a case in which, in the semiconductor integrated circuit 1, the command code is a load command for the non-volatile elements, will be considered in depth.\n     FIG. 8 shows example operation waveforms in case the command code is a load command for the non-volatile elements.\n    At a time T1, the central processing unit in the semiconductor integrated circuit 1 outputs PC1, a value of a program counter PC, to the memory 40 by way of an address A_RAM.\n    At a time T2, the central processing unit receives, from the memory 40, a command OP1, by way of data RD_RAM corresponding to the address A_RAM. It is noted that the command OP1 is of the command style shown in FIG. 3 and the command code is the code of the write command for the non-volatile elements. It is also noted that the addressing mode is of the single operand style and specifies a register of the address A1.\n    Such an operation will now be considered in which the load enable bit LEB corresponding to the address A1 has already been loaded, its bit value is ‘1’ and loading is made for the non-volatile register R1 corresponding to the address A1.\n    At a time T3, the command decoder 50 decodes the command OP1 to output the address A1 as the address A_REG of the register.\n    At a time T4, the command decoder 50 decodes the command OP1 to output a load signal NVLE_REG for the non-volatile elements to the non-volatile register control circuit 30. The outputting comes to a close at a time T5.\n    During the time since T6 until T7, the non-volatile register control circuit 30 sets the load signal LB_REG (A1) for the register of the address A1 selected to the L level to effect the loading for the non-volatile register.\n    At a time T8, the data output Q_REG(A1) of the non-volatile register R1 corresponding to the address A1 is rewritten to a value D1 corresponding to the value Ral retained by the non-volatile elements (resistance value R_REG(A1)).\n    As described above, the semiconductor integrated circuit 1 according to the subject exemplary embodiment includes the non-volatile register in which the logic element and the non-volatile element are integrated together. Thus, in restoration of the supply power of the semiconductor integrated circuit 1, it is possible to reduce the time and power consumption involved in restoring the retreated data. Moreover, loading may be made for just the targeted register(s) by exploiting the load enable bit(s) LEB. This renders it possible to reduce the number of the non-volatile elements from which loading is made, thus allowing reducing the power consumption involved in the loading.\n    Exemplary Embodiment 2\n    An exemplary embodiment 2 will now be described in detail with reference to the drawings.\n     FIG. 9 shows an example interior configuration of a semiconductor integrated circuit 2 according to the subject exemplary embodiment. In FIG. 9, the same symbols are used to depict parts or components which are the same as those shown in FIG. 2 and the corresponding description is dispensed with. The semiconductor integrated circuit 2 differs from the semiconductor integrated circuit 1 in that a power supply control circuit 80 is used to deliver a control signal without using the memory 40 as well as the command decoder 50.\n    In the semiconductor integrated circuit 2 according to the subject exemplary embodiment, the non-volatile registers are controlled not by a program (software) recorded in the memory 40 as in the semiconductor integrated circuit 1. In the semiconductor integrated circuit 2, in which the non-volatile registers are controlled by hardware, such as a power supply control circuit 80, power consumption may similarly be suppressed through the use of the load enable bits LEB.\n     FIG. 10 shows example connections of non-volatile registers R1 to Rm to a non-volatile register control circuit 30 a, all included in the semiconductor integrated circuit 2. The non-volatile register control circuit is a control circuit for the non-volatile registers. In FIG. 10, the same symbols are used to depict the same parts or components as those used in FIG. 6 and the corresponding explanation is dispensed with. FIG. 10 differs from FIG. 6 in that both the write signal NVWE_REG, sent from the control decoder 50, and the load signal NVLE_REG from the non-volatile elements, are deleted, and a write signal NVWE_PWR sent from the power supply control circuit 80 as well as a load signal NVLE_PWR from the non-volatile elements are added.\n    The m non-volatile registers are divided into q groups G1 to Gq. Each group is either correlated to one of the plural load enable bits LEB1 through to LEBd, in a one-for-one relationship, or correlated to none of the load enable bits.\n    The load enable bits LEB are loaded into the non-volatile register control circuit 30 immediately after supply power is delivered to the semiconductor integrated circuit 2. That is, the load enable bits LEB are loaded into the non-volatile register control circuit 30 before loading occurs in the non-volatile registers R1 to Rm. Thus, the non-volatile register control circuit 30 a is able to refer to the load enable bits LEB in advance of the non-volatile registers R1 to Rm.\n    Additionally, the m non-volatile registers are divided into t groups G1 to Gt. Furthermore, the non-volatile register control circuit 30 a is able to receives load signals NVLE_PWR1 to NVLE_PWRs, where s is an integer not smaller than 2, hereinafter the same. Each non-volatile register group is either correlated in a one-for-one correspondence to one NVLE_PWR out of the load signals NVLE_PWR1 to NVLE_PWRs or lacking in the correlated load signal NVLE_PWR.\n    After recovery of the supply power, the non-volatile register control circuit 30 a specifies the total of the non-volatile registers, belonging to the group corresponding to the activated load signal, based on the s load signals NVLE_PWR delivered from the power supply control circuit 80. The non-volatile register control circuit 30 a refers to the load enable bit LEB of the group of the so specified non-volatile registers. If the value of the load enable bit LEB, thus referred to, is ‘1’, the non-volatile register control circuit 30 a causes data of the non-volatile elements in the specified non-volatile registers to be loaded in the retention circuits. If the value of the load enable bit LEB, thus referred to, is ‘0’, data of the non-volatile elements in the specified non-volatile registers is not loaded in the retention circuits. For a case where there is no corresponding load enable bit LEB, whether or not data of the non-volatile elements in the specified non-volatile register is to be loaded is fixedly set in advance in the non-volatile register control circuit 30 a.  \n    In writing, the m non-volatile registers are similarly divided into t groups G1 to Gt. Also, the non-volatile register control circuit 30 a receives s write signals NVWE_PWR1 to NVWE_PWRs. Each non-volatile register group is either correlated in one-for-one correspondence to one write signal NVWE_PWR out of the write signals NVWE_PWR1 to NVWE_PWRs or correlated to none of the write signals.\n    Before the supply power, so far delivered to the semiconductor integrated circuit 2, is turned off, the non-volatile register control circuit 30 a specifies, based on the s write signals NVWE_PWR received from the power supply control circuit 80, the total of the non-volatile registers belonging to the group corresponding to the write signal NVWE_PWR activated. Data of the retention circuits, contained in the non-volatile registers specified, are written in the non-volatile elements.\n    In the semiconductor integrated circuit 2, the non-volatile registers R1 to Rm do not necessarily have to be correlated to the addresses, because write or readout signals are given in terms of a group(s) as unit, as stated above.\n    In the semiconductor integrated circuit 2 of the subject exemplary embodiment, it is again possible to suppress power consumption as well as time involved in restoring data from the once-retreated state at the time of restoration of the power supply. Moreover, since control is exercised by the power supply control circuit 80, as hardware, instead of by the central processing unit (program), the time delay caused by command fetch from the memory 40 as well as the power consumption may be reduced more effectively.\n    Moreover, since program control is not used, the storage space in the memory 40, that is, the program size, may be decreased.\n    Exemplary embodiment 3\n    Next, an exemplary embodiment 3 will now be described in detail with reference to the drawings.\n    A semiconductor integrated circuit 3 according to the subject exemplary embodiment differs from the semiconductor integrated circuit 1 as to the operation performed at the system boot or start time. Hence, the explanation of the semiconductor integrated circuit 3 relevant to FIG. 2 to 6 is dispensed with.\n    The semiconductor integrated circuit 3 uses a loading-related branch flag. The loading-related branch flag is used for selecting the operation mode at the time of system restoration. Additionally, the loading-related branch flag is retained by the non-volatile register and corresponding data is written in the non-volatile elements in advance of power supply interruption. It is noted that the non-volatile register, retaining the loading-related branch flag, can be controlled by the non-volatile register control circuit 30, in the same way as the other non-volatile registers.\n     FIG. 11 depicts a flowchart showing an example operation of the semiconductor integrated circuit 3 at the system boot or start time.\n    In a step S01, a system is reset before supply power is delivered to the system.\n    In a step S02, data corresponding to the loading-related branch flag is loaded in the non-volatile register that is to retain the loading-related branch flag.\n    In a step S03, it is verified whether or not the loading-related branch flag is ‘1’. If the loading-related branch flag is ‘0’, processing transfers to a step S04 and, if the loading-related branch flag is ‘1’, processing transfers to a step S05.\n    In the step S04, a default system boot, not including the load operation in the non-volatile registers, is performed.\n    In the step S05, a system boot, including the load operation in the non-volatile registers, is performed.\n    For the above mentioned system boot, including the non-volatile register load operation, address naming by the load enable bit(s) LEB or by the command code, as disclosed in the exemplary embodiment 1, may be used. This enables loading just for the targeted register(s).\n    It is noted that power supply may be turned onRmoff not only for the semiconductor integrated circuit 3 in its entirety but just for one or more of a plurality of modules that make up the semiconductor integrated circuit 3. If the power supply is turned onRmoff on the module basis, resetting following re-start of power supply to the module in question may be performed only for such module.\n    As stated above, the semiconductor integrated circuit 3 of the subject exemplary embodiment includes the non-volatile register in which the logic device and the non-volatile register elements are integrated together. It is thus possible to decrease time and power consumption involved in restoring once-retreated data at the time of re-start of power supply to the semiconductor integrated circuit 3.\n    Moreover, when turning on the power supply, it is not strictly necessary to restore the state that prevailed before turning off of the power supply, such that an as-intended state may be realized at once more flexibly. In addition, since the loading-related branch flag is retained in the non-volatile register, it is unnecessary to transfer the loading-related branch flag from the memory 40 in distinction from such case in which the loading-related branch flag is stored in the memory 40. It is thus possible to reduce power consumption and time delay caused in the data transfer as well as to simplify the control (procedure) in exploiting the loading-related branch flag.\n    Furthermore, by exploiting the load enable bit (LEB) or the load command as well, it becomes possible to load just difference data between the as-intended system state and the as-reset system state, and hence to reduce the power consumption involved in loading from the non-volatile elements.\n    Exemplary embodiment 4\n    Next, an exemplary embodiment 4 will now be described in detail with reference to the drawings.\n    A semiconductor integrated circuit 4 according to the subject exemplary embodiment differs from the semiconductor integrated circuit 1 as to the operation at the system boot time. Hence, the explanation of the semiconductor integrated circuit 4 relevant to FIG. 2 to 6 is dispensed with.\n    A non-volatile register of the semiconductor integrated circuit 4 retains data of a program counter PC. The data of the program counter PC represent the address information for the command that is stored in a memory 40 so as to be executed next time. Before the power supply for the semiconductor integrated circuit 4 is turned off, the semiconductor integrated circuit 4 causes the value of the program counter PC, from which the operation is desired to be started at the time of the next restoration, to be written in the non-volatile elements.\n     FIG. 12 depicts a flowchart showing an example operation at the system boot time of the semiconductor integrated circuit 4.\n    In a step S11, the system is reset before delivery of the supply power.\n    In a step S12, in the non-volatile register, retaining the value of the program counter PC, the data of the program counter PC, stored in the non-volatile register, is loaded into its retention circuit.\n    In a step S13, it is verified whether or not the value of the program counter PC loaded is a default value. If such value is a default value, processing transfers to a step S14. If otherwise, processing transfers to a step S15.\n    In the step S14, a default system boot, not including a load operation for the non-volatile register(s), is made.\n    In the step S15, a system boot, including the load operation for the non-volatile register(s), is made. At such time, an address is named (identified) by the load enable bit LEB or by the command code as explained in the exemplary embodiment 1. This renders it possible to effect the loading just for the targeted register.\n    While the explanation in the subject exemplary embodiment has been made for the case of using load enable bits, it is not strictly necessary to use the load enable bits. In addition, power supply may be turned onRmoff not only for the semiconductor integrated circuit 4 in its entirety but just for one or more of a plurality of modules that make up the semiconductor integrated circuit 4. If the power supply is turned onRmoff on the module basis, resetting following re-start of power supply to the module in question may be performed only for such module.\n    In the semiconductor integrated circuit 4 of the subject exemplary embodiment, the load enable bit (LEB) or the load command may be exploited in combination to render it possible to load just difference data between the as-intended system state and the as-reset system state, and hence to reduce the power consumption involved in loading from the non-volatile elements.\n    Exemplary embodiment 5\n    Next, an exemplary embodiment 5 will now be described in detail with reference to the drawings.\n    The semiconductor integrated circuit 4, shown in the exemplary embodiment 4, is such one in which value of the program counter PC is stored in the non-volatile register. In the subject exemplary embodiment, such matter that has to be taken into consideration in writing the value of the PC counter PC in the non-volatile elements will be scrutinized.\n    In the non-volatile flipflop 60, discussed with reference to FIG. 4, data of the slave latch 62 can be written in the non-volatile elements 63, 64. If, in such case, the value of the program counter PC, at which the operation is desired to be commenced on restoration from the power supply interruption, is the same as the value stored in the slave latch 62, no particular problem arises. However, there arises a problem in case the value of the program counter PC, from which the operation on the next restoration is desired to be commenced, differs from the value stored in the slave latch 62. That is, if the address for the time of the next restoration is written in the non-volatile elements 63, 64, the value retained by the slave latch 62 is updated. At this time, the address actually accessed is not the address to be accessed at the next cycle, but the address from which it is desired to start the operation after power supply restoration.\n    To solve such problem, it may be contemplated to add to the non-volatile flipflop 60 some suitable expedient which will enable data of the non-volatile elements to be directly written without updating data of the slave latch 62. A semiconductor integrated circuit 5 according to the subject exemplary embodiment includes a non-volatile flipflop 60 a in which such expedient has been used.\n     FIG. 13 shows an example circuit configuration of the non-volatile flipflop 60 a. In FIG. 13, those components that are the same as those shown in FIG. 4 are denoted by the same symbols and the corresponding description is dispensed with. The non-volatile flipflop 60 a differs from the non-volatile flipflop 60 as to a peripheral circuit that controls the N-channel MOS transistors N09 to N12 which are write transistors.\n    Specifically, multiplexers MUX01, MUX02 are added to enable either data of a slave latch 62 a or input data D to be selected as data for writing in accordance with write signals WB1, WB2.\n    The non-volatile flipflop 60 a receives two write signals WB1, WB2 and one input data D. In case the write signal WB1 is activated, data of the retention circuit 68 is written in the non-volatile elements 63, 64. In case the write signal WB2 is activated, the input data D is written in the non-volatile elements 63, 64, while data of the retention circuit 68 is not changed. In writing the input data D into the non-volatile elements 63, 64, the clock CLK is set to the L level. By so doing, the input data D may be written into the non-volatile elements 63, 64 without changing data of the slave latch 62 a.  \n     FIG. 14 shows example connections of non-volatile registers R1 to Rm to the non-volatile register control circuit 30 b which is a control circuit for the non-volatile registers. All of these are contained in the semiconductor integrated circuit 5. FIG. 14 differs from FIG. 6 in that the non-volatile register control circuit 30 b receives two non-volatile element write signals NVWE1_REG and NVWE2_REG. Also, the non-volatile register control circuit 30 b outputs two non-volatile element write signals WB1_REG(A1) and WB2_REG(A1) to the non-volatile register R1 corresponding to the address A1. The same may be said of the non-volatile registers R2 to Rm corresponding respectively to the addresses A2 to Am.\n    In the semiconductor integrated circuit 5, in case the non-volatile element write signal NVWE1_REG is activated, data of the slave latch of the non-volatile register selected may be written in the non-volatile elements. On the other hand, in case the non-volatile element write signal NVWE2_REG is activated, the input data D_REG may be written in the non-volatile elements. With the non-volatile flipflop 60 a, shown in FIG. 13, it is possible to select one of two data to write either data. However, as may be seen on comparing FIG. 13 to FIG. 6, no interconnection for write data is added, and hence the overhead for the space occupied by the interconnection may be suppressed from increasing.\n    In FIG. 14, the non-volatile flipflops are assumed in their entirety to be the non-volatile flipflops 60 a. Alternatively, however, the non-volatile flipflops 60, explained in connection with the exemplary embodiment 1, may be used in conjunction with the non-volatile flipflops 60 a in certain proportions to each other.\n    Moreover, the flipflops 60 a of the subject exemplary embodiment may be used in conjunction not only with the program counter PC but also with such registers which are desirably not changed by the slave latch data.\n    As stated above, the semiconductor integrated circuit 5 of the subject exemplary embodiment includes non-volatile registers in each of which the logic element and the non-volatile elements are integrated together. Thus, in restoring the power supply of the semiconductor integrated circuit 5, it is possible to suppress power consumption as well as time involved in restoring the retreated data.\n    Additionally, data for the retention circuit and for the non-volatile elements of the non-volatile flipflops 60 a may be written independently of each other. Hence, the value of the program counter PC at which it is desired to restart the operation on restoration from the state of power supply interruption, or the values of the other non-volatile resisters, may be written in the non-volatile elements without changing the inner system states stored in the retention circuit. It is thus possible to restore the targeted state more flexibly.\n    The disclosures of the above recited Patent Literatures are to be incorporated herein by reference. The particular exemplary embodiments or examples may be modified or adjusted within the gamut of the entire disclosure of the present invention, inclusive of claims, based on the fundamental technical concept of the invention. Moreover, a variety of combinations or selection of elements herein disclosed (elements the claims, exemplary embodiments, examples or drawings) may be made within the concept of the claims. Also, the present invention may include a variety of changes or corrections that may occur to those skilled in the art in accordance with the total disclosures inclusive of the claims and the drawings as well as the technical concept of the invention. For example, while the above detailed explanation, which has been centered about the registers within the central processing unit, may be extended with ease to the registers within the peripheral modules. Also, while it is presumed in each of the exemplary embodiments that an address is donated to each register, it should be possible to write to or read out from the non-volatile elements of those registers to which no addresses are donated. That is, even if the data of the retention circuit may not be directly written or read out from the program because no addresses are donated to the data, the data may be made to belong to one of the groups of the non-volatile elements so that the non-volatile elements may still be written or read out. Also, the range of numerical values stated herein should be interpreted to be inclusive of optional numerical values or sub-ranges contained within the range even if no explicit statement is made of the values or sub-ranges.\n    REFERENCE SIGNS LIST\n    \n       \n         1˜5, 100 semiconductor integrated circuits\n         10 non-volatile register set\n         20 load enable register\n         30, 30 a, 30 b, 105 non-volatile register control circuits\n         40 memory\n         50 command decoder\n         60, 60 a non-volatile flipflops\n         61 master latch\n         62, 62 a slave latches\n         63, 64, 102 non-volatile elements\n         65, 66 clocked inverters\n         67, 68, 101 retention circuits\n         70 metal layer\n         71 first hard layer\n         72 second hard layer\n         73 free layer\n         74 insulation layer\n         75 reference layer\n         80 power supply control circuit\n         103 first non-volatile register\n         104 second non-volatile register\n      \n    \n    \n  \n    \n       1. A semiconductor integrated circuit, comprising:\na plurality of first non-volatile registers including a retention circuit that retains volatile data and a non-volatile element(s) capable of retaining non-volatile data; a second non-volatile register that retains a load enable bit that decides in which one of the plurality of first non-volatile registers data is loaded; and a non-volatile register control circuit that causes the data retained by the non-volatile element(s) contained in the first non-volatile register identified by the load enable bit loaded from the second non-volatile register to be loaded into the retention circuit, when supply power is delivered from outside. \n    \n    \n       2. The semiconductor integrated circuit according to claim 1, wherein,\nthe plurality of first non-volatile registers are divided into a plurality of groups, each group being either correlated or not correlated to the load enable bit; the non-volatile register control circuit causing the data retained by the non-volatile element(s) contained in the first non-volatile register belonging to the group specified by the load enable bit to be loaded in the retention circuit. \n    \n    \n       3. The semiconductor integrated circuit according to claim 2, wherein, whether or not data retained by the non-volatile element(s) contained in the first non-volatile register belonging to the group not correlated to the load enable bit is to be loaded into the retention circuit is to obey a predetermined rule.\n    \n    \n       4. The semiconductor integrated circuit according to claim 1, further comprising\na command decoder that decodes a command issued to a central processing unit; and a memory that retains the command; each of the plurality of first non-volatile registers having an address donated thereto; the first non-volatile registers being divided into a plurality of groups; the command including an address bit that specifies an address corresponding to the plurality of first non-volatile registers and a load bit that instructs loading data in the plurality of first non-volatile registers; the non-volatile register control circuit as a result of the command decoder decoding the command read out from the memory causing loading of data in the first non-volatile register(s), which belong to the same group of the first non-volatile registers as that of the first non-volatile register identified by the address bit, and for which the corresponding load bit has been activated. \n    \n    \n       5. The semiconductor integrated circuit according to claim 1, wherein,\nthe plurality of first non-volatile registers are divided into a plurality of groups; the semiconductor integrated circuit comprising a power supply control circuit capable of delivering a plurality of load signals that decide which of the groups the plurality of first non-volatile registers belong to is to be activated; the non-volatile register control circuit causing loading of data in the first non-volatile registers which belong to the group corresponding to the load signal delivered by the power supply control circuit and for which the corresponding load enable bit has been activated. \n    \n    \n       6. The semiconductor integrated circuit according to claim 1, wherein,\nthe non-volatile register control circuit performs, based on a loading-related branch flag, when supply power is delivered from outside, either a system boot not including the operation of loading to the retention circuit the data retained by the non-volatile element(s) included in the first non-volatile register or a system boot including the operation of loading to the retention circuit the data retained by the non-volatile element(s) included in the first non-volatile register. \n    \n    \n       7. The semiconductor integrated circuit according to claim 1, wherein,\ndata relevant to a program counter is retained by one of the plurality of first non-volatile registers; the non-volatile register control circuit when supply power is delivered from outside causing data to be loaded to the retention circuit from the non-volatile element(s) contained in the non-volatile register that retains the program counter; the non-volatile register control circuit performing, based on a value of the program counter, either a system boot not including the operation of loading to the retention circuit the data retained by the non-volatile element(s) included in the first non-volatile register, or a system boot including the operation of loading to the retention circuit the data retained by the non-volatile element(s) included in the first non-volatile register. \n    \n    \n       8. The semiconductor integrated circuit according to claim 1, wherein,\nthe plurality of non-volatile registers receive first and second write signals and one input data; the non-volatile registers in case of activation of the first write signal allowing the data of the retention circuit to be written into the non-volatile elements; the non-volatile registers in case of activation of the second write signal allowing the input data to be written in the non-volatile element(s) without changing data retained by the retention circuit. \n    \n    \n       9. A method for controlling a semiconductor integrated circuit including a plurality of first non-volatile registers comprising a retention circuit that retains volatile data and a non-volatile element(s) capable of retaining non-volatile data; the method comprising:\nreferring to a load enable bit that decides in which of the plural first non-volatile registers the data is to be loaded; and loading the data retained by the non-volatile element(s) contained in the first non-volatile register identified by the load enable bit into the retention circuit when supply power is delivered from outside. \n    \n    \n       10. The method for controlling a semiconductor integrated circuit according to claim 9, wherein,\nsaid loading the data retained by the non-volatile element(s) includes either booting a system as the data retained by the non-volatile element(s) contained in the first non-volatile register is not loaded into the retention circuit, or booting the system as the data retained by the non-volatile element(s) contained in the first non-volatile register is loaded into the retention circuit, based on a loading-related branch flag, when the supply power is delivered from outside.  \n    \n  "}
{"text":"Non-invasive trace-driven system and method for computer system profiling\n\nABSTRACT\n\nThe invention disclosed herein is a system and method for comprehensive, non-invasive profiling of a processor whereby feedback is provided to a programmer of the execution dynamics of a program. In a preferred embodiment a partial real-time reduction is provided of selected trace events employing the environment&#39;s trace facility, and a post-processing function is then performed. A trace hook is provided in the environment&#39;s periodic clock routine which captures the address to be returned to following this timer&#39;s interrupt, and further captures the address of the caller of the routine represented by the first address. The frequency of occurrences of the first address is collected and correlated to various virtual address spaces and corresponding subroutine offsets within those virtual address spaces. By employing the assembly and source code listing of programs, the address frequencies are then correlated back to specific instructions, and from information in the assembly listing accumulated time is further correlated against specific lines of source code. A profile is generated indicating the amount of time spent by the processor in various processes, kernel, shared library, and user spaces, and subroutines correlated to the lines of source code for negligible additional processor run time.\n    \n    This is a continuation of application Ser. No. 07/662,521 filed Feb. 28, 1991, now abandoned.\n    \n    \n    FIELD OF THE INVENTION\n    This invention relates to technology for profiling processor execution time in computer systems, and, more particularly, relates to systems and methods for trace-driven profiling.\n    BACKGROUND OF THE INVENTION\n    In order to improve performance of code generated by various families of computers, it is often necessary to determine where time is being spent by the processor in executing code, such efforts being commonly known in the computer processing arts as locating \"hot spots\". Ideally one would like to isolate such hot spots at the instruction and/or source line of code level in order to focus attention on areas which might benefit most from improvements to the code.\n    For example, isolating such hot spots to the instruction level permits compiler writers to find significant areas of suboptimal code generation, whereby they may thus focus their efforts to improve code generation efficiency in these areas. Another potential important use of instruction level detail is to provide guidance to the designer of future systems. Such designers with appropriate profiling tools may find characteristic code sequences and/or single instructions requiring improvement to optimize the available hardware for a given level of hardware technology.\n    In like manner, isolating hot spots to the source line of code level would provide the level of detail necessary for an application developer to make algorithmic tradeoffs. A programmer's a priori guesses about where a program is spending significant time executing are frequently wrong for numerous reasons. First the programmer seldom has a comprehensive understanding of the complex dynamics of the hardware and software system. Secondly, the compiler itself often does not generate code that corresponds to the programmer's assumptions. It was accordingly highly desirable to provide a system for feeding back information to the programmer about the execution dynamics of a program in terms that the programmer could easily understand.\n    Thus various methods had been developed for monitoring aggregate CPU usage known as \"profiling\". One approach was to simply add instructions to the program being analyzed to enable it to essentially assess itself. This however introduces the undesirable characteristic of invasiveness wherein the possibility arose that necessary changes for profiling may introduce changes to the dynamics of the very thing one is attempting to measure. Yet another approach to providing for profiling was to develop external specialized hardware monitors. However, this approach also entailed numerous drawbacks, not the least of which was the expense associated with development of such specialized hardware and questions of feasibility in even doing so.\n    In some environments, the need for such profiling was particularly acute and yet was not satisfied by the existing methods due to the unique characteristics of the environments. An example of such an environment is the RISC System/6000™ line of computers operating the AIX™ Operating System of the IBM Corporation (RISC/6000 and AIX are trademarks of the International Business Machines Corporation). A more detailed description of this hardware and software is provided in \"IBM RISC System/6000 Technology\", first edition 1990, publication SA23-2619, IBM Corporation.\n    One specific attempt at providing profiling for such environments was a system known in the art as \"Gprof\", described in the article \"Gprof: A Call Graph Execution Profiler\", Proc. ACM SIGPLAN Symposium on Compiler Construction, June, 1982, by S. L. Graham, P. B. Kessler, and M. K. McKusick. Several problems were associated with this profiling system. First there was no shared library support, thus requiring the compilation of program with exclusively non-shared libraries. The system did not provide support for the simultaneous profiling multiple processes, all processes which could be run had to be recompiled for routine-level profiling, the system was invasive (e.g. modified the executable code to be profiled), and required dedicating to profiling additional memory approximately half of the space of the program to be profiled. Moreover, in addition to the entire set of processes to be profiled having to be rebuilt in order to provide profiling, it was only capable of providing routine-level and no source statement or instruction level profiling, did not summarize all CPU usage but rather only that of one user program at a time, and further often required a substantial increase in user CPU time, sometimes approaching 300%, due to its invasiveness.\n    For this reason other approaches were suggested for profiling in such environments including, for example, the PIXIE system of MIPS Computer Systems, Inc. described in \"Compilers Unlock RISC Secrets\", ESD, December, 1989, pgs. 26-32, by Larry B. Weber.\n    In this system the executable objects of the processes to be profiled are analyzed and reconstructed with every atomic sequence of instructions, known in the art as a \"basic block\", being preceded with hooks which emit an event reporting the beginning of execution of the basic block from the emitted sequence of the basic block. From the emitted sequence of events the frequency of execution of each basic block can be maintained during run time. In a subject post processing step this frequency of occurrence is correlated to the source statement and routines of the program to provide execution time profiles.\n    Whereas this method offers the advantage of direct measurement over estimates obtained from sampling the program counter, it offers the disadvantages of no shared library support, no support of multiple processes, requires an increase in program executable space by up to factor of 3 and increase in program executables by factors of 10 or more.\n    Yet additional developments were made in profiling systems such as those outlined in the following references: \"Non-Intrusive and Interactive Profiling in Parasight\", Proc. ACM/SIGPLAN, August, 1988, pgs. 21-30, by Ziya Aral and Ilya Gertner. In this development, the invasiveness resulting in additional run time was decreased by selectively modifying code sequences of interest to directly measure the execution time of the selected code sequences and by employing an additional supplemental process to capture and process the run time measures.\n    From the foregoing it will be apparent that profiler technology to support the various aforementioned environments needed numerous improvements. Specifically, a profiler was needed which would support multiple process and multiple user environments, shared libraries (dynamically loaded shared objects), kernel as well as user execution spaces, and kernel extensions (dynamically loaded extensions to the kernel).\n    Requirements which became apparent as particularly desirable and greatly needed in a profiler related to the characteristics of convenience and non-invasiveness. These two factors are strongly related as well as having merit in their own right.\n    As an example of convenience, it was highly desirable to provide a profiling tool which would enable a user to very easily profile existing running code without requiring special procedures, recompilation, relinking, or rebuilding. Moreover, it was further highly desirable to provide a profiling tool which was non-invasive as well. The comprehensive feature simply would provide for profiling of all processes and all address domains for each process--the kernel, kernel extensions, user, and shared objects. The highly desirable feature of non-invasiveness would contemplate that executables and supporting environments would be virtually identical whether profiling or not, requiring no special effort in obtaining this equivalence. Conventional systems required modification of executables in order to profile at the instruction level, for example, resulting often in excessive CPU and memory utilization. The importance of non-invasiveness is that the gathered statistics are not distorted and all instruction streams and referenced addresses are maintained. The latter is particularly important when looking for performance issues that are related to overuse of hardware facilities such as the TLB, data and instruction caches, registers, and memory.\n    For all of the forgoing reasons, a profiling tool was highly desirable which could report on the aggregate CPU usage of all users of the environment, including all programs (processes) running, including the kernel, during execution of the user programs (as well as the fraction of time the CPU is idle) whereby users might determine CPU usage in a global sense. Such a profiler was further desired as a tool to investigate programs which might be CPU-bound wherein the programmer would find it useful to know sections of the program which were being most heavily used by the CPU. Still further a profiler was further highly sought which could be run using the executable program as is without the need to compile with special compiler flags or linker options whereby a subprogram profile could be obtained of any executable module that had already been built.\n    SUMMARY OF THE INVENTION\n    The invention disclosed herein is a system and method for comprehensive, non-invasive profiling of a processor whereby feedback is provided to a programmer of the execution dynamics of a program. In a preferred embodiment a partial real-time reduction is provided of selected trace events employing the environment's trace facility, and a post-processing function is then performed. A trace hook is provided in the environment's periodic clock routine which captures the address to be returned to following this timer's interrupt, and further captures the address of the caller of the routine represented by the first address.\n    The frequency of occurrences of the first address is collected and correlated to various virtual address spaces and corresponding subroutine offsets within those virtual address spaces. By employing the assembly and source code listing of programs, the address frequencies are then correlated back to specific instructions, and from information in the assembly listing accumulated time is further correlated against specific lines of source code. A profile is generated indicating the amount of time spent by the processor in various processes, kernel, shared library, and user spaces, and subroutines correlated to the lines of source code for negligible additional processor run time.\n    \n    \n    BRIEF DESCRIPTION OF THE DRAWINGS\n    FIG. 1 is a schematic diagram illustrating the overall profile summary generated by the present invention.\n    FIG. 2 is a schematic illustration depicting the relationship between a multiprocess, multispace computational environment and the profiling functions of the present invention.\n    FIGS. 3A and 3B illustrate in sequence a flow diagram of the profiling process of the present invention.\n    FIG. 4 is a functional block diagram illustrating the real-time profiler processing depicted in FIG. 3 in more detail.\n    FIG. 5 is a block diagram of a representative computer system environment in which the profiling system and method of the present invention operates.\n    \n    \n    DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENT\n    First a detailed description will be provided of the profiling process with reference to FIGS. 1-4, followed by a description of a representative computer environment suitable for such profiling with reference to FIG. 5. Regarding the description of the profiling process, first a high level description of the profiling output will be made with reference with FIGS. 1 and 2, followed by a detailed description of the operation of the invention with respect to the flow diagrams of FIGS. 3, 3A, 3B, and 4.\n    Referring first to FIG. 1, depicted therein is a schematic representation of an overall profile summary generated by the present invention. Multiple columns such as column 11 correspond to various processes which may be executed by a multiprocess computational environment. For each such process, the profiler will generate a measure of total counts such as that appearing in location 13 which will correspond to the total counts collected from a periodic sampler which occur during execution of that particular process 11 and which are representative of the total CPU execution time in execution of that process.\n    It will be noted in FIG. 1 that for a given process or column such as column 11, the total counts 13 are further subdivided into those which occurred while the processor was executing in user, shared, or kernel memory address space (hereinafter referred to simply as \"space\"). A plurality of rows will be depicted in a representative profile labelled in FIG. 1 as \"user\", \"shared\", and \"kernel\". Thus with the foregoing in mind, a count appearing in box 15 for example would correspond to counts occurring while process 11 was executing in shared space, whereas the count total appearing in box 19 would correspond to those occurring while process 17 was executing in kernel, shared and user space.\n    Referring now to FIG. 2, this illustration is intended to depict a representative multiprocess, multispace, multiuser computational environment such as that suited for profiling in accordance with the teachings of the invention. It will be noted that hereinafter the term \"profile\" and \"profiling\" will be employed for brevity in lieu of \"execution time profile report\" and \"execution time profiling\", respectively.\n    The purpose of FIG. 2 is to illustrate the relationship between the multiprocess, multispace computational environment and the various capabilities of profiling provided by the subject invention. More particularly, the multiprocess and multispace environment is illustrated conceptually and generally by the rectangle 10. In like manner to that of FIG. 1, user space of a particular process such as process 18 is shown by the smaller rectangle 12. Similarly, for this same process 18, box 14 represents a shared space accessible by each user space. Finally with respect to representative process 18, box 16 is intended to depict the operating system kernel space which is accessible via system calls to each user space. Also in like manner to FIG. 1, reference numerals 20, 22, and 24 refer to correlative columns each corresponding to a different individual process, each such process having its own respective user, shared, and kernel space.\n    It will be noted in FIG. 2 that a rectangle 26 encompassing user and shared spaces 21 and 23 of a corresponding process 22 has been shown for purposes of discussion of prior art. In the prior art, such user and shared space 21 and 23 could be profiled to the subroutine level of detail. However, a separate and specific action must be taken by the individual desiring the profile for each and every such user or shared subroutine profile which was desired. In contrast, in accordance with the teachings of the present invention, the mechanism described herein captures all of the data required for generation of any desired subroutine profile without any particular prior action being required.\n    Still referring to FIG. 2, a subprofile column 25 is shown. A subprofile is an ordered listing of each subroutine within the given space. For each subroutine the total number of program counter samples that occurred within the address range of that subroutine is provided. The purpose of this is to schematically illustrate representative subroutine level execution-time profiles of the various spaces of the processes 18-24. Thus for example, profile 30 illustrates a profile of user, shared, and kernel space corresponding to process 22, subprofile 32 corresponds to a similar user, shared, and kernel space profile corresponding to process 20, subprofile 34 corresponds to a profile of the user, shared, and kernel spaces corresponding to process 18, and finally profile 36 corresponds to a profiling of user, shared, and kernel spaces associated with process 24.\n    For illustrative purposes now, attention will be focused on process 24 which corresponds, in accordance with FIG. 2, to spaces U4, S4, and K4 (e.g. the user, shared, and kernel execution spaces of process 24.) By the mechanisms to be herein described, a complete execution time profile of process 24 may be produced, namely the previously mentioned profile 36 in all of its execution spaces. Still referring to FIG. 2, a column 27 captioned \"source statement profile\" is provided which is intended to schematically illustrate that in accordance with the invention, a source statement level profiling may be performed of the user space U4, for example, of the process 24 shown subprofiled at reference numeral 36. This source statement level profile 38 means that each line of code in the source files of the user space of this process 24 (or any desired such process) will be annotated with the count representative of the CPU time spent executing the instructions generated for this line of code.\n    Referring now to. FIGS. 3A and 3B, a flow diagram is depicted illustrating a computerized process for generating the system profiles as herein described. Several conventions employing graphical elements have been utilized in the figure for convenience. First, a tuple of data elements is denoted therein by the notation <datum 1, datum 2, . . . >. Next, an intermediate table of tuples or a file of tuples is denoted in FIG. 3 by a square. Thirdly, a report or program listing suitable for human viewing is represented by a rectangle. Next, an oval is employed to denote a system call or system interrupt which has been modified to produce supplemental data. Finally, the fifth graphical component employed in FIGS. 3A and 3B is a circle which denotes a processing step which produces an intermediate file, report, or table. The principal contents of each intermediate file, table, or report is denoted in FIGS. 3A and 3B by a tuple, representing a set of unique tuples of the type shown.\n    With continued reference to FIGS. 3A and 3B, it will be noted that the figure is conveniently divided into two areas separated by line 44 which are denoted as \"run time processing\" 40, and \"post processing\" 42. With respect to the run time processing 40 portion of FIG. 3, a block 46 is included which is intended to represent the additional detail provided in FIG. 4 to be hereinafter discussed.\n    Starting at the top of FIG. 3A in describing first the run time processing 40, an initialized step 52 produces a table of currently active processes consisting of process id and program name. This step is more fully described hereinafter with reference to FIG. 4. The data necessary to produce an intermediate file 37 is maintained during run time processing 40 by system processes fork 56 and exec 58. The fork 56 creates a new process id with the same name as the process which executed the fork. Exec 58 assigns a new name to a currently active process. As each new <process id, program name> tuple is created by either fork 56 or exec 58, it is retained in order to eventually produce the table 37.\n    By means of instrumentation placed in the system central processing unit dispatcher, the current process id is maintained. The AIX Operating System has a dispatcher software function. Following any interruption in sequence flow of running process, this dispatcher is invoked in order to start the appropriate process. This interruption might be due to 1) the running process blocking on an input/output request, 2) the termination of a CPU scheduling quantum, or 3) an external interrupt signal. At the time of dispatching a process, the dispatcher code 54 executes an AIX trace hook capturing the process id of the newly initiated process. Further, by means of instrumentation placed in the periodic system interrupt (profile 50 shown in run time processing component 40), the value of the program counter, denoted by the tuple <space id address> is captured. Further, by means of instrumentation placed in the system process dispatcher (profile 54 is shown in run time processing component 40), the current process id is maintained. Processing steps denoted in FIG. 4 combine the <current process id> and <space id, address> tuples and maintain the data necessary to produce the intermediate file 60, consisting of <process id, space id, address, count>. \"Count\" in the preceding tuple is the number of occurrences of <process id, space id, address> and denotes the number of times the program counter was sampled executing at \"address\" in \"space id\" for the process denoted by \"process id\". At the completion of the run time profiling interval 40, the intermediate files 60 and 37 shown in FIG. 3A are written.\n    Continuing to refer to FIG. 3A, and, more particularly, to the post processing 42 portion of the system and method of the invention, a processing step 39 will then merge together the intermediate table or files 60 and 37 in order to obtain the table 41 of <process id, space id, program name, address, count> tuples.\n    A report 31 is produced which sums the counts which are representative of the CPU time consumed in the system. Such a count is reported for each <process id, space id, and program name>. Report 31 is produced by processing step 29, which coalesces the tuples comprising the intermediate file 41 by summing together all counts associated with unique <process id, space id, program name> tuples over all address values encountered.\n    With continued reference to FIGS. 3A and 3B, next the processing steps will be described which are required to produce a set of reports 55 in which counts for every subprogram of a program are reported. The processing step 45 is employed to examine any program executables 43 selected for profiling and determines the address boundaries of subprogram elements within each executable. This step is accomplished by use of operating system utilities such as the \"nm\" command well known in the art in UNIX-based operating systems as well as by employing specialized programs written which postprocess the operating system state in order to resolve the address spaces of the dynamically loaded shared library and kernel extensions. These specialized programs access the memory area of the AIX operating system that contains the location of dynamically loaded modules.\n    Each such program executable has associated with it a program name and space id. For each subprogram in a program executable there exists a starting address and ending address. Processing step 45 examines executables to obtain for each executable the tuples <space id, program name, subprogram name, subprogram beginning address, subprogram ending address>, which form an intermediate file 47.\n    A processing step 49 is then performed which consists of appending to each tuple in the previously noted intermediate file 41 its corresponding subprogram name and relative address. The relative address is the displacement beyond a subprogram starting address, and is calculated from the program address from intermediate file 41 and the subprogram beginning address from intermediate file 47. The resulting intermediate file 51 consists of <process id, space id, program name, relative address, count> and is denoted at reference numeral 51.\n    A summary of reports 55 is produced in the process consisting of counts representing the amount of CPU time consumed by subprograms, and is produced for every <process id, space id, program name> tuple by processing step 53. This processing step 53 sums the counts for the tuples <process id, space id, program name, subprogram name, relative address, count> across all values of \"relative address\".\n    Next, the processing steps will be described which are required to obtain an annotated source code listing of programs selected for more detailed profiling in accordance with the invention. An annotated source code listing is a program source code listing in which the counts representative of the CPU time consumed by execution of the machine instructions generated by each line of source code is reported. As an intermediate step, an annotated assembly code listing for each program selected for more detailed profiling is first constructed. As shown in FIG. 3, a processing step 59 is performed which is a compilation of a program source listing 57 in order to obtain assembly code listings 61 of the program. A source code listing of a program is represented by the tuples <program name, subprogram name, source line of code number, source line of code text>. The assembly code listing is represented by the tuples <program name, subprogram name, source line of code number, assembly line of code number, relative address, assembly line of code text>.\n    For tuples of intermediate file 61 which match the tuples of intermediate file 51 for the elements <program name, subprogram name, relative address>, processing step 63 appends the data <line of source code number, count> to form an annotated assembly listing consisting of <program name, subprogram name, line of source code number, line of assembler code number, relative address, assembler line of code text, count> which comprises report 65. An annotated source code listing is obtained from step 69 by summing all counts in intermediate file 65 corresponding to the identical <program name, line of source code number> and appending the sum to the source listing of the program 57. The annotated source listing 71 consists of the tuples <program name, subprogram name, line of code number, line of code text, count>.\n    Referring now to FIG. 4, depicted therein is a more detailed illustration of the steps employed in generating the real-time portion of the profiling of the present invention. The procedure 104 begins when a user invokes the profiler and specifies the profiling measurement interval. This processing step in turn invokes the trace facility process 100 of the operating system. When the trace facility process 100 is turned on, a specific subset of all the AIX trace facility hooks are activated. These hooks result in a corresponding set of events to be captured. Hereinafter the same reference numeral will be utilized to refer to both a hook and the trace event resulting from the enabling of that hook. Calls or interrupts referred to as profile 50, dispatch 54, fork 56, initialize 52, and exec 58 are specified by the trace facility process 100.\n    The initialization step 52 captures the process name and PID of all active processes. These values are put into table 106 of FIG. 4. These initial values are obtained by use of the AIX \"ps\" command.\n    After the trace facility process 100 has been activated, the real-time trace processor processing step 104 goes into a wait condition. Trace facility processing step 100 then collects trace hooks into its trace buffer 102 as they occur. The trace buffer is preferably configured into two buffers. When the first buffer is full, subsequent events are put into the second buffer and the trace facility, using standard operating system facilities well known in the art, reactivates the real-time trace processor processing step 104 which then proceeds to process the contents of the trace buffer 102.\n    This processing consists of stepping through the sequential trace events stored in the trace buffer 102 and for each event type performing the appropriate action, as described below.\n    The initialize step 52 uses the ps command to record a PID, process name tuple for each process that is active when the trace facility 100 is first turned on. The exec hook 58 contains a new process name. This hook causes the creation of a new entry in 106 consisting of current PID and the new process name from the exec hook. The fork hook 56 contains the PID of a newly created process. This hook causes an addition to 106 of a tuple consisting of the new PID and the current process name.\n    The dispatch hook 54 contains the PID of the newly dispatched process. The profile hook 50 contains the tuple of SID and relative address within that space. The processing of this hook is important in supporting the function of maintaining all the information necessary to profile all processes and all spaces within a reasonable amount of memory space. The technique used is one well known in the art referred to as a hash table. The key to the table is a function of PID, (current process id) and SID and address from the profile hook 150. When a hash slot is found where the key is matched (PID, SID, and address), the associated count field of 108 is incremented. This processing continues throughout the real-time phase of the profiling. When the profiles process terminates the real-time trace processor function 104 deactivates the trace facility process 100 which causes the remaining trace buffer contents to be transferred to 104 for processing. When the latter function is completed, the tables 106 and 108 are then written to files 37 and 60 (FIG. 3), respectively, for post processing as previously described.\n    Referring to FIG. 5, there is depicted therein a representative computer system suitable for the profiling system hereinbefore disclosed. A central processing unit 122 is provided which includes a program counter 124 which will contain an address 132 of the form shown at reference numeral 128. An address is defined in the virtual memory 120 as being a space identifier 136, followed by a displacement address within that space identifier. For example, space identifier 2 and displacement address 100 shown at reference numeral 130 point to the third space identifier block of contiguous virtual memory, and the instruction word that relative address 100 shown at reference numeral 144 within that block 142.\n    In a particular embodiment of an environment suitable for profiling ill accordance with the invention such as the RISC System/6000 of the IBM Corporation, the virtual memory 146 shown more generally at reference numeral 138 is comprised of 224 -1 identical contiguous blocks of memory where space id 136 refers to the index 224 -1 as indicated at reference numeral 138. The displacement address 132 ranges from 0 to 228 -1 shown at reference numeral 134, yielding 228 contiguous elements of memory within the memory system of FIG. 5. For purposes of illustration, the space id, address tuple 130 defines the contents of the space id=2 and displacement address=100 represented by the previously noted memory word 144. The purpose of the program counter 124 is to step through the instructions in a computer program and the contents of the program counter 124 are the space id and relative address of the particular memory word such as word 144. For every value of the program counter 124 the contents of the memory word, are automatically copied into the instruction unit 126 which comprises a second component of the central processing unit 122 for execution.\n    While the invention has been shown and described with reference to particular embodiments thereof, it will be understood by those skilled in the art that the foregoing and other changes in form and details may be made therein without departing from the spirit and scope of the invention.\n    \n  \n    What is claimed is:\n    \n      1. In a computer system having an operating system kernel in a program executing multiple processes, a method for use during execution of said multiple processes in profiling said multiple processes, comprising:inserting with said system a trace hook mechanism in a periodic clock routine of said operating system kernel; inserting with said system additional trace hook mechanisms in said operating system kernel sufficient to initialize and maintain process identity, name, and current running process correspondences; generating with said system trace events in response to said trace hook and additional trace hook mechanisms at predetermined time intervals; generating with said system trace events in response to changes in process state at times of occurrence of said changes in process state; creating and maintaining with said system during said profiling a trace buffer as a function of said trace events comprised of:a plurality of fields of program counter hook data, each corresponding to a different <current executing process identity, program counter value> tuple and a count of the number of repetitions of each said instance; and a plurality of fields maintaining correspondences between process names, identities, and said fields of program counter hook data.  \n    \n    \n      2. The method of claim 1 further comprising in a postprocessing interval the steps of:generating with said system correlations of program counter frequency counts to a plurality of programming constructs. \n    \n    \n      3. The method of claim 2 wherein said constructs comprise at least one from a group of:process; space identity; routine; source line of code; and assembly instruction. \n    \n  "}
{"text":"Cartridge reservoir\n\nABSTRACT\n\nA portable cartridge reservoir that includes first and second rectangular cups having handles projecting from first ends thereof, with the cups being pivotally connected on their second ends, and when in a first position, the cups having the free rectangular edges thereof in abutting contact. A tray is provided that is removably supported in the first cup. The tray supports a number of cartridges in spaced groups, with the spacing of the cartridges in each group being such that they may be slidably inserted in a revolver reloading device when the body of the latter is moved inwardly towards the tray when the cups are in a second position. \n     When in the first position the cups preferably define a first compartment therein in which a loaded revolver reloader is disposed for instant use. Also, when the cups are in a first position the reservoir may be carried or supported in a depending position from the handles thereof.\n    \n    BACKGROUND OF THE INVENTION\n    1. Field of the Invention\n    A cartridge reservoir.\n    2. Description of the Prior Art\n    In my U.S. Pat. No. 3,769,732, entitled \"Revolver Reloading Device\" which issued on Nov. 6, 1973, a device is disclosed and claimed that permits the cylinder of a revolver to be reloaded with cartridges in a minimum of time. My reloader, identified above, includes a body in which the cartridges are removably supported in recesses therein, and with the cartridges being ejected from the body into a cylinder of a revolver when a ring on the body of the reloader is slid longitudinally and forwardly relative thereto.\n    The primary purpose in devising the present invention is to provide a portable reservoir in which a number of cartridges are removably supported in groups, with the spacing of the cartridges in each group being such that the group of cartridges may be slidably inserted into my reloader when the body of the latter is moved inwardly towards the reservoir.\n    The primary object of the present invention is to supply a portable cartridge reservoir for police officers, guards, and members of the armed services that permits the easy transportation of a large number of cartridges, with the cartridges being so held in the invention that they may be inserted in groups into revolver-reloading devices, when the reloading devices are moved inwardly towards that portion of the invention supporting the cartridges.\n    SUMMARY OF THE INVENTION\n    The cartridge reservoir is preferably used in combination with a revolver-reloading device of the type that includes a cylindrical body having a number of circumferentially spaced, parallel, bores and slots defined therein, with the bores being capable of removably supporting a number of cartridges in projecting positions. The cartridge reservoir carries a large number of cartridges arranged in groups, with the cartridges in each group being so spaced that they may be slid into the confines of one of the revolver-reloading devices when the reloading device is moved inwardly towards that portion of the reservoir supporting the cartridges.\n    In detail, the cartridge reservoir includes first and second rectangular cups having first and second ends, with the cups adjacent the second ends having interior transverse partitions that subdivide the interior of the cups into first and second compartments when the cups are in a first position in which the marginal edges of the cups are in abutting contact. The cups are pivotally connected to one another by hinge beams secured to or formed as part of the ends of the cups.\n    A rectangular tray of substantially the same depth as the interior of the first cup is removably disposed therein, with the tray having a number of groups of recesses formed therein. The recesses in each of the groups are spaced and capable of being so removably supporting a number of cartridges in upwardly extending positions, when the body of a reloading device is slid downwardly over a group of the upwardly extending cartridges. The cartridges are inserted into the body as a group to be held therein, are ejected from the body into the cylinder of a revolver when a ring that is slidably mounted on the body is moved longitudinally and and forwardly relative thereto.\n    The reservoir includes means for removably holding the tray in a fixed position within the confines of that portion of the first cup which partially defines the first compartment. First and second handles project from the first ends of the first and second cups, and when the handles are adjacently disposed, they may be concurrently grasped by the hand of a user to permit the cartridge reservoir to be carried in a depending position, or supported in a depending position from a bracket or a hook.\n    \n    \n    BRIEF DESCRIPTION OF THE DRAWINGS\n    FIG. 1 is a perspective view of the cartridge reservoir in a closed position;\n    FIG. 2 is a combined side-elevational and longitudinal cross-sectional view of the device shown in FIG. 1;\n    FIG. 3 is a longitudinal cross-sectional view of the device taken on the line 3--3 of FIG. 2;\n    FIG. 4 is an enlarged fragmentary transverse cross-sectional view of the device shown in FIG. 2, taken on the line 4--4 thereof; and\n    FIG. 5 is an enlarged fragmentary transverse cross-sectional view of the device shown in FIG. 3, taken on the line 5--5 thereof.\n    \n    \n    DESCRIPTION OF THE PREFERRED EMBODIMENTS\n    The portable cartridge reservoir A, as may best be seen in FIGS. 1, 2 and 3, includes a first rectangular cup 10 and second rectangular cup 12 that are of the same transverse cross section. The cups 10 and 12 are conveniently formed by injection molding from a suitable commercially available polymerized resin.\n    The first rectangular cup 10 includes a first end wall 10a, second end wall 10b, and a pair of side walls 10c which extend between the first and second end walls. The second rectangular cup 12 includes a first end wall 12a, second end wall 12b, and a pair of connecting side walls 12c. The first and second rectangular cups 10 and 12 respectively include free marginal end portions 10d and 12d, respectively, that are in abutting contact when the cups are in the first position shown in FIG. 1.\n    The first and second rectangular cups 10 and 12 include hinge means 14 on the second end walls 10b and 12b thereof, which pivotally connect the rectangular cups 10 and 12 to permit them to be disposed either in a first position as shown in FIG. 1 or in a second position (not shown) where they are in substantially longitudinal alignment in a common plane.\n    The first and second rectangular cups 10 and 12 adjacent the second end walls 10b and 12b thereof have transverse partitions 18 formed in the interior thereof, with these partitions when the cups are disposed in the first position shown in FIG. 1 serving to subdivide the interior of the cup into the first and second compartments 20 and 22, respectively, as may be seen in FIG. 3.\n    A tray B is provided that is best seen in FIGS. 2 and 3, which tray includes a flat top 24, bottom 26, and a number of tubular members 28 which extend therebetween, and cooperate with the top and bottom to define a number of spaced elongate recesses 30 that are arranged in groups.\n    The recesses 30, as shown in FIG. 2, removably support a number of cartridges C which have the bullets 32 thereof downwardly disposed, with the shells 34 of the cartridges having portions 34a thereof extending above the top 24. The detonator ends 36 of the cartridges C are adjacently disposed to the interior surface of the second rectangular cup 12. When the first and second rectangular cups 10 and 12 are in the first position to define the second compartment 22, the second compartment may be used to removably support a revolver-reloading device D of the type described and claimed in detail in my U.S. Pat. No. 3,769,732 that issued on Nov. 6, 1973.\n    The revolver reloader D includes a cylindrical body 38 that has a ring 40 slidably mounted thereon, with the body having bores formed therein in which the cartridges C may be slidably inserted as a group when the body 38 is moved downwardly relative to the top 24 of tray B. Such downward movement of body 38 can take place only when the first and second rectangular cups are in a second position where they are in substantially longitudinal alignment. When the reloader D is disposed in the second compartment 22, it is preferably in a loaded condition to permit the rapid use thereof in reloading a revolver.\n    The first rectangular cup 10 has at least one resilient rib 42 projecting inwardly from the first end wall 10a thereof into the first compartment 20, as shown in FIG. 3, and the partition 18 likewise has at least one resilient rib 42 projecting into the first compartment. The ribs 42 above identified, serve to removably engage recesses 44 formed in the end portion of the top 24 of tray B, as may best be seen in FIG. 5, to removably support the tray within the confines of the first cup 10, as shown in FIG. 2.\n    The shell portions 34a of the cartridges C project upwardly above the top 24 of tray B a sufficient distance that the cartridges are removably locked into one of the reloaders D when the latter is moved towards the top 24 to slidably engage the cartridges in one of the groups of the recesses 30.\n    From the free marginal edges 10d of the first rectangular cup 10 a tongue 46 extends upwardly that is snugly but removably disposed in a groove 48 which extends inwardly from the free marginal edge 12d of the second rectangular cup 12. The tongue 46 and groove 48 preferably extend longitudinally along the side of the first and second cups 10 and 12, as well as transversely across the first end walls 10a and 12a thereof, and by so doing, minimize the entry of foreign material into the confines of the first and second rectangular cups 10 and 12 when they are in the first positions shown in FIG. 1.\n    When the first and second cups 10 and 12 are in the first position the handles 16 are in abutting contact, and the handles are capable of being concurrently grasped by the hand (not shown) of a user to permit the cartridge reservoir A to be carried in a depending position, or supported in a depending position from a hook or bracket (not shown). Those portions of the second rectangular cup 12 most adjacent to the detonator end 36 of the cartridges C, as shown in FIG. 2, has a resilient pad 50 secured thereto, which pad, together with the bottom 26 of tray B cooperatively prevent any substantial lateral movement of the cartridges C when the reservoir A is being transported from place to place.\n    The use and operation of the invention has been explained previously in detail and need not be repeated.\n    \n  \n    I claim:\n    \n      1. In combination with a revolver-reloading device of the type that includes a cylindrical body having a plurality of circumferentially spaced parallel bores and slots defined therein, said bores being capable of removably supporting a plurality of cartridges in projecting positions and so aligned as to be ejectable into a cylinder of a revolver when a ring which supports a plurality of fingers that extend into said bores through said slots is slid longitudinally on said body from a first to a second position, a portable cartridge reservoir for refilling said revolver-reloading device, which cartridge reservoir comprises:a. first and second rectangular cups having first and second ends, which first and second cups adjacent said second ends have transverse partitions formed therein, and said first and second cups include free marginal edge portions that may be disposed in abutting contact; b. hinge means connected to said second ends of said first and second cups to permit said cups to be pivoted to first positions where said marginal edge portions are in abutting contact and said transverse partitions are aligned and cooperate with said first and second cups to define first and second confined spaces within the interior thereof, with said second confined space being of sufficient size as to permit one of said reloading devices filled with cartridges to be disposed therein, and with said hinge means permitting said cups to be pivoted to second positions where access may be had to the interior thereof; c. a rectangular tray of substantially the same depth as the interior of said first cup that is removably disposed therein between said first end of said first cup and said partition therein, with said tray having a plurality of groups of recesses therein, and with the recesses in each of said groups being spaced and capable of so removably supporting a plurality of cartridges in upwardly extending positions that said body of said reloading device may be slid downwardly thereover when said ring is in said first position to permit said cartridges in one of said groups to be disposed in said bores for subsequent transfer to said cylinder of said revolver; d. first means for removably locking said tray in said first cup; and e. first and second U-shaped handles that project from said first ends of said first and second cups and may be concurrently grasped by the hand of a user to carry said cartridge reservoir in a depending position therefrom. \n    \n    \n      2. A cartridge reservoir as defined in claim 1 wherein the depth of said first confined space when said cups are in said first position is such that the firing ends of said cartridges are disposed adjacent to the interior surface of said second cup when the bullet ends of said cartridges are disposed in said recesses.\n    \n    \n      3. A cartridge reservoir as defined in claim 2 which further includes:f. a resilient pad secured to the interior of said second cup and so disposed as to be in pressure contact with cartridges in said recesses when said first and second cups are in said first position to prevent movement of said cartridges relative to said first and second cups when the latter are in said first position and with said cartridge reservoir being carried in a depending position by said handles. \n    \n    \n      4. A cartridge reservoir as defined in claim 1 wherein said first and second cups are formed from a resilient polymerized resin.\n    \n    \n      5. A cartridge reservoir as defined in claim 4 which further includes:f. engaging and engageable means defined on the free marginal edge portions of said first and second cups that are in engagement when said first and second cups are in said first position and tend to so maintain said first and second cups until transversely directed forces are exerted on said first and second handles. \n    \n    \n      6. A cartridge reservoir as defined in claim 5 wherein said engaging and engageable means are tongue and grooves defined on said free marginal edge portions of said first and second cups.\n    \n    \n      7. A cartridge reservoir as defined in claim 1 wherein said first means are a plurality of spaced resilient lips that extend inwardly from said free marginal edge portion of said first cup and removably engage recesses defined in said tray.\n    \n  "}
{"text":"System for measuring an oil retention volume in a lubricating system\n\nABSTRACT\n\nA system for measuring an oil retention volume of a first member of an engine lubricating system, the injected oil flowing inside the first member mixed with a first air volume, the mixture forming a first fluid, the measuring system including an oil injector at the inlet of the lubricating system; a first flowmeter to measure a first oil flow rate at the inlet of the lubricating system; a second flowmeter at the outlet of the first member to measure a second flow rate of the first fluid at the outlet of the first member; a measuring device to calculate a first value representing a quantity of oil in a volume of the first fluid flowing inside the first member; a calculator to calculate a third oil flow rate at the outlet from the second flow rate of the first fluid measured and the first value calculated and the instantaneous oil retention volume in the first member from the comparison of the first oil flow rate with the third oil flow rate.\n    \n    CROSS REFERENCE TO RELATED APPLICATIONS\n    This application is the U.S. National Stage of PCT/FR2013/052921, filed Dec. 3, 2013, which in turn claims priority to French Patent Application No. 1261570 filed Dec. 3, 2012, the entire contents of all applications are incorporated herein by reference in their entireties.\n    FIELD\n    The present invention relates to the technical field of lubrication systems of mechanical members for engines. More specifically, the field of the invention relates to oil systems of a turbomachine and the calculation of oil retention volumes of different members distributed in the lubricating system.\n    Therefore, the field of the invention concerns all lubricated mechanical systems for which oil retention volumes are desired to be measured and/or calculated, in particular for calibrating and adapting the inflow and outflow oil rates, and for optimizing the design of mechanical parts in order to reduce their mass in use.\n    STATE OF THE ART\n    There are oil lubricating systems in numerous systems generally requiring rotational movements of mechanical parts connected to each other by links enabling a strain to be transferred from one part to the other. One purpose, upon designing mechanical parts, is to ensure a satisfactory oil passage through the system so as to avoid too high oil retention. The latter results in increasing the mass and size of the equipments (oil tank in particular).\n    This is especially the case for numerous types of engines and more particularly of aircraft engines subjected to flight conditions imposing high requirements in designing the parts used.\n    In a turbomachine, the oil system enables different mechanical members such as enclosures, which contain bearings, which support the rotating shafts, in particular between the stator part and the rotor part, or between two rotor parts of a turbojet engine, or accessory boxes, to be lubricated and cooled. Among the latter, there is particularly AGB (“Accessory Gear Box”), which comprises, among other things, fuel tanks and oil pumps. There is also the TGB (“Transfer Gear Box”) which is a transmission box between the radial shaft of the engine and the AGB.\n    One feature in the aeronautical field is that the design of members and systems is made such that their on-board mass is minimum. Indeed, the latter is fuel consuming and represents an extra cost upon operating the engine.\n    One problem of a lubricating system is that it comprises members the geometry or design of which does not enable 100% of the oil injected to be circulated. That is a certain oil proportion, called retention oil, is retained in each of the members of the lubricating system. The quantity of retained oil depends on the nature of the member it traverses, such as for example its geometry or materials. Oil retention can have different causes depending on the operating mode of the engine.\n    Concretely, the oil stored in a tank is sent to different branches of the feed system of the lubricating system using a feed pump. In particular, it feeds the enclosures, the AGB and TGB boxes, and it is scavenged by scavenge pumps at the outlet of each branch of the scavenge system.\n    Upon starting up the turbomachine, part of the oil is retained in the lubricating system. This results in an almost instantaneous drop of the oil level in the tank upon starting: this is called “gulping”.\n    Upon starting, oil is retained in the members for several reasons:\n    the conduits are being filled with oil. Indeed, at standstill, the conduits are filled with air and in use, they are filled with oil. The oil volume is readily measurable because the dimensions of the conduits are known. Part of the oil is vaporized under the operating conditions of the engine. Indeed, this phenomenon is known as oil mist and occurs in the enclosures where part of the oil is vaporized in use and does not return to the tank. Adhesion to walls. In this case, a quantity of oil adhering to the walls does not return to the tank, in particular because of its viscosity. Geometry of the mouths. Retentions in the cavities, in particular at mouths, under attitude effects can cause retention.   \n\n    It is possible to take into account the total volume retained in the lubricating system by comparing the outlet volume to the inlet volume. The oil level drop allows to measure the overall retention volume of all the members including mainly enclosures and boxes, but it does not enable the retention volume peculiar to each member to be known.\n    Therefore, it is impossible to learn a lesson from one member in particular regarding the oil retention volume in the latter since no measuring means enables the accurate quantity of retained oil to be obtained.\n    One of the problems is that each member, by its geometry, operating conditions, and design is traversed by a fluid which is a mixture of air and oil the retained quantity of oil only is desired to be known.\n    One difficulty is that the mixture takes different forms (gas, liquid, or both) depending on the members traversed. On the other hand, oil and air proportions in the fluid can be different from one member to the other.\n    Finally, since each member has a different behaviour according to the operating conditions, the measuring operation can be made difficult.\n    Another problem is that the system generally comprises a pump which sucks part of the oil from the lubricating system to promote flow thereof and hence, the sucked oil comprises a further air part resulting from the overdimensioned suction force of the oil in the system.\n    Upon designing the mechanical parts, called members, of the lubricating system of an engine, it is important to test, by means of a test bench, oil flow in the system to deduce the retained volume thereof. This operation enables data on the nature of the members and the operations to be conducted to improve their design, in particular to reduce the mass of the assembly formed by the member and the retained oil in use, to be collected. But, no solution in prior art seems to take account of this design at the member tested.\n    SUMMARY OF THE INVENTION\n    The invention enables the aforesaid drawbacks to be solved.\n    An object of the invention relates to a measuring device enabling a first value to be calculated at a given instance representing a quantity of oil in a given volume of first fluid, said first fluid being a mixture of a volume of oil and of a first air volume. The measuring device is suitable for correcting, from the first calculated value, the flow measurement of a flowmeter which measures a volume of oil at the outlet of a member of a lubricating system of an engine.\n    This correction may be an operation carried out by applying a correction factor to the oil flow-rate measurement at the outlet of the flowmeter.\n    Advantageously, a measuring device further comprises an emitter of a light beam traversing the first fluid passing through the member and a photosensor enabling the quantity of received light to be measured.\n    Advantageously a measuring device comprises a conduit including at least one translucent portion for conveying the first fluid through the optical device.\n    Advantageously a measuring device comprises memory enabling the storage, for different outlet flows of a first member, of calibration values, enabling reference values of a response of the photosensor to be associated with a set of reference mixtures of the first fluid, each mixture comprising different air proportions.\n    Another object of the invention relates to a flowmeter intended to be provided at the outlet of a first member of a lubricating system of an engine. The flowmeter enables a second flow rate of a first fluid passing through the first member to be measured. The first fluid is a mixture of a volume of oil and of a first air volume. The flowmeter (DB2) comprises a measuring device, said flowmeter comprising in addition a calculator allowing a third oil flow rate at the outlet of the first member to be deduced from the second measured flow rate of the first fluid and the first value calculated by the measuring device.\n    Another object of the invention relates to a system for measuring an oil retention volume of at least one first member of a lubricating system of an engine, the injected oil flowing inside the first member mixed with a first air volume, the mixture forming a first fluid.\n    Further, the measuring system comprises:\n    an oil injector at the inlet of the lubricating system to feed said system and; a first flowmeter enabling a first oil flow rate to be measured at the inlet of the lubricating system and; a second flowmeter provided at the outlet of the first member, said second flowmeter enabling a second flow rate representing a flow rate of the first fluid at the outlet of the first member to be measured at a given instant; a measuring device enabling a first value to be calculated at a given instant representing a quantity of oil in a given volume of the first fluid flowing inside said first member; a calculator enabling to deduce:\n         a third oil flow rate at the outlet of the first member from the second flow rate of the first fluid measured and the first value calculated; the instantaneous oil retention volume in the first member from the comparison of the first oil flow rate with the third oil flow rate. \n           \n\n    The purpose of the invention is to provide a system for measuring an oil retention volume of a lubricating system including at least one member, the system enabling the retention volume of each member of said system to be known. This datum enables thereafter the validation of specifications produced in a design phase during development tests to optimize the mass of turbojet engines.\n    One of the advantages of the invention is to have a sensor enabling a quantity of oil, in mass for example, to be directly measured, in the fluid for a given volume at the outlet of a member.\n    According to one embodiment, the first fluid is a mixture of air and oil. The invention enables different mixtures to be treated, but this embodiment takes account of the field of the invention wherein oil and air are mixed according to different states in the engine.\n    In one embodiment, the second flowmeter is a scavenge pump dimensioned to avoid overload of a member of the lubricating system by determining a maximum air proportion admissible in the first fluid. It could also be a simple flowmeter at the outlet of a member. In this embodiment, the flowmeter enables different functions to be ensured such as measuring a flow rate but also pumping the fluid traversing the member. According to one embodiment, the pumping properties can be configured depending on the fluid, its volume, the desired flow velocity or even the nature of the member.\n    According to an improved embodiment, the device is an optical device comprising an emitter emitting a light beam traversing the first fluid flowing inside the member and a photosensor enabling the quantity of received light to be measured.\n    This solution can be readily implemented. Further, it enables to overcome the system vibrations or electromagnetic stresses which can sometimes be generated when a Coriolis flowmeter or respectively an electromagnetic flowmeter is used. Further, an optical sensor enables a good accuracy to be achieved and can be adapted to numerous configurations. In particular, thanks to the calibration data which are compared to the data collected by the sensor, the system of the invention enables several possible configurations to be taken into account.\n    In order to be compatible with the optical measuring device, the system comprises a conduit including at least one translucent portion for conveying the first fluid through the optical device. This property has the advantage to be simply implemented through a standard part readily adaptable to known conduits. The emitter and the optical sensor can be simply provided on either side of the conduit.\n    Advantageously, the translucent portion of the conduit includes an oblong-shaped section which enables to have a homogeneous surface on either side of the translucent conduit. These homogeneous surfaces enable values sensed on a sufficient area of the sensor to be obtained and which are representative of data relating to the oil proportion in the fluid.\n    In one embodiment, a memory enables the storing, for different outflow rates of the first member, of calibration values, enabling reference values of a response of the photosensor to be associated with a set of mixtures of a first reference fluid, each mixture comprising different air proportions.\n    One advantage is that the calibration is readily feasible with different characterized oil mixtures in the fluid. Light sensings made during calibration enable, for a given flow rate, a ratio of the quantity of oil contained in the fluid to be associated with a light level or a parameter of light waves such as phase, polarization, or wavelength.\n    Advantageously, the lubricating system comprises a plurality of members traversed by a plurality of fluids having different oil and air proportions at a given instant. The system comprises, in this case, for each member traversed by a fluid from the injector, a first flowmeter, a second flowmeter, and an optical device as previously defined.\n    In each branch, the previous elements are arranged such that the retention volumes of each member are calculated according to a measuring system as previously defined. The oil retention volume of the lubricating system is then calculated by summing each of said retention volumes of each member.\n    The object of the invention also relates to a method for measuring a resident oil volume in a member of a lubricating system of an engine, said member being traversed by a fluid comprising a mixture of oil and air.\n    Further, the method comprises:\n    injecting an oil volume at the inlet of said member by means of an injector; measuring the inflow rate of the oil volume in said member by means of a first flowmeter; generating a light beam through a translucent portion of a conduit conveying the fluid at the outlet of the member by means of an emitter; receiving the generated signal on a sensor, having traversed the conduit conveying the fluid; comparing the signal received with a table of calibration values taking into account different oil proportions in a reference fluid by means of a calculator, said fluid comprising a mixture of air and oil, the values being stored in a memory; measuring the flow rate of the fluid at the outlet of the member by means of a second flowmeter; calculating the quantity of oil in a given volume of fluid outflowing from the member; calculating the resident oil volume in the member.   \n\n    The invention also relates to a method for measuring a resident oil volume in a lubricating system of an engine, said system comprising a plurality of members each being traversed by a fluid injected by an injector, said fluid comprising a mixture of oil and air, the resident volume in each member being calculated according to the method previously described. The method further comprises calculating a resident oil volume in the lubricating system by summing the resident oil volumes in each of said members.\n    \n    \n    \n      BRIEF DESCRIPTION OF THE FIGURES\n      Further characteristics and advantages of the invention will appear upon reading the detailed description that follows, in reference to the appended figures, which illustrate:\n       FIG. 1: a schematic diagram of the measuring system of the invention on a branch of a regulating circuit including a member;\n       FIG. 2: an optical measuring device integrated into the system for measuring retention volumes;\n       FIG. 3: a curve of the time course of the inflow and outflow volumes of a member of a lubricating system.\n    \n    \n    \n    DESCRIPTION\n    In the following description, the notions “oil flow rate” or “oil volume” can be understood interchangeably by considering an oil volume for a given unit of time.\n    Thus, the measurement of a volume or flow rate is equivalent in consideration of the present invention and is not regarded as a restriction since either consideration leads to the claimed result.\n     FIG. 1 represents a portion 3 of a lubricating system 2 wherein an oil flow rate 1 is injected by means of an injector INJ. The system comprises different branches 10, 20, 30 in which the injected oil 1 is distributed. Neither the branches 20 and 30 are represented nor the general outlet of the system to which the different outlets of different branches led.\n    Each branch comprises at least one member; in the branch 10 represented in FIG. 1, a member ORG1 is represented. It can be an enclosure, an accessory box or even another element of the engine.\n    The invention aims at measuring the oil volume retained in the member ORG1. The entire oil retained in the lubricating system can be obtained by summing each oil volume retained in each member. Further, the total oil volume retained in the lubricating system can be also measured by another means such that those of prior art. It also possible to compare the results obtained by the method of the invention with those obtained by another method as regards the total volume for performing a correlation of the measurements. This approach allows to make sure of the results or to detect a measurement error. The invention also relates to this comparison step in an improved embodiment.\n    The measuring system of the invention is thus represented in FIG. 1. It comprises a first flowmeter DB1 which enables an oil volume 10 entering the member ORG1 to be measured on a given unit of time. At the flowmeter DB1, the injected oil is not mixed with air or if it is, the quantities will be too small such that the air volume at this level of the system is negligible.\n    Oil 10 penetrates the member ORG1 in which it is used for the lubrication thereof. In this step, oil is mixed with an air volume, noted A. Oil can be found depending on the members it traverses under different states. As air is sucked by an oil scavenger, the suction can also contribute to mixing oil and air. In the member ORG1, the fluid representing the oil-air mixture is called: the fluid 11.\n    There are two distinct modes wherein the system of the invention can be used.\n    A first mode corresponds to the transitory phase of the starting of the engine. During this transitory starting phase, the inflow and outflow rates of the member ORG1 will not be equal because there is more oil 10 which enters the member ORG1 than oil which outflows therefrom. The difference corresponds to the volume retained in the member ORG1. The measuring system of the invention precisely enables this retention volume to be measured.\n    The second mode corresponds to a stabilized operating mode, wherein the oil outflow rate is equal to the oil inflow rate. In this case, for given operating conditions, the retention volume in the member ORG1 is constant.\n     FIG. 3 illustrates the two curves of the time course in the inflow volume VE and the outflow volume VS in a member ORG1 in particular at start up, that is before the stabilisation phase from Tstab. It is understood that in this phase, the difference between the inflow volume VE and the outflow volume VS corresponds to the oil retention volume VR.\n    The measuring system of the invention thus enables the inflow volume to be measured in the member and the inflow rate D1 to be known initially.\n    The measurement of the oil inflow volume 10 can be made from a flowmeter or a volumetric meter. This is possible because in the feed system at the inlet of the member ORG1, the fluid is “single-phase”, it is pure oil or nearly pure oil, there is not the air/oil mixture which would bias the measurement of the pure oil flow rate yet.\n    By integrating the volume flow rate with respect to time, the measuring system of the invention enables the oil inflow volume to be deduced.\n    The measuring system of the invention further comprises at least one outlet flowmeter DB2 positioned at the outlet of the member ORG1. Each branch of the regulating circuit can be equipped with an outlet flowmeter. The outlet flowmeter DB2, according to one embodiment, can be a scavenge pump. The characteristics of each pump enable the fluid flow rate treated by the pump and thus the outflow rate of each member to be known. Further, a scavenge pump enables to facilitate the scavenging of oil flowing inside the member ORG1 while measuring the outflow rate D2 of this branch.\n    However, the fluid that circulates in the scavenge conduits is not pure or “nearly” pure oil, that is in close proportions, but an air/oil mixture comprising an air proportion being not negligible.\n    The fluid 11 comprises a non-negligible air volume on the one hand because the fluid that traverses the member is at the outlet in the form of an air/oil mixture and on the other hand because the scavenge pumps are dimensioned to avoid overload of the members and more particularly of the enclosures. Generally, in the lubricating systems of a turbomachine, the scavenge capabilities of such pumps ensure an air flow rate/oil flow rate ratio in the order of 1.5\n    The measuring system of the invention thus comprises a measuring device enabling a value representing a given quantity of oil in a given volume of the fluid at the outlet of the member ORG1 to be calculated. The value can represent a mass or volume indicator of the oil proportion in the fluid in a determined fluid volume.\n    An optical measuring device can be implemented in the measuring system of the invention. In this case, the optical measuring device comprises an emitter E1 enabling a light beam 15 to be generated through a transparent cavity 16 inside which the fluid flows, the beam traversing the cavity being then sensed by a sensor C1.\n    The cavity 16 can be a translucent conduit portion or a transparent transition tank. It is located at the outlet of the member ORG1. The fluid traversing the cavity 16 is then conveyed to an outlet to join the other fluid or oil fractions from the other members.\n     FIG. 2 details one embodiment of an optical measuring device 16 in which a translucent conduit 25 enables the fluid 11 to be circulated, said fluid comprising air 24 and oil 23 represented as droplets.\n    The beam 15 is generated by the emitter E1 such that it traverses the translucent conduit 25. The translucent conduit 25 includes a height identical throughout the portion traversed by the light beam. The conduit includes a width enabling a sufficient analysis area to be obtained on the sensor C1 to extract exploitable data and some accuracy level for the measurements. The analysis of the signals received can be made on a sufficient portion of a sensor C1 that has received a light beam.\n    The signals 15 downstream the translucent conduit 25, that is after they have passed through the conduit 25, are differently represented in FIG. 2 than before they pass through the conduit, that is upstream.\n    According to the configuration of the optical device 16 and the type of light rays chosen, the rays received by the sensor C1 can be studied according to different parameters such as their light intensity or power, their phase or their polarization or even taking into account modified wavelengths.\n    It is preferred in the system of the invention to use materials not altering the signals or at least such that only the oil proportion in the fluid is the factor determining the analysis of variations observed of the light signals on the sensor C1.\n    In the same way, the shape of the cavity, thus of the conduit, must be chosen in an optimized way to promote an exploitation of the results representative of the oil proportions in the fluid. A sufficient analysis area on the sensor C1 enables a sufficient sample of received values to be collected and enables to avoid errors related to occasional fluctuations of the oil proportion in the fluid.\n    In particular, an oblong section of the conduit can be chosen. It offers two parallel surfaces facing each other and enables to have a sufficient sensing area.\n    The choice of a conduit including a planar surface on either side of the crossing path of the light ray is particularly advantageous. As represented in FIG. 2, it is noticed that light signals traverse the conduit along the same optical path and are then received on the sensor C1.\n    It is understood that a conduit including a section being oblong for example, or being rectangular according to another example, enables the undesirable effects of a circular conduit, for example, to be restricted. The latter would actually induce light path deviations on the entire apparent area of a cylinder.\n    After generating a light beam, the measuring device of the invention enables the quantity of light which has traversed the conduit to be measured using a photosensor C1.\n    The quantity of light received by the sensor depends on the nature of the fluid which traverses the transparent conduit, in particular in the application described, it depends on the air and oil proportion in the fluid. The quantities of light received can be different depending on whether the fluid is oil, a mixture of air and oil or simply air.\n    To calibrate the optical device, it is possible to calibrate the different responses of the photosensor C1 at different characterized configurations of the mixture and fluid flow rate.\n    For this, the optical device can be associated with a calculator K and a memory M. The memory M enables curves or calibration tables to be stored and the calculator K enables comparisons between the stored calibration values and values generated from the signals received by the sensor C1 to be performed.\n    The second flowmeter DB2 enables the flow rate of the fluid and thus of the mixture to be measured.\n    The analysis of the received signals and their correlation in real time enables the oil proportion in the fluid outflowing from each member to be known at each time.\n    As the flow rate of the fluid 11 is known thanks to the characteristics of each scavenge pump, that is the second flowmeter DB2, a calculator enables the flow rate and oil outflow volume contained in the fluid 11 to be calculated. Further, this calculator can be the same as the calculator K already described.\n    Two parameters can be taken into account together to refine the measurements of the sensor:\n    the integration time of the beam on the sensor; the flow velocity of the fluid.   \n\n    Thus, when the flowmeter DB2 measures the flow rate and thus the flow velocity of the fluid 11, two indicators can be exploited:\n    a first indicator can be generated to the calculator K so as to choose a calibration table adapted to the fluid volume circulating in the translucent cavity; a second indicator enables to be taken into account in the frequency of the beam emitted and of the emission time slot.   \n\n    In the transitory starting phase during which there is more oil that enters the member ORG1 than oil that outflows therefrom, the time course of the inflow VE and outflow VS volumes can be followed as a function of time in accordance with the representation of FIG. 3. The graph of FIG. 3 enables to highlight the resident oil volume VR in each member by measuring the area between both curves.\n    The starting transitory phase is defined in FIG. 3 up to the stabilization achieved at TStab. From the moment when the stabilization is achieved, that is after TStab, the outflow volume VS is identical to the inflow volume VE. That is the oil volume retained in the member ORG1 is stable.\n    At each instant t1 of the transitory phase, that is at a moment before reaching TStab, the oil inflow volume is higher than the oil volume outflowing from the member, there is: VE(t1)>VS(t1).\n    By integrating with respect to time the functions inflow VE and VS between t=0s and t=TStab, the retention volume VR of each member is obtained by difference. This volume corresponds to the area of the hatched zone in FIG. 3.\n    The system of the invention could operate according to alternative embodiments in particular on the choice of the measuring device enabling the oil quantity in the fluid at the outlet of the member ORG1 to be determined.\n    First, an optical measuring device could be chosen so as to generate waves in ranges other than visible light wave ranges.\n    Typically, the waves in the ultraviolet or near-visible infrared range seem to obtain good results also with the choice of an appropriate sensor.\n    The use of a source of amplified waves or a laser could be integrated into the measuring device of the invention.\n    Finally, according to embodiments, the light beam could be in the form of pulsed waves, that is light sequences are emitted during a time slot. It is important that the time slot during which the beam is generated is lower by a predetermined factor than the flow velocity of the fluid. This enables a homogeneous measurement of the fluid quantity to be obtained without the fluid movement altering the measurements.\n    In the same way, a spread or single frequency spectrum can be used according to different configurations of the optical measuring device.\n    Other non-optical measuring devices could be used but with integration difficulties. From the latter, a solution to measure the flow rate (and thus the volume) of outflow oil would be to use mass flowmeters such as a Coriolis flowmeter or even an electromagnetic flowmeter, each of which enables the quantity of oil in the air/oil mixture to be known.\n    On the other hand, an optical device is preferred as a preferred embodiment because the optical device is not subjected to the restrictions of a non-vibratory environment because of the turbomachine can vibrate in use.\n    Finally, the optical device overcomes the oil conductivity which could be a drawback according to the use of an electromagnetic flowmeter and the test conditions. This also prevents from having to fill the oil with conductive particles, which would substantially bias the results to obtain the retention oil volume.\n    However, the invention integrates these alternatives which could be employed.\n    \n  \n    The invention claimed is:\n    \n      1. A system for measuring an oil retention volume of at least one first member of a lubricating system of an engine, an injected oil flowing inside the first member mixed with a first air volume, the mixture forming a first fluid, said measuring system comprising:\nan oil injector at an inlet of the lubricating system to feed said system;\na first flowmeter to measure a first oil flow rate at the inlet of the lubricating system;\na second flowmeter provided at an outlet of the first member, said second flowmeter to measure a second flow rate representing a flow rate of the first fluid at the outlet of the first member at a given instant;\na measuring device enabling a first value to be calculated at a given instant representing a quantity of oil in a given volume of the first fluid flowing inside said first member, and\na calculator configured to calculate:\na third oil flow rate at the outlet of the first member from the second flow rate of the first fluid measured and the first value calculated;\nthe oil retention volume in the first member from a comparison of the first oil flow rate with the third oil flow rate.\n\n\n    \n    \n      2. The system for measuring an oil retention volume according to claim 1, wherein the second flowmeter is a scavenge pump dimensioned to avoid overload of the first member of the system by determining a maximum air proportion admissible in the first fluid.\n    \n    \n      3. The system for measuring an oil retention volume according to claim 1, wherein the measuring device is an optical device comprising an emitter of a light beam traversing the first fluid passing through the first member and a photosensor enabling a quantity of received light to be measured.\n    \n    \n      4. The system for measuring an oil retention volume according to claim 3, further comprising a conduit including at least one translucent portion for conveying the first fluid through the optical device.\n    \n    \n      5. The system for measuring an oil retention volume according to claim 4, wherein the translucent portion of the conduit includes an oblong-shaped section.\n    \n    \n      6. The system for measuring an oil retention volume according to claim 3, further comprising a memory configured to store, for different outlet flow rates of the first member, calibration values, enabling reference values of a response of the photosensor to be associated with a set of reference mixtures of the first fluid, each mixture comprising different air proportions.\n    \n    \n      7. The system for measuring an oil retention volume according to claim 3, wherein the lubricating system comprises a plurality of members being traversed by a plurality of fluids having different oil and air proportions at a given instant, said system comprising, for each member traversed by a fluid from the injector, a first flowmeter, a second flowmeter and an optical device, such that retention volumes of each of the members are calculated and wherein the oil retention volume of the lubricating system is calculated by summing each of said retention volumes of each member.\n    \n    \n      8. The system for measuring an oil retention volume according to claim 1, wherein the measuring device comprises an emitter of a light beam traversing the first fluid passing through the first member and a photosensor enabling a quantity of received light to be measured.\n    \n    \n      9. The system for measuring an oil retention volume according to claim 8, wherein the measuring device comprises a conduit including at least one translucent portion for conveying the first fluid through an optical device including the emitter and the photosensor.\n    \n    \n      10. The system for measuring an oil retention volume according to claim 1, wherein the measuring device comprising a memory enabling the storage, for different outlet flows of the first member, of calibration values, enabling reference values of a response of the photosensor to be associated with a set of reference mixtures of the first fluid, each mixture comprising different air proportions.\n    \n    \n      11. A method for measuring a resident oil volume in a member of a lubricating system of an engine, said member being traversed by a fluid comprising a mixture of injected oil and air, said method comprising:\ninjecting an oil volume at an inlet of said member by an injector;\nmeasuring an inflow rate of the oil volume in said member by a first flowmeter;\ngenerating a light beam by an emitter through a translucent portion of a conduit provided at an outlet of the member and conveying the fluid;\nreceiving a signal generated by the emitter on a sensor, said signal having traversed the conduit conveying the fluid;\ncomparing the signal received with a table of calibration values taking into account different oil proportions in a reference fluid by a calculator, said fluid comprising a mixture of air and oil, the values being stored in a memory;\nmeasuring a flow rate of the fluid at the outlet of the member by a second flowmeter;\ncalculating a quantity of oil in a given volume of fluid outflowing from the member, and\ncalculating a resident oil volume in the member.\n\n    \n    \n      12. A method for measuring a resident oil volume in a lubricating system of an engine, said system comprising a plurality of members each being traversed by a fluid injected by an injector, said fluid comprising a mixture of oil and air, the resident oil volume in each member being calculated according to the method of claim 11, said method comprising calculating the resident oil volume in the lubricating system by summing the resident oil volumes in each of said members.\n    \n  "}
{"text":"Grip for syringe barrel, barrel assembly, and syringe\n\nABSTRACT\n\nA grip for a syringe barrel to be attached to a syringe barrel that includes a tubular body, and a flange provided on the tubular body and projecting outward, includes a flange receiving portion configured to receive the flange, and a side wall portion extending in a distal end direction from the flange receiving portion and configured to partially cover a proximal end portion of the tubular body adjacent to the flange. The side wall portion includes a fitting portion configured to be fitted to the proximal end portion of the tubular body, and an airflow portion configured to allow a sterilization gas to flow to an outer surface of the tubular body covered by the side wall portion.\n    \n    BACKGROUND\n    Technical Field\n    The present invention relates to a grip for a syringe barrel to be attached to a syringe barrel, a barrel assembly including such a grip for a syringe barrel, and a syringe.\n    Related Art\n    Some drug-filled syringes (prefilled syringes) use a plunger that is not coupled to a gasket to prevent medical malpractice. In such a prefilled syringe, a clip (backstop) for preventing the plunger from moving to a proximal end side and falling off from the barrel is attached (JP 2015-517860 A (US2015/105,734 A1)).\n    In addition, in order to facilitate gripping and operation of the syringe, it is also known to attach a clip (grip), having a finger hook portion protruding outward, to the proximal end portion of the barrel (WO2017/073658 (US2018/243,509 A1)).\n    These clips are fitted to an outer peripheral surface of the barrel at a fitting portion having a tubular shape and firmly attached to the syringe so as not to rattle or come off during operation of the syringe.\n    PRIOR ART DOCUMENTS\n    Patent Documents\n    Patent Document 1: JP2015-517860 A (US2015-105734A1)\n    Patent Document 2: WO2017-073658 A (US2018-243509A1)\n    SUMMARY\n    Problems to be Solved by the Invention\n    In recent years, in prefilled syringes for an ophthalmic application or the like, higher sterility of not only a drug to be administered and a part in a prefilled syringe in contact with the drug, but also whole of the prefilled syringe including a grip is required.\n    Therefore, the inventors have studied application of a surface sterilization method with a small heat load, such as the hydrogen peroxide sterilization, the ethylene oxide gas (EOG) sterilization, and the NO2 sterilization, to a prefilled syringe to which a grip is attached. These surface sterilization methods are sterilization with gas (sterilization gas), and in order to achieve higher sterility, it is preferable that the sterilization gas is brought into contact with a wider area of the surface of the prefilled syringe.\n    Therefore, the present invention provides a grip for a syringe barrel capable of achieving higher sterility in the state of being attached to a syringe barrel, a barrel assembly and a syringe including such a grip for a syringe barrel.\n    Means for Solving the Problems\n    The above object is achieved by the following.\n    A grip for a syringe barrel to be attached to a syringe barrel that includes a tubular body, and a flange provided on the tubular body and projecting outward, the grip includes a flange receiving portion configured to receive the flange, and a side wall portion extending in a distal end direction from the flange receiving portion and configured to partially cover a proximal end portion of the tubular body adjacent to the flange, wherein the side wall portion includes a fitting portion configured to be fitted to the proximal end portion of the tubular body, and an airflow portion configured to allow sterilization gas to flow to an outer surface of the tubular body covered by the side wall portion.\n    In addition, the above object is achieved also by the following.\n    A barrel assembly including: a syringe barrel including a tubular body and a flange provided at a proximal end of the tubular body and projecting outward; and the above grip for a syringe barrel attached to the barrel.\n    In addition, the above object is achieved also by the following.\n    A syringe including: the barrel assembly; a gasket slidably received in the barrel; and a plunger configured to move the gasket.\n    \n    \n    \n      BRIEF DESCRIPTION OF DRAWINGS\n       FIG. 1 is a front sectional view illustrating an example of a syringe of the present invention.\n       FIG. 2 is an enlarged sectional explanatory view of portion A in FIG. 1;\n       FIG. 3 is a perspective explanatory view of a grip for a syringe barrel used in the syringe in FIG. 1.\n       FIG. 4 is a right side view of the grip for a syringe barrel used in the syringe in FIG. 1.\n       FIG. 5 is a left side view of the grip for a syringe barrel used in the syringe in FIG. 1.\n       FIG. 6 is an enlarged cross-sectional explanatory view taken along line B-B in FIG. 1.\n       FIG. 7 is a perspective explanatory view illustrating a grip for a syringe barrel according to another example of the present invention.\n       FIG. 8 is an explanatory view of a syringe including a grip for a syringe barrel according to yet another example of the present invention and is an enlarged cross-sectional explanatory view corresponding to FIG. 6.\n       FIG. 9 is a perspective explanatory view illustrating a grip for a syringe barrel according to yet another example of the present invention.\n       FIG. 10 is an explanatory view of a syringe including the grip for a syringe barrel in FIG. 9, and is an enlarged cross-sectional explanatory view corresponding to FIG. 6.\n       FIG. 11 is a perspective explanatory view illustrating a grip for a syringe barrel according to yet another example of the present invention.\n       FIG. 12 is an explanatory view of a syringe including the grip for a syringe barrel in FIG. 11, and is an enlarged cross-sectional explanatory view corresponding to FIG. 6.\n       FIG. 13 is a perspective explanatory view illustrating a grip for a syringe barrel according to yet another example of the present invention.\n       FIG. 14 is a perspective explanatory view illustrating a grip for a syringe barrel according to yet another example of the present invention.\n       FIG. 15 is a perspective explanatory view illustrating a grip for a syringe barrel according to yet another example of the present invention.\n       FIG. 16 is a perspective explanatory view illustrating a grip for a syringe barrel according to yet another example of the present invention.\n       FIG. 17 is an explanatory view of a syringe including the grip for a syringe barrel in FIG. 16, and is an enlarged cross-sectional explanatory view corresponding to FIG. 6.\n       FIG. 18 is an enlarged sectional explanatory view of portion C in FIG. 17.\n       FIG. 19 is an enlarged sectional view of a proximal end portion of the syringe according to yet another example of the present invention.\n       FIG. 20 is a perspective explanatory view of a grip for a syringe barrel used in the syringe in FIG. 19.\n       FIG. 21 is a perspective explanatory view illustrating a grip for a syringe barrel according to yet another example of the present invention.\n    \n    \n    \n    DESCRIPTION OF EMBODIMENTS\n    A barrel assembly including a grip for a syringe barrel and a syringe according to the present invention will be described with reference to examples illustrated in the drawings.\n    In the present example, the description will be given assuming that the right side in FIG. 1 (the side on which a flange 22 of a syringe barrel 20 is formed) is a proximal end side or an upper side, the left side in FIG. 1 (the side on which a nozzle portion 23 of the syringe barrel 20 is provided) is a distal end side or a lower side, and the left-right direction in FIG. 1 (the axial direction of the syringe barrel 20) is an axial direction (the axial direction of a tubular body 21 or a side wall portion 32 of a grip 30).\n    A syringe 1 of the present invention includes a barrel assembly 2 including the syringe barrel 20 (hereinafter also simply referred to as barrel 20) and the grip 30 for a syringe barrel (hereinafter also simply referred to as grip 30) attached to the barrel 20, a gasket 11 slidably received in the barrel 20, and a plunger 12 configured to move the gasket 11.\n    The barrel 20 includes the tubular body 21 and the flange 22 provided on the tubular body 21 and projecting outward (in a direction orthogonal to the axial direction of the barrel 20). A distal end opening portion (nozzle portion) 23 configured to discharge drug is provided at the distal end portion of the barrel 20. In addition, the barrel 20 includes a collar 24 that covers a proximal end side portion of the nozzle portion 23.\n    A barrel-side screwing portion (female screwing portion) is formed on an inner surface of the collar 24.\n    The nozzle portion 23 is sealed by a seal cap 13, so that a drug 50 stored in the barrel 20 is prevented from leaking out and the drug 50 aseptically filled is prevented from coming into contact with the outside air.\n    Examples of constituent materials of the barrel 20 include various resins, e.g., polyolefin such as polyethylene and polypropylene, polystyrene, polyamide, polycarbonate, polyvinyl chloride, poly (4-methylpentene-1), acrylic resin, acrylonitrile-butadiene-styrene copolymer, polyester such as polyethylene terephthalate, cyclic polyolefin polymer, and cyclic olefin copolymer. Among the materials, resins such as polypropylene, cyclic polyolefin polymer, and cyclic olefin copolymer are preferable because these resins are easy to mold and have heat resistance. A cyclic olefin polymer or a cyclic olefin copolymer that has high transparency allowing the chemical solution filled inside to be visually confirmed from the outside and has heat resistance capable of withstanding high-pressure steam sterilization is particularly preferable as a material for forming the barrel 20.\n    The seal cap 13 includes a body part 51 having a rear end side hollow portion receiving the nozzle portion 23 of the barrel 20, and a seal member 52 received in the body part 51 and disposed at an upper end portion of the rear end side hollow portion. In addition, on an outer surface of the rear end side hollow portion, a cap side screw portion (male screw portion) capable of being screwed with a barrel side screw portion (female screw portion) formed on an inner surface of the collar 24 is formed.\n    Examples of molding materials of the seal cap 13 include various resins, e.g., polypropylene, polyethylene, polystyrene, polyamide, polycarbonate, polyvinyl chloride, poly (4-methylpentene-1), acrylic resin, acrylonitrile-butadiene-styrene copolymer, polyester such as polyethylene terephthalate, and cyclic polyolefin. Among the materials, resins such as polypropylene and cyclic polyolefin are preferable because these resins are easy to mold and have heat resistance.\n    As molding materials of the seal member 52, elastic materials, e.g., natural rubber, isoprene rubber, butyl rubber, butadiene rubber, fluororubber, synthetic rubber such as silicone rubber, and thermoplastic elastomer such as olefinic elastomer and styrene elastomer are preferable.\n    The gasket 11 received in the barrel 20 is made of elastic rubber or synthetic resin. The gasket 11 includes a body having a substantially cylindrical shape extending with substantially the same outer diameter as that of the gasket 11 and a plurality of annular ribs provided on an outer surface of the body. An outer surface of the annular rib is able to be in liquid-tight contact with an inner surface of the barrel 20 and is slidable in a liquid-tight state.\n    As molding materials of the gasket 11, elastic rubber (e.g., butyl rubber, latex rubber, silicone rubber, and the like), and synthetic resin (e.g., styrene elastomer such as styrene-butadiene-styrene (SBS) elastomer and styrene-ethylene-butylene-styrene (SEBS) elastomer, olefin elastomer such as ethylene-α-olefin copolymer elastomer, and the like) are preferably used.\n    The plunger 12 is made of hard or semi-hard resin. In this example, the plunger 12 includes a gasket pressing portion 14 provided at a distal end and having a small disk shape, a pressing operation portion 15 provided at a proximal end and having a disk shape, and a shaft portion 16 having a cross shaped section and extending in the axial direction of the barrel 20 between the gasket pressing portion 14 and the pressing operation portion 15. The shaft portion 16 may be a columnar shaft. The columnar shaft may be a rod, a circular column, a polygonal column, a cylindrical tube, a square tube, and the like.\n    The plunger 12 is not connected to the gasket 11, is capable of contacting a proximal end portion of the gasket 11 at the gasket pressing portion 14, and can move the gasket 11 to the distal end side by the pressing after the abutment.\n    A distal end side portion (the gasket pressing portion 14 and a part in the distal end side of the shaft portion 16) of the plunger 12 is received in the barrel 20 (tubular body 21). The plunger 12 includes a stopper portion 17 that is provided at a part (shaft portion 16) to be received in the barrel 20, configured to abut on the grip 30 (stopper abutment portion 31) described in detail later, and configured to restrict the plunger 12 from being slipped from the barrel 20. More specifically, the stopper portion 17 has a disk shape having the outer shape (outer diameter) smaller than the inner shape (inner diameter) of the barrel 20 (tubular body 21) and larger than the outer shape (outer diameter) of the shaft portion 16 of the plunger 12.\n    Examples of constituent materials of the plunger 12 including a hard or semi-hard resin such as high-density polyethylene, polypropylene, polystyrene, or polyethylene terephthalate may be preferably used.\n    In the syringe 1, a drug (medicinal solution) 50 is stored (filled) in the barrel 20 (or, in a space formed between the seal cap 13 and the gasket 11).\n    Although the drug 50 to be stored is not particularly limited, examples of the drug 50 include vitamins mainly as nutrients, sugars, electrolytes, organic acids, minerals, fat emulsions, amino acids, proteins, organ preparations, and the like. Furthermore, the examples of the drug 50 include general anesthetics mainly as therapeutic agents, drugs for central nervous system such as antipyretic analgesic antiphlogistic agents and general cold preparations, drugs for peripheral nervous system such as local anesthetics and muscle relaxants, drugs for sensory organ such as ophthalmologic agents, metabolic drugs such as circulatory drugs, respiratory drugs, digestive drugs, urogenital anal drugs, hormonal agents, antibiotics, and diabetes drugs, antitumor drugs, allergic drugs, biological preparations such as antibacterial agents and antiviral agents, and prescription drugs such as distilled water and physiological saline. In addition, the examples of the drug 50 include vaccines mainly as preventive agents, contrast agents mainly as diagnostic agents, and the like.\n    In these examples, many kinds of drugs are mainly composed of synthetic compounds of low molecular weight, synthetic compounds of middle molecular weight, biopharmaceuticals such as polypeptide preparations and protein preparations, and biologically derived pharmaceuticals such as blood preparations, but these substances can be used as drugs regardless of the use described above. In addition, substances that correspond to a molecular targeted drug such as an antibody can also be used as a drug. From the viewpoint of usability, the preferable dosage form of these drugs is a liquid preparation even in a drug having a dosage form of a solid preparation such as a powder preparation or a granule in addition to a liquid preparation.\n    In addition, as the drug 50, ophthalmic agents capable of being administered by puncture can be used. Specific target diseases for which such ophthalmic agents are used include choroidal neovascularization, age-related macular degeneration (both wet and dry), macular edema secondary to retinal vein occlusion (RVO) (including both branch retinal vein occlusion (bRVO) and central retinal vein occlusion (cRVO)), choroidal neovascularization secondary to pathologic myopia (PM), diabetic macular edema (DME), diabetic retinopathy, and proliferative retinopathy. Examples of the drug to be used for these target diseases include anti-VEGF antibodies used for the treatment of age-related macular degeneration, e.g., ranibizumab [trade name: LUCENTIS (registered trademark)], bevacizumab [trade name: AVASTIN (registered trademark)], and aflibercept [trade name: EYLEA (registered trademark)], and Conbercept known as VEGF-TrapEye (aflibercept intravitreal injection drug).\n    The structure of the grip 30 for a syringe barrel of the present invention will be described with reference to an example illustrated in FIGS. 1 to 6.\n    The grip 30 for a syringe barrel of this example includes a flange receiving portion 33 configured to receive the flange 22, and the side wall portion 32 extending in a distal end direction from the flange receiving portion 33 and configured to partially cover a proximal end portion of the tubular body 21 adjacent to the flange 22. The side wall portion 32 includes a fitting portion 34 configured to be fitted to the proximal end portion of the tubular body 21, and an airflow (ventilation) portion (openings 35) configured to allow a sterilization gas to flow to an outer surface of the tubular body 21 covered by the side wall portion 32.\n    In the example, the side wall portion 32 is cylindrical and has an insertion opening for insertion the proximal end portion of the tubular body 21 on a side thereof. In other words, the side wall portion 32 is a tubular portion (short substantially semi-cylindrical portion) having an insertion opening for the proximal end portion of the tubular body 21.\n    Specifically, the flange receiving portion 33 of the grip 30 constitutes a proximal end side portion of the grip 30. On the flange receiving portion 33, a pair of finger hook portions 36 and 36 is formed projecting outward (in the direction orthogonal to the axial direction of the barrel 20). The finger hook portions 36 and 36, being a couple, project in opposite directions from each other along the direction orthogonal to the axial direction of the barrel 20. The pair of finger hook portions 36 and 36 extends outward further than the flange 22 of the barrel 20. An operator can use the pair of finger hook portions 36 and 36 to hook fingers when operating the syringe 1.\n    The flange receiving portion 33 includes an upper plate portion 37 and a lower plate portion 38 that sandwich the flange 22. As illustrated in FIG. 4, a slit (opening) 39 is formed in the upper plate portion 37 of the flange receiving portion 33. The slit 39 is formed such that the shaft portion 16 of the plunger 12 can enter the slit 39. A part of an inner edge portion of the slit 39 is a stopper abutment portion 31 that abuts on the stopper portion 17 of the plunger 12. The stopper abutment portion 31 has the inner shape (inner diameter) larger than the outer shape (outer diameter) of the shaft portion 16 of the plunger 12 and smaller than the outer shape (outer diameter) of the stopper portion 17 of the plunger 12. As a result, the slit 39 allows the shaft portion 16 of the plunger 12 to pass through the stop per abutment portion 31, and abuts on the stopper portion 17 of the plunger 12. The plunger 12 received in the barrel 20 abuts on the stopper abutment portion 31 of the grip 30 at the stopper portion 17, so that the plunger 12 is restricted from being slipped or detached from the barrel 20.\n    As illustrated in FIG. 5, a slit (opening) 40 is formed in the lower plate portion 38 of the flange receiving portion 33. An inner edge portion of the slit 40 is integrated (connected) with the side wall portion 32 described in detail later.\n    As illustrated in FIG. 2, the interval between the upper plate portion 37 and the lower plate portion 38 of the flange receiving portion 33 is slightly larger than the thickness of the flange 22 of the barrel 20. As a result, a slight gap through which the sterilization gas can flow is formed between the upper surface (surface on the proximal end side) and/or the lower surface (surface on the distal end side) of the flange 22 and the upper plate portion 37 and/or the lower plate portion 38 of the flange receiving portion 33.\n    The grip 30 includes the side wall portion 32 extending in the distal direction, specifically, toward the axial distal end side from the flange receiving portion 33. The side wall portion 32 is integrated (connected) with the inner edge portion of the slit 40 in the lower plate portion 38 of the flange receiving portion 33 at the proximal end. The side wall portion 32 is formed with an attachment opening (attachment slit) 41 (insertion opening for the proximal end portion of the tubular body 21) extending over the entire length in the axial direction, and the proximal end portion of the barrel 20 (tubular body 21) is partially covered in a part other than the opening 41. The side wall portion 32 excluding the opening 41 extends in the circumferential direction. In other words, the side wall portion 32 is obtained by cutting out a part of the cylindrical member in the circumferential direction as the attachment slit 41, and is formed such that a cross section by a plane orthogonal to the axial direction has a C shape. In the example, the side wall portion 32 is a tubular portion (short substantially semi-cylindrical portion) having an insertion opening for the proximal end portion of the tubular body 21.\n    The attachment slit 41 in a natural state where the side wall portion 32 is not elastically deformed has an opening width smaller than the outer diameter of the tubular body 21 of the barrel 20. In the process of attaching the grip 30 to the barrel 20, the attachment slit 41 is elastically deformed by the barrel 20 to be widened. When the grip 30 has been attached to the barrel 20, the width of the attachment slit 41 returns to the original opening width by the elastic restoring force. As a result, the grip 30 is firmly attached to the barrel 20.\n    In the side wall portion 32, a part to be in direct contact with the outer surface of the tubular body 21 of the barrel 20 forms the fitting portion 34. In other words, the fitting portion 34 refers to an inner surface of the side wall portion 32 to be in direct contact with the outer surface of the tubular body 21 and a part of the side wall portion 32 corresponding to such an inner surface. In the present example, a part in the side wall portion 32 where the openings 35 (described in detail later) are not formed and an inner surface of the part form the fitting portion 34.\n    The plurality of openings 35 are formed in the side wall portion 32. These openings 35 constitute an airflow portion. In the grip 30, the airflow portion is formed by the openings 35 formed on the side wall portion 32. In the present example, the six openings 35 like rectangular holes (windows) are formed in the side wall portion 32. Each opening 35 penetrates the side wall portion 32 in the radial direction (direction orthogonal to the axial direction). Through the part where the openings 35 are formed, the outer surface of the tubular body 21 of the barrel 20 is exposed to the outside.\n    A contact area between the side wall portion 32 of the grip 30 for a syringe barrel and the proximal end portion of the tubular body 21 when the grip 30 is attached to the syringe barrel 20 is preferably 40% or less of the area of the proximal end portion of the tubular body 21 covered by the side wall portion 32. The airflow portion is formed by a non-contact area between the side wall portion 32 of the grip 30 for a syringe barrel and the proximal end portion of the tubular body 21 when the grip 30 is attached to the syringe barrel 20. With this configuration, sterilization is ensured.\n    In the present example, as illustrated in FIG. 6, in the side wall portion 32, the side wall portion 32 (fitting portion 34) where the openings 35 are not formed is formed to be thinner toward the inside in the cross section on a plane orthogonal to the axial direction. For this reason, the area of the contact portion between the fitting portion 34 and the barrel 20 is small. The contact area between the side wall portion 32 of the grip 30 for a syringe barrel and the proximal end portion of the tubular body 21 in the example illustrated in FIGS. 1 to 6 is 50% or less of the area of the proximal end portion of the tubular body 21 covered by the side wall portion 32.\n    In the side wall portion 32, 5 to 10 openings 35 like rectangular holes are preferably formed. In addition, the area of the part (fitting portion 34) where the inner surface of the side wall portion 32 and the outer surface of the tubular body 21 are in contact with each other is preferably 10 to 50%, and particularly preferably 10 to 40%, as compared with the case where the openings 35 are not formed (the area of the inner surface of the entire side wall portion 32). In addition, the length of the side wall portion 32 in the axial direction is preferably 0.17 to 3.4 mm, and particularly preferably 0.34 to 1.7 mm.\n    It is desirable that none of the openings 35 be opened at the distal end portion (end surface) of the side wall portion 32. As a result, the strength of the distal end portion of the side wall portion 32 is maintained, the grip 30 can be firmly attached to the barrel 20 while reducing the area of the fitting portion 34, and rattling or the like of the grip 30 can be suppressed.\n    As a constituent material of the grip 30, a hard or semi-hard resin, e.g., polyolefin such as polyethylene and polypropylene, polystyrene, polyamide, polycarbonate, polyvinyl chloride, poly (4-methylpentene-1), acrylic resin, acrylonitrile-butadiene-styrene copolymer, polyester such as polyethylene terephthalate, cyclic polyolefin polymer, and cyclic olefin copolymer is preferably used.\n    As the constituent material of the grip 30, a material having a thermal expansion coefficient (linear thermal expansion coefficient) larger than that of the barrel 20 may be used. As a result, when the syringe 1 is heated in a surface sterilization (gas sterilization) step described later, the inner surface (inner diameter) of the grip 30 expands more greatly than the outer surface (outer diameter) of the barrel 20 (tubular body 21), a slight gap is formed between a part of the inner surface (fitting portion 34) of the grip 30 and the outer surface of the tubular body 21, and the sterilization gas enters the gap, whereby the sterilizability of the syringe 1 can be improved.\n    A manufacturing method (manufacturing process) of such a syringe 1 will be described.\n    First, the barrel 20 attached to the seal cap 13 in the nozzle portion 23 of the barrel 20 is sterilized. The sterilization method adopted here is not particularly limited, and for example, an autoclave sterilization method using an autoclave (high temperature steam sterilization method), a surface sterilization method using a sterilization gas such as hydrogen peroxide or EOG (gas sterilization method), a radiation sterilization method by radiation irradiation such as γ ray or electron radiation, and the like can be used. Here, as an example, autoclave sterilization is performed.\n    Next, under a sterile environment, the barrel 20 having been sterilized is aseptically filled with the drug 50 that has already been subjected to sterilization treatment (for example, filtration sterilization or the like). In this example, the drug 50 for ophthalmic use, which is relatively sensitive to heat, is filled in the barrel 20. After the barrel 20 is filled with the drug 50, the gasket 11 is inserted into the barrel 20. Insertion of the gasket 11 (plugging) can be performed in a depressurized state.\n    Next, a part in the distal end side of the plunger 12 is received in the barrel 20, and the grip 30 is attached to the barrel 20. This operation can also be performed in a place under an unsterilized environment.\n    Next, the syringe 1 with the grip 30 attached to the barrel 20 is sterilized. In the present example, since the drug 50 stored in the barrel 20 is a drug for ophthalmic use that is relatively sensitive to heat, surface sterilization using a sterilization gas (here, NO2 (nitrogen dioxide)) is performed (NO2 sterilization).\n    As described above, the syringe 1 can be aseptically manufactured.\n    The grip 30 (side wall portion 32) of the present example has the plurality (here, six) of the openings 35. Through each opening 35, the sterilization gas is brought into contact with the outer surface of the proximal end portion of the barrel 20 (tubular body 21) partially covered by the side wall portion 32. As a result, the syringe 1 including the barrel 20 to which the grip 30 has been attached (barrel assembly 2) is more reliably sterilized.\n    In the present example, in the side wall portion 32, the side wall portion 32 (fitting portion 34) where the openings 35 are not formed is formed to be thinner toward the inside in the cross section on a plane orthogonal to the axial direction. As a result, the sterilization gas can be brought into contact with a wider area of the outer surface of the barrel 20 (tubular body 21) and the inner surface of the grip 30, while the strength of the fitting portion 34 is maintained. The shape of the fitting portion 34 in the side wall portion 32 is appropriately set based on molding conditions or the like.\n    In addition, the sterilization gas can enter a gap inevitably formed between the inner surface of the fitting portion 34 and the outer surface of the tubular body 21 from a peripheral portion of the fitting portion 34 in the side wall portion 32. In the grip 30 of the present example, since the openings 35 are formed in the side wall portion 32, the sterilization gas can enter between the inner surface of the fitting portion 34 and the outer surface of the tubular body 21 also from the peripheral portions of the openings 35. As a result, the sterilization gas can be brought into contact with a wider area of the outer surface of the barrel 20 (the tubular body 21) and the inner surface of the grip 30, so that sterilization can be performed more reliably. When focusing on such an effect, forming a large number of relatively small openings in order to increase the peripheral edge length of the openings (the total length of the peripheral edge portions of the openings) with respect to the opening area (the total area of the openings) is also effective. Specifically, it is conceivable that a large number of through holes are formed as relatively small openings.\n    The shape of the opening formed as the airflow portion in the side wall portion is not limited to the rectangular hole described above, and may be, for example, a circular, triangular, or other polygonal hole (window). In a grip 30 a illustrated in FIG. 7, a plurality of openings 35 a like triangular holes are formed in a side wall portion 32 a in a vertically inverted manner. In this case, the structure of a part in the side wall portion 32 a other than the part where the openings 35 a are formed is what is called a truss structure. As a result, when the opening area is the same, the strength of the side wall portion 32 a can be further increased as compared with the case where openings like rectangular holes are formed.\n    When the opening formed in the side wall portion is formed by the openings 35 a like triangular holes providing the side wall portion 32 a with the truss structure, six to 20 openings 35 a are preferably formed. The contact area between the side wall portion 32 a of the grip 30 a for a syringe barrel and the proximal end portion of the tubular body 21 is preferably 10 to 40% of the area of the proximal end portion of the tubular body 21 covered by the side wall portion 32 a. In other words, the contact area between the side wall portion 32 a of the grip for a syringe barrel and the proximal end portion of the tubular body 21 when the grip is attached to the syringe barrel (the area of the part where the inner surface of the side wall portion 32 a and the outer surface of the tubular body 21 are in contact with each other) is preferably 10 to 40% of the area of the proximal end portion of the tubular body 21 covered by the side wall portion 32 a (the area of the inner surface of the entire side wall portion 32 a when the openings are not formed). The airflow portion is formed by a non-contact area between the side wall portion 32 a of the grip 30 a for a syringe barrel and the proximal end portion of the tubular body 21 when the grip 30 a is attached to the syringe barrel 20.\n    In addition, as in a grip 30 b illustrated in FIG. 8, in a side wall portion 32 b, an inner surface of the side wall portion 32 b where openings 35 b are not formed excluding both axial end portions (a part excluding both end portions of the fitting portion, in other words, an intermediate part of the fitting portion) may be formed so as to be isolated from the outer surface of the tubular body 21. As a result, the sterilization gas can be brought into contact with a wider area of the outer surface of the barrel 20 (tubular body 21) and the inner surface of the grip 30 b, while the attachment force (fitting force) of the grip 30 b at both axial end portions of the side wall portion 32 b (fitting portion 34 b) to the tubular body 21 is maintained.\n     FIGS. 9 to 18 respectively illustrate barrel assemblies including grips for a syringe barrel and syringes according to other embodiments of the present invention. The forms of airflow portions in these examples are different from that of the grip 30 of the example (the syringe 1 and the barrel assembly 2) described above. In these examples, unless otherwise specified, the same names and reference numerals are used for configurations common to the example described above and the other examples, and detailed description thereof is omitted.\n    In the syringes and the barrel assemblies of the present invention illustrated in FIGS. 9 to 18, in the grip, the airflow portion is provided on the inner surface of the side wall portion, and the airflow portion is formed by a non-contact portion between the inner surface of the side wall portion and the outer surface of the tubular body. Such an airflow portion reduces an area of a contact portion (fitting portion) between the inner surface of the side wall portion and the outer surface of the tubular body, and increases a contact area between the sterilization gas and the inner surface of the side wall portion and the outer surface of the tubular body covered by the side wall portion.\n    In a syringe 7 and a barrel assembly 8 of the present invention illustrated in FIGS. 9 and 10, the airflow portion of a grip 60 for a syringe barrel (hereinafter simply referred to as the grip 60) is formed by a plurality of recesses 65 formed on an inner surface of a side wall portion 62.\n    Specifically, on the inner surface of the side wall portion 62 of the grip 60, a plurality (here, 10) of recesses 65 that have a substantially rectangular cross section on a plane orthogonal to the axial direction and extend in the axial direction are formed. Each recess 65 is formed over the entire length in the axial direction of the side wall portion 62. In other words, each recess 65 is open at both axial end portions of the side wall portion 62. The inner surface of the side wall portion 62 and the outer surface of the tubular body 21 are not in contact with each other at the part where the recesses 65 are formed.\n    In the present example, parts in the side wall portion 62 where the recesses 65 are not formed and the inner surface of the side wall portion 62 form fitting portions 64 configured to be fitted to the proximal end portion of the tubular body 21. The fitting portions 64 each have a substantially rectangular cross section on a plane orthogonal to the axial direction.\n    On the grip 60 (side wall portion 62) of the present example, the plurality (here, 10) of recesses 65 are formed. The sterilization gas is brought into contact with the inner surface of the side wall portion 62 and the outer surface of the proximal end portion of the barrel 20 (tubular body 21) partially covered by the side wall portion 62, through each recess 65. As a result, the syringe 7 including the barrel 20 to which the grip 60 has been attached (barrel assembly 8) is more reliably sterilized. The number of recesses 65 (fitting portions 64) is preferably 3 to 30, and particularly preferably 10 to 20.\n    In addition, in the present example, the recesses 65 formed on the grip 60 (side wall portion 62) are open at both axial end portions of the side wall portion 62, so that the sterilization gas easily flows (enters or passes) through the recesses 65. In addition, in this example, the width (circumferential dimension) of each recess 65 formed on the grip 60 (side wall portion 62) is wide at the distal end of the side wall portion 62 (the lower end of the side wall portion 62 in FIG. 9) and is narrowed toward the proximal end side. As a result, the sterilization gas easily comes in. In addition, the width (circumferential dimension) of each fitting portion 64 formed on the grip 60 (side wall portion 62) is narrow at the distal end of the side wall portion 62 (the lower end of the side wall portion 62 in FIG. 9) and is widened toward the proximal end side. As a result, an outer tube is reliably held at the proximal end side of the side wall portion 62.\n    In the side wall portion 62, three to 10 recesses 65 are preferably formed on the inner surface of the side wall portion 62. In addition, the contact area between the side wall portion 62 of the grip 60 for a syringe barrel and the proximal end portion of the tubular body 21 is preferably 0.1 to 40% of the area of the proximal end portion of the tubular body 21 covered by the side wall portion 62. In other words, the contact area between the side wall portion 62 of the grip for a syringe barrel and the proximal end portion of the tubular body 21 when the grip is attached to the syringe barrel (the area of the part where the inner surface of the side wall portion 62 and the outer surface of the tubular body 21 are in contact with each other) is preferably 0.1 to 40% of the area of the proximal end portion of the tubular body 21 covered by the side wall portion 62 (the area of the inner surface of the entire side wall portion 62 when the recesses are not formed). The airflow portion is formed by a non-contact portion (non-contact area) between the side wall portion 62 (inner surface of the side wall portion 62) of the grip 60 for a syringe barrel and the proximal end portion of the tubular body 21 (outer surface of the tubular body 21) when the grip 60 is attached to the syringe barrel.\n    In addition, a grip 60 g illustrated in FIG. 21 has the same configuration as that of the grip 60 illustrated in FIG. 9, and both grips have the same number of recesses 65 formed on the side wall portion 62 (10 pieces), but in the grip 60 g, the width (circumferential dimension) of each recess 65 is increased (in other words, the width of each fitting portion 64 is reduced). As a result, in the grip 60 g illustrated in FIG. 21, the contact area between the side wall portion 62 of the grip 60 g for a syringe barrel and the proximal end portion of the tubular body 21 is smaller than that of the grip 60 illustrated in FIG. 9 described above, and is 30% of the area of the proximal end portion of the tubular body 21 covered by the side wall portion 62.\n    In addition, also in the grip 60 g of the example illustrated in FIG. 21, the width of each recess 65 formed on the grip 60 g (side wall portion 62) is wide at the distal end of the side wall portion 62 (the lower end of the side wall portion 62 in FIG. 21) and is narrowed toward the proximal end side. As a result, the sterilization gas easily comes in. In addition, the width of each fitting portion 64 formed on the grip 60 g (side wall portion 62) is narrow at the distal end of the side wall portion 62 (the lower end of the side wall portion 62 in FIG. 21) and is widened toward the proximal end side. As a result, an outer tube is reliably held at the proximal end side of the side wall portion 62.\n    The cross-sectional shape on a plane orthogonal to the axial direction of each recess formed on the side wall portion as the airflow portion is not limited to a substantially rectangle as described above, and may be various shapes such as a triangular shape, a trapezoidal shape, another polygonal shape, and a crescent shape. It is desirable that the recesses be formed so as to have a trapezoidal or triangular cross section on a plane orthogonal to the axial direction such that the contact area between the inner surface of the side wall portion (fitting portion) and the outer surface of the tubular body is reduced (or, such that the shape of the fitting portion is narrowed radially inward in the cross section on a plane orthogonal to the axial direction). In addition, the recesses forming the airflow portion preferably extend parallel to the axial direction, but may extend obliquely or extend spirally with respect to the axis.\n     FIGS. 11 and 12 illustrate the barrel assembly including the grip for a syringe barrel and the syringe according to yet another embodiment of the present invention. The form of airflow portion in the present example is different from that of the grip 60 of the example (the syringe 7 and the barrel assembly 8) described above.\n    In a grip 60 a of a syringe 7 a and a barrel assembly 8 a of the present example, a side wall portion 62 a has a plurality of protrusions 66 formed on an inner surface of the side wall portion 62 a, and an airflow portion is formed by a space between a plurality of protrusions 66. In other words, an airflow portion is formed by a part (inter-protrusion portion 67) between a plurality of protrusions 66 formed on an inner surface of a side wall portion 62 a.  \n    Specifically, the plurality (here, 11) of protrusions 66 protruding radially inward are formed on the inner surface of the side wall portion 62 a of the grip 60 a. The protrusions 66 each have a substantially semicircular shape as viewed from the radially inner side of the side wall portion 62 a (as viewed in the radial direction), and are formed on the inner surface of the proximal end portion (upper end portion) of the side wall portion 62 a, the protrusions 66 being arranged on the same circle. Upper surfaces of the protrusions 66 are substantially flush with an upper surface of the lower plate portion 38. In the present example, surfaces of the protrusions 66 directed radially inward (inner surfaces of the protrusions 66) and a part of the side wall portion 62 a where the protrusions 66 are formed are fitting portions 64 a configured to be fitted to the proximal end portion of the tubular body 21. An inner surface of a part (inter-protrusion portion 67) of the side wall portion 62 a where the protrusions 66 are not formed is not in contact with the outer surface of the tubular body 21. In the grip 60 a, as the airflow portion, the inter-protrusion portion 67 which is a part not in contact with the outer surface of the tubular body 21 is formed on the inner surface of the side wall portion 62 a.  \n    On the grip 60 a (side wall portion 62 a) of the present example, the plurality (here, 11) of protrusions 66 are formed. The sterilization gas is brought into contact with the inner surface of the side wall portion 62 a and the outer surface of the proximal end portion of the barrel 20 (tubular body 21) partially covered by the side wall portion 62 a, through the inter-protrusion portion 67 that is formed between the protrusions 66 not in contact with the outer surface of the tubular body 21. As a result, sterilizability of the syringe 7 a including the barrel 20 to which the grip 60 a has been attached (barrel assembly 8 a) can be further improved.\n    In addition, the inter-protrusion portion 67 formed on the grip 60 a (side wall portion 62 a) is open to the outside at both axial end portions and both circumferential ends of the side wall portion 62 a, so that the sterilization gas easily flows (enters or passes) through the inter-protrusion portion 67.\n    In the side wall portion 62 a, 3 to 20 protrusions 66 are preferably formed on the inner surface of the side wall portion 62 a. In addition, the contact area between the side wall portion 62 a of the grip 60 a for a syringe barrel and the proximal end portion of the tubular body 21 is preferably 0.1 to 40% of the area of the proximal end portion of the tubular body 21 covered by the side wall portion 62 a. In other words, the area of a part (fitting portion 64 a) where the inner surface of the side wall portion 62 a (surfaces of the protrusions 66 directed radially inward) and the outer surface of the tubular body 21 are in contact with each other is preferably 0.1 to 40% of the area of the part where the inner surface of the side wall portion 62 a and the outer surface of the tubular body 21 are in contact with each other when the protrusions are not formed. In this example, the contact area between the side wall portion 62 a of the grip 60 a for a syringe barrel and the proximal end portion of the tubular body 21 is 14% of the area of the proximal end portion of the tubular body 21 covered by the side wall portion 62 a.  \n    The shape of each protrusion (as viewed in the radial direction) formed on the side wall portion is not limited to the exemplified semicircular shape, and may be, for example, a rectangular shape or another polygonal shape. In addition, the shape may be a conical shape, a triangular pyramid shape, another polygonal pyramid shape, a truncated cone shape, a triangular frustum shape, and another polygonal frustum shape that have a cross-sectional area gradually decreasing radially inward.\n    In addition, the protrusions formed on the grip (side wall portion) may have the form illustrated in FIG. 13. In a grip 60 b of the example illustrated in FIG. 13, projections 66 a having a granular shape are formed on the inner surface of the grip (side wall portion). As a result, the contact area (area of the fitting portion 64 a) between the protrusions 66 a (inner surface of the side wall portion 62 a) and the outer surface of the tubular body 21 can be significantly reduced.\n    In addition, the protrusions formed on the grip (side wall portion) may have the form illustrated in FIG. 14. Regarding a grip 60 c of the example illustrated in FIG. 14, protrusions 66 b having a substantially triangular pyramid (substantially tetrahedral) shape formed on an inner peripheral edge portion at a proximal end of the side wall portion 62 a in the grip 60 c are further illustrated in FIG. 14. As a result, also with the grip 60 c, the contact area (area of the fitting portion 64 a) between the protrusions 66 b (inner surface of the side wall portion 62 a) and the outer surface of the tubular body 21 can be significantly reduced.\n    The protrusions are not limited to those provided on the same circle as exemplified, and may be provided at arbitrary positions. In addition, for example, the protrusions may be provided over two or more rows on circles having different axial positions, or may be provided in two rows in an alternate (staggered) manner. A grip 60 d illustrated in FIG. 15 includes protrusions 66 a provided over two rows on circles (at the proximal end portion and the distal end portion of the side wall portion 62 a) having different axial positions.\n     FIGS. 16 to 18 illustrate the barrel assembly including the grip for a syringe barrel and the syringe according to yet another embodiment of the present invention. The form of airflow portion in the present example is different from that of the grip 60 of the examples (the syringes 7, 7 a and the barrel assemblies 8, 8 a) described above.\n    In a grip 60 e of a syringe 7 b and a barrel assembly 8 b of the present example, a side wall portion 62 b has a rough surface portion 68 formed on an inner surface of the side wall portion 62 b, and an airflow portion is formed by a gap formed in the rough surface portion 68. In other words, an airflow portion is formed by a rough surface portion 68 formed on an inner surface of a side wall portion 62 b.  \n    Specifically, the rough surface portion 68 is formed on the entire inner surface of the side wall portion 62 b of the grip 60 e (indicated by dot hatching in FIG. 16). The rough surface portion 68 is formed by publicly known surface processing such as embossing or shot blasting. In the present example, a mold (injection molding mold) for molding the grip 60 e is roughened in advance and the rough surface portion 68 is formed by emboss transfer (emboss processing).\n    The rough surface portion 68 formed on the inner surface of the side wall portion 62 b is preferably formed such that the sterilization gas can enter the rough surface portion 68 in a state where the grip 60 e is attached to the barrel 20 (tubular body 21).\n    As the degree of surface roughness of the rough surface portion 68, an embossed portion in which a plurality of recessed portions intersecting each other and having a thin grooved shape with a depth of about 5 to 1000 μm are formed is preferable.\n    As a result, a non-contact portion between the inner surface of the side wall portion 62 b and the outer surface of the tubular body 21 is formed at a part where the rough surface portion 68 is formed. FIG. 18 schematically illustrates that a portion 69 is formed on the rough surface portion 68 such that the sterilization gas can enter the portion 69 (unevenness of the rough surface portion 68 is significantly emphasized).\n    On the grip 60 e (side wall portion 62 b) of the present example, the rough surface portion 68 is formed. The sterilization gas is brought into contact with the inner surface of the side wall portion 62 b and the outer surface of the proximal end portion of the barrel 20 (tubular body 21) partially covered by the side wall portion 62 b, through the rough surface portion 68. As a result, the syringe 7 b including the barrel 20 (barrel assembly 8 b) to which the grip 60 e has been attached is more reliably sterilized.\n     FIGS. 19 and 20 illustrate the barrel assembly including the grip for a syringe barrel and the syringe according to yet another embodiment of the present invention. FIG. 19 is an enlarged sectional view of the proximal end portion of the syringe according to yet another example of the present invention. FIG. 20 is a perspective explanatory view of the grip for a syringe barrel used in the syringe in FIG. 19. A syringe 7 c in the present example includes a grip 60 f having an airflow portion with a form different from that of the grip 60 of the example (the syringe 7 and the barrel assembly 8) described above.\n    In the grip 60 f of the syringe 7 c and the barrel assembly 8 c of this example, a side wall portion 62 c has a tapered portion formed on an inner surface of the side wall portion 62 c, and an airflow portion 70 is formed between an inner surface of the tapered portion and the outer surface of the tubular body 21 covered by the side wall portion 62 c. In other words, an airflow portion 70 is formed by a tapered portion formed on an inner surface of a side wall portion 62 c. In addition, a fitting portion 64 c is formed of a small diameter portion (a part having a small inner diameter) at a base end of the tapered portion. The side wall portion 62 c is a tapered portion in which the inner diameter increases toward the distal end, and the entire outer diameter is substantially the same. The side wall portion 62 c therefore becomes thinner toward the distal end. In a part excluding the fitting portion 64 c, the proximal end portion of the barrel 20 (tubular body 21) partially covered by the side wall portion 62 c is not in contact with the side wall portion 62 c. In this part, therefore, the outer surface of the barrel 20 and the tapered portion (airflow portion 70) of the side wall portion 62 c come into contact with the sterilization gas. As a result, sterilizability of the syringe 7 c including the barrel 20 to which the grip 60 f has been attached (barrel assembly 8 c) can be further improved.\n    In the present example, in order to further reduce the area of the fitting portion 64 c and improve the sterilizability, as illustrated in FIG. 19, the inner surface (tapered portion 70) of the side wall portion 62 c is inclined so as to be separated from the outer surface of the tubular body 21 at a predetermined angle (θ) toward the distal end side. The area of the part (fitting portion 64 c) where the inner surface of the side wall portion 62 c and the outer surface of the tubular body 21 are in contact with each other is preferably 0.1 to 50%, and particularly preferably 10 to 40%, as compared with the case where the inner surface of the entire side wall portion 62 c is not the tapered portion. In addition, the taper angle (θ in FIG. 19) in the side wall portion 62 c is preferably 0.2 degrees or more, and particularly preferably 0.5 degrees or more. In addition, the fitting portion 64 c may include a recess or a groove extending in the axial direction and communicating the airflow portion 70 and the flange receiving portion 33. By providing such a recess or groove, the flow of the sterilization gas is further improved.\n    The inner surface of the side wall portion as the tapered portion is not limited to the inclined surface linearly separated from the outer surface of the tubular body 21 as in the present example, and may be, for example, a convex inward, curved surface or a concave outward, curved surface. In addition, the tapered portion may be provided from the axial center portion of the side wall portion toward the distal end side.\n    In the grip for a syringe barrel, and the barrel assembly and the syringe including such a grip for a syringe barrel of the present invention, the airflow portion of the grip is not limited to one that forms only one of the above-described opening and non-contact portion (recesses, inter-protrusion portion, rough surface portion, and tapered portion), and the airflow portion may be formed by appropriately combining these configurations.\n    INDUSTRIAL APPLICABILITY\n    A grip for a syringe barrel of the present invention is as follows.\n  (1) A grip for a syringe barrel to be attached to a syringe barrel that includes a tubular body, and a flange provided on the tubular body and projecting outward, \n\n    the grip including a flange receiving portion configured to receive the flange, and a side wall portion extending in a distal end direction from the flange receiving portion and configured to partially cover a proximal end portion of the tubular body adjacent to the flange, in which\n    the side wall portion includes a fitting portion configured to be fitted to the proximal end portion of the tubular body, and an airflow portion configured to allow a sterilization gas to flow to an outer surface of the tubular body covered by the side wall portion.\n    With the grip for a syringe barrel described above, the sterilization gas can be brought into contact with a wider range of the outer surface of the syringe barrel, and the syringe barrel attached to the syringe barrel grip is more reliably sterilized.\n    In addition, the above-described aspect may be as follows.\n  (2) The grip for a syringe barrel according to aspect (1), in which the side wall portion is cylindrical and has an insertion opening for insertion the proximal end portion of the tubular body on a side thereof. (3) The grip for a syringe barrel according to (1) or (2), in which the airflow portion is formed by a plurality of openings formed in the side wall portion. (4) The grip for a syringe barrel according to (1) or (2), in which the airflow portion is provided on an inner surface of the side wall portion, and the airflow portion is formed by a non-contact portion between the inner surface of the side wall portion and the outer surface of the tubular body. (5) The grip for a syringe barrel according to (4), in which the airflow portion reduces an area of a contact portion between the inner surface of the side wall portion and the outer surface of the tubular body, and increases a contact area between sterilization gas and the inner surface of the side wall portion and the outer surface of the tubular body covered by the side wall portion. (6) The grip for a syringe barrel according to (4) or (5), in which the airflow portion is formed by a plurality of recesses formed on the inner surface of the side wall portion. (7) The grip for a syringe barrel according to (4) or (5), in which the side wall portion has a plurality of protrusions formed on the inner surface of the side wall portion, and the airflow portion is formed by a space between a plurality of protrusions. (8) The grip for a syringe barrel according to (4) or (5), in which the side wall portion has a rough surface portion formed on the inner surface of the side wall portion, and the airflow portion is formed by a gap formed in the rough surface portion. (9) The grip for a syringe barrel according to (4) or (5), in which the side wall portion has a tapered portion formed on the inner surface of the side wall portion, and the airflow portion is formed between an inner surface of the tapered portion and the outer surface of the tubular body covered by the side wall portion. (10) The grip for a syringe barrel according to any one of (1) to (9), in which a contact area between the side wall portion of the grip for a syringe barrel and the proximal end portion of the tubular body when the grip is attached to the syringe barrel is 40% or less of the area of the proximal end portion of the tubular body covered by the side wall portion, and the airflow portion is formed by a non-contact area between the side wall portion of the grip for a syringe barrel and the proximal end portion of the tubular body when the grip is attached to the syringe barrel. \n\n    A grip for a syringe barrel of the present invention is as follows.\n  (11) A grip for a syringe barrel to be attached to a syringe barrel that includes a tubular body, and a flange provided on the tubular body and projecting outward, the grip comprising: \n\n    a flange receiving portion configured to receive the flange; and a side wall portion extending in a distal end direction from the flange receiving portion and configured to partially cover a proximal end portion of the tubular body adjacent to the flange, wherein\n    the side wall portion includes a fitting portion configured to be fitted to the proximal end portion of the tubular body, and an airflow portion configured to allow sterilization gas to flow to an outer surface of the tubular body covered by the side wall portion, and\n    the side wall portion is cylindrical and has an insertion opening for insertion the proximal end portion of the tubular body on a side thereof, and\n    the airflow portion is provided on an inner surface of the side wall portion, and the airflow portion is formed by a non-contact portion between the inner surface of the side wall portion and the outer surface of the tubular body.\n    With the grip for a syringe barrel described above, the sterilization gas can be brought into contact with a wider range of the outer surface of the syringe barrel, and the syringe barrel attached to the syringe barrel grip is more reliably sterilized.\n    In addition, the above-described aspect may be as follows.\n  (12) The grip for a syringe barrel according to (11), in which a contact area between the side wall portion of the grip for a syringe barrel and the proximal end portion of the tubular body when the grip is attached to the syringe barrel is 40% or less of the area of the proximal end portion of the tubular body covered by the side wall portion. \n\n    A barrel assembly of the present invention is as follows.\n  (13) A barrel assembly including: a syringe barrel including a tubular body and a flange provided at a proximal end of the tubular body and projecting outward; and the grip for a syringe barrel according to any one of (1) to (12) attached to the barrel. \n\n    With the barrel assembly described above, the sterilization gas can be brought into contact with a wider range of the outer surface of the syringe barrel, and the barrel assembly is more reliably sterilized.\n    A syringe of the present invention is as follows.\n  (14) A syringe including: the barrel assembly according to (13); a gasket slidably received in the barrel; and a plunger configured to move the gasket. \n\n    With the syringe described above, the sterilization gas can be brought into contact with a wider range of the outer surface of the syringe barrel, and the syringe is more reliably sterilized.\n    In addition, the above-described aspect may be as follows.\n  (15) The syringe according to (14), in which a distal end side portion of the plunger is received in the barrel, and the plunger includes a stopper portion that is provided at a part to be received in the barrel, configured to abut on the grip, and configured to restrict the plunger from being slipped from the barrel. (16) The syringe according to (14) or (15), in which the plunger is not connected to the gasket and includes a gasket pressing portion that is provided at a distal end and is capable of contacting a proximal end portion of the gasket. (17) The syringe according to any one of (14) to (16), in which a drug is stored in the barrel. \n\n    \n  \n    \n       1. A grip for a syringe barrel to be attached to a syringe barrel that includes a tubular body, and a flange provided on the tubular body and projecting outward, the grip comprising:\na flange receiving portion configured to receive the flange; and a side wall portion extending in a distal end direction from the flange receiving portion and configured to partially cover a proximal end portion of the tubular body adjacent to the flange, wherein the side wall portion includes a fitting portion configured to be fitted to the proximal end portion of the tubular body, and an airflow portion configured to allow sterilization gas to flow to an outer surface of the tubular body covered by the side wall portion. \n    \n    \n       2. The grip for a syringe barrel according to claim 1, wherein the side wall portion is cylindrical and has an insertion opening for insertion the proximal end portion of the tubular body on a side thereof.\n    \n    \n       3. The grip for a syringe barrel according to claim 1, wherein the airflow portion is formed by a plurality of openings formed in the side wall portion.\n    \n    \n       4. The grip for a syringe barrel according to claim 1, wherein the airflow portion is provided on an inner surface of the side wall portion, and the airflow portion is formed by a non-contact portion between the inner surface of the side wall portion and the outer surface of the tubular body.\n    \n    \n       5. The grip for a syringe barrel according to claim 4, wherein the airflow portion reduces an area of a contact portion between the inner surface of the side wall portion and the outer surface of the tubular body, and increases a contact area between sterilization gas and the inner surface of the side wall portion and the outer surface of the tubular body covered by the side wall portion.\n    \n    \n       6. The grip for a syringe barrel according to claim 4, wherein the airflow portion is formed by a plurality of recesses formed on the inner surface of the side wall portion.\n    \n    \n       7. The grip for a syringe barrel according to claim 4, wherein the side wall portion has a plurality of protrusions formed on the inner surface of the side wall portion, and the airflow portion is formed by a space between a plurality of protrusions.\n    \n    \n       8. The grip for a syringe barrel according to claim 4, wherein the side wall portion has a rough surface portion formed on the inner surface of the side wall portion, and the airflow portion is formed by a gap formed in the rough surface portion formed on the inner surface of the side wall portion.\n    \n    \n       9. The grip for a syringe barrel according to claim 4, wherein the side wall portion has a tapered portion formed on the inner surface of the side wall portion, and the airflow portion is formed between an inner surface of the tapered portion and the outer surface of the tubular body covered by the side wall portion.\n    \n    \n       10. The grip for a syringe barrel according to claim 1, wherein a contact area between the side wall portion of the grip for a syringe barrel and the proximal end portion of the tubular body when the grip is attached to the syringe barrel is 40% or less of the area of the proximal end portion of the tubular body covered by the side wall portion, and the airflow portion is formed by a non-contact area between the side wall portion of the grip for a syringe barrel and the proximal end portion of the tubular body when the grip is attached to the syringe barrel.\n    \n    \n       11. A grip for a syringe barrel to be attached to a syringe barrel that includes a tubular body, and a flange provided on the tubular body and projecting outward, the grip comprising:\na flange receiving portion configured to receive the flange; and a side wall portion extending in a distal end direction from the flange receiving portion and configured to partially cover a proximal end portion of the tubular body adjacent to the flange, wherein the side wall portion includes a fitting portion configured to be fitted to the proximal end portion of the tubular body, and an airflow portion configured to allow sterilization gas to flow to an outer surface of the tubular body covered by the side wall portion, and the side wall portion is cylindrical and has an insertion opening for insertion the proximal end portion of the tubular body on a side thereof, and the airflow portion is provided on an inner surface of the side wall portion, and the airflow portion is formed by a non-contact portion between the inner surface of the side wall portion and the outer surface of the tubular body. \n    \n    \n       12. The grip for a syringe barrel according to claim 11, wherein a contact area between the side wall portion of the grip for a syringe barrel and the proximal end portion of the tubular body when the grip is attached to the syringe barrel is 40% or less of the area of the proximal end portion of the tubular body covered by the side wall portion.\n    \n    \n       13. A barrel assembly comprising: a syringe barrel including a tubular body and a flange provided at a proximal end of the tubular body and projecting outward; and the grip for a syringe barrel according to claim 1 attached to the barrel.\n    \n    \n       14. A syringe comprising: the barrel assembly according to claim 13; a gasket slidably received in the barrel; and a plunger configured to move the gasket.\n    \n    \n       15. The syringe according to claim 14, wherein a distal end side portion of the plunger is received in the barrel, and the plunger includes a stopper portion that is provided at a part to be received in the barrel, configured to abut on the grip, and configured to restrict the plunger from being slipped from the barrel.\n    \n    \n       16. The syringe according to claim 14, wherein the plunger is not connected to the gasket and includes a gasket pressing portion that is provided at a distal end and is capable of contacting a proximal end portion of the gasket.\n    \n    \n       17. The syringe according to claim 14, wherein a drug is stored in the barrel.\n    \n  "}
{"text":"Systems and methods for variable filter adjustment by heart rate metric feedback\n\nABSTRACT\n\nA physiological signal processing system for a physiological waveform that includes a cardiovascular signal component provides a variable high pass filter that is responsive to the physiological waveform, and that is configured to high pass filter the physiological waveform in response to a corner frequency that is applied. A heart rate metric extractor is responsive to the variable high pass filter and is configured to extract a heart rate metric from the physiological waveform that is high pass filtered. A corner frequency adjuster is responsive to the heart rate metric extractor and is configured to determine the corner frequency that is applied to the variable high pass filter, based on the heart rate metric that was extracted. Analogous methods may also be provided.\n    \n    CROSS REFERENCE TO RELATED APPLICATION\n    This application is a continuation application of and claims priority from U.S. patent application Ser. No. 15/784,960, filed on Oct. 16, 2017, now U.S. Pat. No. 10,512,403, which is a continuation application of and claims priority from U.S. patent application Ser. No. 14/124,465, filed on Dec. 6, 2013, now U.S. Pat. No. 9,801,552, which is a 35 U.S.C. § 371 national stage application of PCT International Application No. PCT/US2012/048079, filed Jul. 25, 2012, which itself claims the benefit of provisional Patent Application No. 61/514,099, filed Aug. 2, 2011, entitled Systems and Methods for Variable Filter Adjustment by Physiological Metric Feedback, assigned to the assignee of the present invention, the disclosures of which are hereby incorporated herein by reference in their entirety as if set forth fully herein.\n    \n    \n    BACKGROUND\n    Various embodiments described herein relate generally to signal processing systems and methods, and more particularly to physiological signal processing systems and methods.\n    There is a growing market demand for personal health and environmental monitors, for example, for gauging overall health, fitness, metabolism, and vital status during exercise, athletic training, work, public safety activities, dieting, daily life activities, sickness and physical therapy. These personal health and environmental monitors process physiological signals that may be obtained from one or more physiological sensors, and are configured to extract one or more physiological metrics from physiological waveforms. Unfortunately, inaccurate physiological metric extraction can reduce the accuracy of health, fitness and/or vital status monitoring.\n    SUMMARY\n    It should be appreciated that this Summary is provided to introduce a selection of concepts in a simplified form, the concepts being further described below in the Detailed Description. This Summary is not intended to identify key features or essential features of this disclosure, nor is it intended to limit the scope of the invention.\n    Various embodiments described herein can provide physiological signal processing systems for physiological waveforms that include cardiovascular signal components therein. These physiological signal processing systems may include a variable high pass filter that is responsive to the physiological waveform and that is configured to high pass filter the physiological waveform in response to a corner frequency that is applied thereto. A heart rate metric extractor is responsive to the variable high pass filter and is configured to extract a heart rate metric from the physiological waveform that is high pass filtered. A corner frequency adjustor is responsive to the heart rate metric extractor and is configured to determine the corner frequency that is applied to the variable high pass filter, based on the heart rate metric that was extracted. A physiological metric assessor may also be provided that is responsive to the heart rate metric extractor and that is configured to process the heart rate metric to generate at least one physiological assessment.\n    Physiological waveforms may be processed according to various embodiments described herein. For example, the physiological waveform may include an electroencephalogram (EEG), an electrocardiogram (ECG) and/or a radio frequency (RF) waveform, an electro-optical physiological waveform including a photoplethysmograph (PPG) waveform, an electro-photoacoustic waveform including a photoacoustic waveform, an electro-mechanical physiological waveform including an auscultation waveform, a piezo sensor waveform and/or an accelerometer waveform, and/or an electro-nuclear physiological waveform. Moreover, various physiological assessments may be provided including ventilator threshold, lactate threshold, cardiopulmonary status, neurological status, aerobic capacity (VO2 max) and/or overall health or fitness.\n    Various configurations of variable high pass filters may also be provided according to various embodiments described herein. For example, the variable high pass filter may comprise a single high pass filter having an adjustable corner frequency, wherein the corner frequency adjustor is configured to determine the adjustable corner frequency. Alternatively, the variable high pass filter may comprise a plurality of high pass filters, a respective one of which includes a different value of the corner frequency, wherein the corner frequency adjustor is configured to select one of the plurality of high pass filters that corresponds to the corner frequency that is determined.\n    Various other embodiments of variable high pass filters may also be provided. Analog variable high pass filters may be provided with adjustable component values thereof. Alternatively, the variable high pass filter may comprise a variable digital high pass filter having a plurality of delay taps, wherein the corner frequency corresponds to a number of the plurality of delay taps that are selected to filter the physiological waveform. In these embodiments, the corner frequency adjuster may comprise a mapping system that is configured to map the heart rate metric that is extracted from the physiological waveform that is filtered into the number of the delay taps that are selected to high pass filter the physiological waveform.\n    Various embodiments described herein can also configure the corner frequency adjuster to reduce or prevent locking on an erroneous heart rate metric. In some embodiments, the corner frequency adjuster is configured to initially set a predetermined corner frequency corresponding to a predetermined heart rate prior to determining the corner frequency that is applied to the variable high pass filter from the heart rate metric. The predetermined heart rate may be a resting heart rate, such as 72 beats per minute. The corner frequency adjuster may also be configured to initially set the predetermined corner frequency corresponding to the predetermined heart rate until the heart rate metric extractor locks on a heart rate of the physiological waveform. Moreover, the corner frequency adjuster may also be configured to reset or reapply the predetermined corner frequency corresponding to the predetermined heart rate in response to determining that the physiological sensor is no longer responsive to a source of the physiological waveform. The corner frequency adjuster may also be configured to determine the at least one corner frequency that is applied to the variable high pass filter from the heart rate metric by applying a margin to the heart rate metric. Moreover, the variable high pass filter may include a gradual filter transition band (i.e., it is not a brick wall filter).\n    Various embodiments described herein may also provide physiological signal processing systems that may be used with physiological sensors that are configured to generate a physiological waveform that includes cardiovascular and pulmonary signal components therein. A variable high pass filter and a variable low pass filter are provided that are responsive to the physiological waveform and that are configured to high pass and low pass filter, respectively, the physiological waveform in response to at least one corner frequency that is applied thereto. A heart rate metric extractor is provided that is responsive to the variable high pass filter and that is configured to extract a heart rate metric from the physiological waveform that is filtered by the variable high pass filter. A respiration rate metric extractor is provided that is responsive to the variable low pass filter and that is configured to extract a respiration rate metric from the physiological waveform that is filtered by the variable low pass filter. A corner frequency adjustor is also provided that is responsive to the heart rate metric extractor and that is configured to determine the at least one corner frequency that is applied to the variable high pass filter and the variable low pass filter from the heart rate metric.\n    The variable high pass and the variable low pass filter may respectively comprise a single high pass and a single low pass filter having an adjustable corner frequency, and the corner frequency adjustor may be configured to determine the adjustable corner frequency for the single high pass filter and the single low pass filter. Alternatively, the variable high pass filter and the variable low pass filter may respectively comprise a plurality of high pass filters and a plurality of low pass filters, a respective one of which includes a different corner frequency, and the corner frequency adjustor may be configured to select one of the plurality of high pass filters and one of the plurality of low pass filters that corresponds to the at least one corner frequency that is determined by the corner frequency adjustor.\n    Moreover, in some embodiments, the variable high pass filter and the variable low pass filter comprise a variable digital high pass filter and a variable digital low pass filter having a plurality of high pass and low pass delay taps, respectively, and the corner frequency is determined by a number of the high pass and low pass delay taps that are selected to filter the physiological waveform.\n    The corner frequency adjuster may also comprise a mapping system that is configured to map the heart rate metric that is extracted from the physiological waveform that is filtered into the number of the delay taps that are selected to filter the physiological waveform. The mapping system may be configured to determine a corner frequency of the variable low pass filter and the variable high pass filter by determining a maximum of a minimum heart rate and the heart rate metric minus a margin, and may be further configured to determine the number of delay taps by rounding a product of the delay of the delay taps and the minimum heart rate divided by the corner frequency that was determined. Moreover, the mapping system may be configured to determine a corner frequency of the variable low pass filter and the variable high pass filter by applying a margin to the heart rate metric, and may be further configured to determine the number of delay taps from the corner frequency that was determined.\n    Various embodiments described herein can also configure the corner frequency adjuster to reduce or prevent locking on an erroneous heart rate metric. In some embodiments, the corner frequency adjuster is configured to initially set at least one predetermined corner frequency corresponding to a predetermined heart rate prior to determining the at least one corner frequency that is applied to the variable high pass filter and the variable low pass filter from the heart rate metric. The predetermined heart rate may be a resting heart rate, such as 72 beats per minute. The corner frequency adjuster may be configured to initially set the at least one predetermined corner frequency corresponding to the predetermined heart rate until the heart rate metric extractor locks on a heart rate in the physiological waveform. The corner frequency may also be configured to reset or reapply the at least one predetermined corner frequency corresponding to the predetermined heart rate in response to determining that the physiological sensor is no longer responsive to a source of the physiological waveform. The corner frequency adjuster may be configured to determine the corner frequency that is applied to the variable high pass filter and the variable low pass filter from the heart rate metric by applying a margin to the heart rate metric. Moreover, the variable high pass filter may include a gradual filter transition band (i.e., it is not a brick wall filter).\n    In any of the embodiments described herein, the corner frequency adjuster may include hysteresis to reduce or prevent excessive filter adjustment. Moreover, in any of these embodiments, the at least one corner frequency may comprise a same corner frequency that is applied to the variable high pass and low pass filters. Finally, in any of these embodiments, the sensor may be a plethysmograph sensor and, more specifically, a photoplethysmograph sensor.\n    Various embodiments have been described above in connection with physiological signal processing systems. However, analogous physiological signal processing methods may also be provided according to various embodiments described herein. For example, some embodiments described herein can provide a physiological signal processing method comprising high pass filtering the physiological waveform in response to an adjustable high pass filter corner frequency, extracting a heart rate metric from the physiological waveform that is high pass filtered and determining the adjustable high pass filter corner frequency that is applied to the high pass filtering, from the heart rate that was extracted. Moreover, the determining may be provided by selecting one of a plurality of high pass filters that corresponds to the high pass filter corner frequency that is determined, or determining a number of a plurality of delay taps that are selected in the filtering. Other embodiments corresponding to the above described system embodiments also may be provided.\n    Yet other embodiments of physiological signal processing methods comprise obtaining a physiological waveform that includes cardiovascular and pulmonary signal components therein, variable high pass and low pass filtering the physiological waveform in response to at least one corner frequency, extracting a heart rate metric from the physiological waveform that is filtered by the variable high pass filtering, extracting a respiration rate metric from the physiological waveform that is filtered by the variable low pass filtering, and determining the at least one corner frequency that is applied to the variable high pass and low pass filtering from the heart rate metric that was extracted. Again, the determining may comprise adjusting the corner frequency for the variable high pass and low pass filtering, for example by selecting one of a plurality of high pass and low pass filters that corresponds to at least one corner frequency that is determined and/or determining a number of a plurality of high pass and low pass delay taps that are selected by the variable high pass and low pass filtering. Specifically, the heart rate metric may be mapped into the number of delay taps. This may be embodied, for example, by determining a corner frequency of the variable low pass and the variable high pass filtering by applying a margin to the heart rate metric and determining the number of delay taps from the corner frequency. Other embodiments corresponding to the above described system embodiments may also be provided.\n    \n    \n    \n      BRIEF DESCRIPTION OF THE DRAWINGS\n       FIGS. 1-4 are functional block diagrams of physiological signal processing systems and methods according to various embodiments described herein.\n       FIG. 5 is a functional block diagram of a digital variable high pass filter according to various embodiments described herein.\n       FIG. 6 is a functional block diagram of a digital variable low pass filter according to various embodiments described herein.\n       FIG. 7 is a flowchart of operations that may be performed by a corner frequency adjuster according to various embodiments described herein.\n       FIG. 8 graphically illustrates adjusting a corner frequency of a variable high pass filter according to various embodiments described herein.\n       FIG. 9 graphically illustrates adjusting a corner frequency of a variable low pass filter according to various embodiments described herein.\n       FIGS. 10-15 illustrate measured waveforms according to various embodiments described herein.\n    \n    \n    \n    DETAILED DESCRIPTION\n    The present invention will now be described more fully hereinafter with reference to the accompanying figures, in which various embodiments are shown. This invention may, however, be embodied in many different forms and should not be construed as limited to the embodiments set forth herein. Like numbers refer to like elements throughout. The sequence of operations (or steps) is not limited to the order presented in the figures and/or claims unless specifically indicated otherwise. Features described with respect to one figure or embodiment can be associated with another embodiment or figure although not specifically described or shown as such.\n    It will be understood that, when a feature or element is referred to as being “connected”, “attached”, “coupled” or “responsive” to another feature or element, it can be directly connected, attached, coupled or responsive to the other feature or element or intervening features or elements may be present. In contrast, when a feature or element is referred to as being “directly connected”, “directly attached”, “directly coupled” or “directly responsive” to another feature or element, there are no intervening features or elements present.\n    The terminology used herein is for the purpose of describing particular embodiments only and is not intended to be limiting of the invention. As used herein, the singular forms “a”, “an” and “the” are intended to include the plural forms as well, unless the context clearly indicates otherwise. It will be further understood that the terms “comprises” and/or “comprising,” when used in this specification, specify the presence of stated features, steps, operations, elements, and/or components, but do not preclude the presence or addition of one or more other features, steps, operations, elements, components, and/or groups thereof. As used herein, the term “and/or” includes any and all combinations of one or more of the associated listed items.\n    It will be understood that although the terms first and second are used herein to describe various features/elements, these features/elements should not be limited by these terms. These terms are only used to distinguish one feature/element from another feature/element. Thus, a first feature/element discussed below could be termed a second feature/element, and similarly, a second feature/element discussed below could be termed a first feature/element without departing from the teachings of the present invention.\n    Unless otherwise defined, all terms (including technical and scientific terms) used herein have the same meaning as commonly understood by one of ordinary skill in the art to which this invention belongs. It will be further understood that terms, such as those defined in commonly used dictionaries, should be interpreted as having a meaning that is consistent with their meaning in the context of the specification and relevant art and should not be interpreted in an idealized or overly formal sense unless expressly so defined herein. Well-known functions or constructions may not be described in detail for brevity and/or clarity.\n    The term “headset” includes any type of device or earpiece that may be attached to or near the ear (or ears) of a user and may have various configurations, without limitation. Headsets as described herein may include mono headsets (one earbud) and stereo headsets (two earbuds), earbuds, hearing aids, ear jewelry, face masks, headbands, and the like.\n    The term “real-time” is used to describe a process of sensing, processing, or transmitting information in a time frame which is equal to or shorter than the minimum timescale at which the information is needed. For example, the real-time monitoring of pulse rate may result in a single average pulse-rate measurement every minute, averaged over 30 seconds, because an instantaneous pulse rate is often useless to the end user. Typically, averaged physiological and environmental information is more relevant than instantaneous changes. Thus, in the context of embodiments of the present invention, signals may sometimes be processed over several seconds, or even minutes, in order to generate a “real-time” response.\n    The term “monitoring” refers to the act of measuring, quantifying, qualifying, estimating, sensing, calculating, interpolating, extrapolating, inferring, deducing, or any combination of these actions. More generally, “monitoring” refers to a way of getting information via one or more sensing elements. For example, “blood health monitoring” includes monitoring blood gas levels, blood hydration, and metabolite/electrolyte levels.\n    The term “physiological” refers to matter or energy of or from the body of a creature (e.g., humans, animals, etc.). In embodiments of the present invention, the term “physiological” is intended to be used broadly, covering both physical and psychological matter and energy of or from the body of a creature. However, in some cases, the term “psychological” is called-out separately to emphasize aspects of physiology that are more closely tied to conscious or subconscious brain activity rather than the activity of other organs, tissues, or cells.\n    The term “body” refers to the body of a subject (human or animal) who may wear a headset incorporating embodiments of the present invention.\n    In the included figures, various embodiments will be illustrated and described. However, it is to be understood that embodiments of the present invention are not limited to those worn by humans.\n    The ear is an ideal location for wearable health and environmental monitors. The ear is a relatively immobile platform that does not obstruct a person's movement or vision. Headsets located at an ear have, for example, access to the inner-ear canal and tympanic membrane (for measuring core body temperature), muscle tissue (for monitoring muscle tension), the pinna and earlobe (for monitoring blood gas levels), the region behind the ear (for measuring skin temperature and galvanic skin response), and the internal carotid artery (for measuring cardiopulmonary functioning), etc. The ear is also at or near the point of exposure to: environmental breathable toxicants of interest (volatile organic compounds, pollution, etc.); noise pollution experienced by the ear; and lighting conditions for the eye. Furthermore, as the ear canal is naturally designed for transmitting acoustical energy, the ear provides a good location for monitoring internal sounds, such as heartbeat, breathing rate, and mouth motion.\n    Wireless, Bluetooth®-enabled, and/or other personal communication headsets may be configured to incorporate physiological and/or environmental sensors, according to some embodiments of the present invention. As a specific example, Bluetooth® headsets are typically lightweight, unobtrusive devices that have become widely accepted socially. Moreover, Bluetooth® headsets are cost effective, easy to use, and are often worn by users for most of their waking hours while attending or waiting for cell phone calls. Bluetooth® headsets configured according to embodiments of the present invention are advantageous because they provide a function for the user beyond health monitoring, such as personal communication and multimedia applications, thereby encouraging user compliance. Exemplary physiological and environmental sensors that may be incorporated into a Bluetooth® or other type of headsets include, but are not limited to accelerometers, auscultatory sensors, pressure sensors, humidity sensors, color sensors, light intensity sensors, pressure sensors, etc.\n    Optical coupling into the blood vessels of the ear may vary between individuals. As used herein, the term “coupling” refers to the interaction or communication between excitation light entering a region and the region itself. For example, one form of optical coupling may be the interaction between excitation light generated from within a light-guiding earbud and the blood vessels of the ear. Light guiding earbuds are described in co-pending U.S. Patent Application Publication No. 2010/0217102, which is incorporated herein by reference in its entirety. In one embodiment, this interaction may involve excitation light entering the ear region and scattering from a blood vessel in the ear such that the intensity of scattered light is proportional to blood flow within the blood vessel. Another form of optical coupling may be the interaction between excitation light generated by an optical emitter within an earbud and the light-guiding region of the earbud.\n    Various embodiments described herein are not limited to headsets that communicate wirelessly. In some embodiments of the present invention, headsets configured to monitor an individual's physiology and/or environment may be wired to a device that stores and/or processes data. In some embodiments, this information may be stored on the headset itself. Furthermore, various embodiments described herein are not limited to earbuds. Some embodiments may be employed around another part of the body, such as a digit, finger, toe, limb, wrist, around the nose or earlobe, or the like. Other embodiments may be integrated into a patch, such as a bandage that sticks on a person's body.\n    Various embodiments described herein may arise from recognition that a physiological signal component in a physiological waveform may change dramatically over time, for example due to the user's activity level and/or other factors. In order to effectively extract a physiological metric from the physiological waveform, the physiological metric itself may be used to directly or indirectly adjust a parameter of a variable filter, such as a filter's low pass or high pass corner frequency. Accordingly, accurate filtering may be provided and accurate parameter extraction may be obtained, notwithstanding the large changes that may take place in the value of the physiological metric.\n    It also may be exceedingly difficult to extract metrics from physiological sensors that generate physiological waveforms that include multiple physiological signal components therein. For example, a physiological sensor, such as a plethysmograph or a photoplethysmograph, may include cardiovascular and pulmonary signal components therein. Unfortunately, these physiological metrics have overlapping frequency ranges. For example, the cardiovascular signal component (heart rate) may range from about 45 beats per minute to about 220 beats per minute, while the pulmonary signal component (respiration rate) may range from about 12 breaths per minute to about 70 breaths per minute. Due to the overlap, it may be exceedingly difficult to separate the two physiological components.\n    However, various embodiments described herein may arise from further recognition that, in general, although heart rate and respiration rate may overlap, their rise and fall may generally track due to, for example, changes in physical activity or the environment. Thus, they may both generally go up together and go down together. Accordingly, various embodiments described herein can provide a variable high pass and a variable low pass filter having at least one corner frequency that can be varied in response to a heart rate metric that is extracted from the high pass filtered physiological waveform. By providing variable filter adjustment using physiological metric feedback, the heart and/or respiration rate may be extracted accurately, notwithstanding the fact that they are contained in the same signal and overlap in their frequency ranges.\n    Various embodiments described herein may also arise from recognition that it did not appear to be heretofore possible to use an extracted heart rate to control a high pass filter that feeds a heart rate metric extractor. Specifically, due to the possibility for the extracted heart rate to be in error, the high pass filter may blind the metric extractor from the heart rate frequency in the physiological waveform signal. In other words, the heart rate metric extractor may get stuck at a high rate and, due to the high pass filtering that takes place, may never become responsive to the heart rate in the physiological waveform. Accordingly, the heart rate metric extractor may diverge or run away from the actual heart rate. Yet, despite these potential problems, various embodiments described herein can allow an extracted heart rate metric to be used to set a variable high pass filter corner frequency, and in some embodiments to also set a variable low pass filter corner frequency, while reducing or eliminating the heart rate extractor from being blinded to its own frequency.\n    Accordingly, various embodiments described herein can reduce or prevent locking on an erroneous heart rate metric. Thus, a heart rate metric can be used to set a corner frequency of a variable high pass filter for heart rate extraction. Moreover, the heart rate metric that is extracted may also be used to set a corner frequency for a variable low pass filter for respiration rate extraction, according to various embodiments described herein.\n     FIG. 1 is a functional block diagram of physiological signal processing systems and methods according to various embodiments described herein. Referring now to FIG. 1, these physiological signal processing systems/methods 100 may be used to process a physiological waveform 112 that is produced by a physiological sensor 110, and that includes a physiological signal component therein. The physiological waveform 112 may include an electrical physiological waveform including an electroencephalogram (EEG), an electrocardiogram (ECG) and/or a radio frequency (RF) waveform, an electro-optical physiological waveform including a photoplethysmograph (PPG) waveform, an electro-photoacoustic waveform including a photoacoustic waveform, an electro-mechanical physiological waveform including an auscultation waveform, a piezo sensor waveform and/or an accelerometer waveform, and/or an electro-nuclear physiological waveform. The physiological signal component may include a neurological, cardiovascular and/or pulmonary signal component. For example, in some embodiments, the physiological sensor 110 may be a plethysmograph sensor, such as a photoplethysmograph (PPG) sensor, and the physiological waveform may include both cardiovascular and pulmonary signal components therein.\n    Still referring to FIG. 1, a heart rate metric extractor 130 extracts a heart rate metric 132 from the physiological waveform 112. The heart rate metric extractor 130 may extract the heart rate metric using one or more conventional techniques. Moreover, a heart rate metric assessor 150 may be provided to assess the heart rate metric according to one or many known physiological metric assessment techniques. The physiological assessment may include ventilator threshold, lactate threshold, cardiopulmonary status, neurological status, aerobic capacity (VO2 max) and/or overall health or fitness.\n    Still referring to FIG. 1, the heart rate metric extractor 130 is coupled to the physiological sensor 110 by a variable high pass filter 120. The variable high pass filter 120 is responsive to the physiological sensor 110, and is configured to high pass filter the physiological waveform 112 in response to a corner frequency 142 that is applied thereto. The high pass filter 120 may include a single analog or digital high pass filter having an adjustable corner frequency 142. Alternatively, the variable high pass filter 120 may comprise a plurality of analog or digital high pass filters, a respective one of which includes a different value of the corner frequency 142. Moreover, depending on the physiological waveform that is processed, the variable filter may be a variable high pass, low pass, bandpass, notch and/or other filter, and the filter parameter may be a low pass filter corner frequency, a high pass filter corner frequency, a bandpass filter corner frequency and/or bandwidth and/or a notch frequency. The variable digital filter may be embodied by a plurality of delay taps, the number of which is selected to provide the variable filtering.\n    Still continuing with the description of FIG. 1, a corner frequency adjuster 140 is provided that is responsive to the heart rate metric extractor 130 and is configured to determine the corner frequency 142 that is applied to the variable high pass filter 120 based on the heart rate metric 132 that was extracted. Accordingly, variable filter adjustment by physiological metric feedback is provided.\n    Many embodiments of corner frequency adjusters 140 will be described in detail below. In general, the corner frequency adjuster 140 may be configured to determine a corner frequency that is applied to the variable high pass filter 120 or to select from among a plurality of variable high pass filters, for example by selecting a number of delay taps in a variable digital high pass filter. For example, as will be described in more detail below, the corner frequency adjuster 140 may include a mapping system that is configured to map the heart rate metric 132 that is extracted from the physiological waveform 112 that is filtered by the variable high pass filter 120, into a number of delay taps that is selected to filter the physiological waveform 112 by the variable high pass filter 120.\n     FIG. 2 is a functional block diagram of physiological signal processing systems and methods according to various other embodiments described herein. These physiological signal processing systems and methods 200 are configured to extract cardiovascular and pulmonary physiological signal components that are included in a physiological waveform 112 as provided by the physiological sensor 110. In some embodiments, the cardiovascular and pulmonary physiological signal components rise and fall in frequency roughly in tandem, and the cardiovascular signal component includes a highest frequency that is higher than the lowest frequency of the pulmonary signal component. It will be understood that more than two physiological signal components may be processed in other embodiments, but only two components are illustrated in FIG. 2 for ease of illustration.\n    In embodiments of FIG. 2, a variable high pass filter 220 a and a variable low pass filter 220 b may be provided. The variable high pass filter 220 a is responsive to the physiological waveform 112 and is configured to high pass filter the physiological waveform in response to a first corner frequency 242 a that is applied thereto. The variable low pass filter 220 b is responsive to the physiological waveform 112 and is configured to low pass filter the physiological waveform in response to a second corner frequency 242 b that is applied thereto. The first and second corner frequencies 242 a, 242 b may be identical in some embodiments, and may be different in other embodiments. Moreover, when the first physiological signal component is a cardiovascular signal component and the second physiological signal component is a pulmonary signal component, the first corner frequency 242 a is a high pass corner frequency and the second corner frequency 242 b is a low pass corner frequency.\n    Continuing with the description of FIG. 2, a heart rate metric extractor 230 a and a respiration rate metric extractor 230 b may be provided. The heart rate metric 232 a may be processed and analyzed by a heart rate metric assessor 250 a, and the respiration rate 232 b may be processed and analyzed by a respiration rate metric assessor 250 b. Many techniques for operating heart rate and respiration rate metric extractors and assessors are known, and need not be described further herein.\n    Still referring to FIG. 2, a corner frequency adjuster 240 is provided. The corner frequency adjuster 240 is responsive to the heart rate metric extractor 230 a to determine the first and second corner frequencies 242 a and 242 b that are applied to the variable high pass and low pass filters 220 a and 220 b, respectively. Various embodiments of the corner frequency adjuster 240 may be provided. Various detailed examples will be provided below.\n     FIG. 3 is a functional block diagram of an embodiment of FIG. 1 that may be used to extract a heart rate metric 132 from the physiological waveform 112′ that is produced by a PPG sensor 110′, wherein the physiological waveform 112′ includes both heart rate (HR) and respiration rate (RR) components. A variable high pass filter 120′ is embodied in FIG. 3 by a plurality of high pass filters 320, each of which includes a different corner frequency. The heart rate metric extractor 130 is configured to extract a heart rate metric 132 using any known technique. The corner frequency adjuster 140 of FIG. 1 is embodied by a corner frequency adjuster 140′, represented as a switch that is configured to select one of the plurality of high pass filters 320 that corresponds to the corner frequency that is determined. For example, in some embodiments, the corner frequency adjuster 140′ uses a mapping function to select one of the plurality of high pass filters 320 that has a corner frequency that is within a margin of the heart rate metric 132′. In some embodiments, the margin may correspond to a margin of between about 18 and about 30 beats per minute below the heart rate metric 132′. By selecting the appropriate high pass filter 320, the corner frequency adjuster 140′ can reduce or prevent the respiration rate component from interfering with the extraction of the heart rate component.\n    It will be understood that the margin may be selected as a function of the heart rate metric 132. For example, a table lookup may be used to map a heart rate metric 132 that is extracted into a desired high pass filter corner frequency, and then the filter 320 may be selected that has a corner frequency that is closest to the mapped corner frequency. It will also be understood that hysteresis may be used to reduce or prevent switching of the high pass filters 320 too rapidly, because the rapid switching may adversely affect the extraction of the heart rate metric by the heart rate metric extractor 130.\n    In other embodiments of FIG. 3, it may also be desirable to extract a respiration rate metric from the waveform 112′, so that low pass filters may be used in addition to high pass filters 320. The corner frequency adjuster 140′ may be configured to adjust low pass filter corner frequency by applying a given margin below the heart rate metric.\n     FIG. 4 is a more detailed functional block diagram of embodiments of FIG. 2, and may be used to extract a heart rate metric 232 a and a respiration rate metric 232 b from a PPG sensor 110′ that provides a PPG sensor waveform 112′ that includes both heart rate and respiration rate components. A variable high pass filter 220 a and a variable low pass filter 220 b is provided. Each of these filters may be embodied by a single filter with an adjustable corner frequency or by multiple filters having different corner frequencies, one of which may be selected. Heart rate extractor 230 a and respiration rate extractor 230 b are responsive to the variable high pass filter 220 a and the variable low pass filter 220 b, respectively, so as to obtain a heart rate metric 232 a and a respiration rate metric 232 b. The corner frequency adjuster previously described may be embodied by a mapping function 340. As shown in embodiments of FIG. 4, the mapping function 340 is responsive to the heart rate metric 232 a and is responsible for determining both the high pass filter corner frequency 242 a and the low pass filter corner frequency 242 b. In some embodiments, the same corner frequency may be used for both the variable high pass filter 220 a and the variable low pass filter 220 b. In other embodiments, the mapping function 340 may determine different corner frequencies 242 a and 242 b.  \n    In embodiments of FIG. 4, only the heart rate metric 232 a is used by the mapping function to determine the corner frequency for both the variable high pass filter 220 a and the variable low pass filter 220 b. It has been found, according to various embodiments described herein, that the heart rate metric 232 a may provide a more accurate basis for determining both corner frequencies, because the heart rate metric may be subject to less conscious control by the user compared to the respiration rate metric. A specific mapping function will be described below.\n    As was described above, the variable high pass filter 220 a and/or the variable low pass filter 220 b of FIG. 4 may comprise a variable digital high pass filter and/or a variable digital low pass filter. FIG. 5 illustrates an embodiment of a variable digital high pass filter, and FIG. 6 illustrates an embodiment of a variable digital low pass filter.\n    Referring to FIG. 5, these embodiments of a variable high pass filter 220 a′ include a plurality of high pass delay taps 510 that are generated by a plurality of digital delay elements 520. The digital delay elements 520 are responsive to an input signal, which may be the physiological waveform 112′ of a PPG sensor, and the variable high pass filter 220 a′ provides an output signal, which may be provided to a metric extractor, such as an HR extractor 230 a of FIG. 4. A “width” parameter determines the number of delay taps that are selected by a mean block 530 and a summing node 540, to determine the output signal. As shown in FIG. 6, the variable low pass filter 220 b′ can include a similar architecture. However, a summer 540 may not be needed in the variable low pass filter 220 b′ because the “DELAY” tap already feeds the mean block 530 with the same sign as the other taps 510.\n    Accordingly, FIGS. 5 and 6 illustrate various embodiments wherein the variable high pass filter (FIG. 5) and/or the variable low pass filter (FIG. 6) comprises a variable digital high pass filter 220 a′ and/or a variable digital low pass filter 220 b′ having a plurality of high pass and/or low pass delays taps 510, respectively, wherein the corner frequency is determined by a number of high pass and/or low pass delay taps 510 that are selected to filter the physiological waveform.\n    A specific embodiment of a mapping function 340 will now be described. In these embodiments, the mapping function 340 is configured to determine a corner frequency 242 a of the variable high pass filter 220 a′ and the corner frequency 242 b of the variable low pass filter 220 b′ by applying a margin to the heart rate metric 232 a, and is further configured to determine the number of delay taps 510 from the corner frequency that was determined.\n    A mathematical description of this mapping function 340 may be provided by Equations (1) and (2):\n\nCornerFreq=max(MINIMUM_HR_BPM,HeartRate−MARGIN BPM)  (1)\n\nWidth=round(DELAY*MINIMUM_HR_BPM/CornerFreq)  (2)\n\n    In Equations (1) and (2), variables in CAPITAL_LETTERS are predetermined constants, while variables in CamelCase may change every frame. In this mapping function, CornerFreq is the corner frequency 242 a and 242 b. MINIMUM_HR_BPM is the minimum heart rate to be measured in beats per minute. HeartRate is the heart rate metric 232 a that is measured. MARGIN_BPM is a desired margin between the reported heart rate and the corner frequency of the variable filter, which may be empirically determined. The margin allows for some error in the reported heart rate without causing significant attenuation by the variable high pass filter. Accordingly, in Equation (1) the corner frequency is determined by the maximum of either the minimum heart rate or the measured heart rate minus the margin that is set. Moreover, in Equation (2), Width is the parameter in FIGS. 5 and 6 that determines the number of delay taps 510. Specifically, in FIGS. 5 and 6, two times the width determines the number of delay taps that are input into the mean block 530. As shown in Equation (2), the width may be determined by rounding up or down the value of the delay of each of the delay elements 520 multiplied by the minimum heart rate divided by the corner frequency that was determined in Equation (1).\n    Accordingly, Equations (1) and (2) illustrate an embodiment wherein the mapping function 340 is configured to determine a corner frequency of the variable low pass filter 220 b and the variable high pass filter 220 a by determining a maximum of a minimum heart rate, and the heart rate metric 232 a minus the margin, and is further configured to determine the number of delay taps 510 by rounding a product of the delay 520 of the delay taps 510 and the minimum heart rate divided by the corner frequency 242 a/242 b that was determined. It will be understood, however, that many other mapping functions may be provided according to other embodiments described herein.\n    Embodiments that were described above in connection with FIGS. 1-4 use a heart rate metric that was extracted to provide corner frequency adjustment of a variable high pass filter for a heart rate metric extractor, and may also use the heart rate metric that was extracted to adjust a corner frequency of a variable low pass filter of a respiration rate metric extractor. Heretofore, it does not appear that feedback of an extracted heart rate was used to control a high pass filter feeding a heart rate metric extractor. Specifically, because of the possibility for the extracted heart rate to be in error, the variable high pass filter may blind the heart rate metric extractor from the heart rate frequency in the physiological waveform. Stated differently, the heart rate metric extractor could lock on, i.e., get stuck at, a high rate, and remain unresponsive to the actual heart rate in the physiological waveform. Specifically, if the heart rate metric extractor locks on a high rate, the variable high pass filter may filter out the actual (lower) heart rate frequency in the physiological waveform. Accordingly, the heart rate metric extractor may diverge or run away from the actual heart rate. Thus, heretofore, feedback of the extracted heart rate to control the high pass filter feeding the heart rate metric extractor does not appear to have been used. In sharp contrast, various embodiments described herein can reduce or prevent locking on an erroneous heart rate metric. Thus, various embodiments described herein can use feedback of the heart rate metric that was extracted to control the high pass filter feeding the heart rate metric extractor, as was illustrated in FIGS. 1-4. The heart rate metric that was extracted may also be used to feed the low pass filter for the respiration rate metric extractor, as was shown in FIGS. 2 and 4.\n     FIG. 7 is a flowchart of operations that may be performed by a corner frequency adjuster 700, such as the corner frequency adjuster 140 of FIG. 1, the corner frequency adjuster 240 of FIG. 2, the corner frequency adjuster 140′ of FIG. 3, or the mapping function 340 of FIG. 4, to reduce or prevent an erroneous extracted heart rate from blinding the heart rate metric extractor to the heart rate frequency in the physiological waveform. Referring now to FIG. 7, the corner frequency adjuster 700 may be configured to initially set at least one predetermined corner frequency corresponding to a predetermined heart rate prior to determining the at least one corner frequency that is applied to the variable high pass filter, and in some embodiments to the variable low pass filter, from the heart rate metric, as illustrated at Block 710. Thus, at startup, the extracted heart rate 132 may be initialized to a predetermined, relatively low heart rate, such as a resting heart rate of, for example, 72 beats per minute. By initially setting the extracted heart 132 at a low value, subsequent blinding of the metric extractor by the high pass filter that is set for a high heart rate, may be reduced or prevented. Thus, the corner frequency adjuster 700 is configured to reduce or prevent locking on an erroneous heart rate in the physiological waveform.\n    Then, at Block 720, once a heart rate metric is locked, the heart rate metric that was extracted may be used to determine the corner frequency at Block 730. Thus, Blocks 710-730 illustrate the use of a “hunting mode” at startup, where the corner frequency of the high pass filter, and in some embodiments of the low pass filter, is set at a predetermined frequency (Block 710) until the heart rate metric extractor locks on the heart rate PPG signal at Block 720. Then, the heart rate metric that was extracted may be used at Block 730.\n    One way to determine that the heart rate metric extractor has locked on the heart rate in the physiological waveform at Block 720 is to determine when the physiological waveform spectral peak is within a window around the extracted heart rate. The window may be a predetermined window that remains constant, or may be a variable window. If the spectral peak is within the window around the extracted heart rate, the heart rate may be deemed to be believed, whereas if it is outside the window, it could be noise, and therefore be erroneous.\n    Finally, at Block 740, a determination may be made that the physiological waveform signal is lost, for example, because the physiological sensor 110 goes off the body. A determination that the physiological sensor goes off the body may be obtained using a proximity sensor and/or other techniques. If the signal is lost at Block 740, operations may return to Block 710 to reset (i.e., reapply) the predetermined heart rate and then return into hunting mode at Blocks 720 and 730. On the other hand, as long as the signal is not lost at Block 740, the heart rate metric that was extracted may continue to be used to determine the at least one corner frequency at Block 730. Thus, the corner frequency adjuster is configured to reduce or prevent locking on an erroneous heart rate metric.\n    Other techniques may also be used to reduce or prevent the high pass filter from blinding the metric extractor to the heart rate frequency in the physiological waveform. For example, the high pass filters 120, 220 a, 120′ or 220 a′ may all use a gradual filter transition band. Stated differently, brick wall high pass filters are not used in these embodiments. Thus, the gradual transition high pass filter may have a greater ability to include the heart rate frequency in the high pass filtered signal. Another technique may use a margin between the extracted heart rate and the corner frequency of the high pass filter. For example, 18 beats per minute margin may be used, as was already described. The above described techniques may be used individually, or in various combinations and subcombinations, to reduce or prevent the high pass filter from blinding the metric extractor from the heart rate frequency in the physiological waveform, and thereby reduce or prevent locking on an erroneous heart rate metric.\n     FIG. 8 illustrates how the corner frequency of a variable high pass filter, such as the variable high pass filter 220 a′ of FIG. 5, may be varied using the mapping function 340 described by Equations (1) and (2) above, according to various embodiments described herein. FIG. 8 assumes a value of DELAY of 15 samples and plots the frequency response of the variable high pass filter 220 a′ with various width values from 10 to 15 at a sample rate of 25 Hz. As shown, the corner frequency of the variable high pass filter 220 a′, which may be measured at, for example, the −2 dB, −3 dB or −6 dB magnitude, can be varied by varying the width parameter. The high pass filter of FIG. 8 may be used to extract the heart rate metric 232 a.  \n     FIG. 9 illustrates analogous operations for a variable digital low pass filter 220 b′, such as illustrated in FIG. 6. Again, in FIG. 9, a DELAY value of 15 samples is plotted as a function of widths from 10 to 15. The cutoff frequency may be measured, for example, by the −12 dB, −10 dB or −8 dB points in the magnitude. Accordingly, variable cutoff frequency low pass filters may be used to extract the respiration rate metric 232 b.  \n     FIGS. 10-15 illustrate other measured results. Specifically, FIG. 10 graphically illustrates a typical noise-reduced PPG spectrum.\n     FIG. 11 illustrates a signal-to-noise-and-distortion measurement for the same signal in FIG. 10.\n     FIG. 12 illustrates raw samples of the physiological waveform 112′ that may be obtained by a PPG sensor 110′.\n     FIG. 13 illustrates heart rate HR (232 a of FIG. 4) and step rate SR (in steps per minute) that may be extracted by a system and/or method of FIG. 4 over time.\n     FIG. 14 illustrates a respiration rate metric that may be provided by a respiration rate extractor 230 b of FIG. 4 as a function of time. Finally, FIG. 15 illustrates a peak normalized spectrum for the respiration rate.\n    Various embodiments have been described herein primarily with respect to physiological signal processing systems. However, FIGS. 1-7 also describe analogous physical signal processing methods according to various embodiments described herein. For example, various analogous method embodiments described herein can select among multiple filters for extracting a physiological signal component, where the selection is controlled by an extracted physiological metric. The physiological metric can be the same or different than the physiological component. For example, an extracted heart rate metric can control the filtering of both heart rate and respiration rate. Variable filter adjustment by physiological waveform metric feedback may thereby be provided.\n    Various embodiments have been described herein with reference to block diagrams and a flowchart of methods, apparatus (systems and/or devices) and/or computer program products. It is understood that a block of the block diagrams and/or flowchart, and combinations of blocks in the block diagrams and/or flowchart, can be implemented by computer program instructions that are performed by one or more computer circuits. These computer program instructions may be provided to a processor circuit of a general purpose computer circuit, special purpose computer circuit, and/or other programmable data processing circuit to produce a machine, such that the instructions, which execute via the processor of the computer and/or other programmable data processing apparatus, transform and control transistors, values stored in memory locations, and other hardware components within such circuitry to implement the functions/acts specified in the block diagrams and/or flowchart, and thereby create means (functionality), structure and/or methods for implementing the functions/acts specified in the block diagrams and/or flowchart.\n    These computer program instructions may also be stored in a computer-readable medium that can direct a computer or other programmable data processing apparatus to function in a particular manner, such that the instructions stored in the computer-readable medium produce an article of manufacture including instructions which implement the functions/acts specified in the block diagrams and/or flowchart block or blocks.\n    A tangible, non-transitory computer-readable medium may include an electronic, magnetic, optical, electromagnetic, or semiconductor data storage system, apparatus, or device. More specific examples of the computer-readable medium would include the following: a portable computer diskette, a random access memory (RAM) circuit, a read-only memory (ROM) circuit, an erasable programmable read-only memory (EPROM or Flash memory) circuit, a portable compact disc read-only memory (CD-ROM), and a portable digital video disc read-only memory (DVD/Blu-Ray™).\n    The computer program instructions may also be loaded onto a computer and/or other programmable data processing apparatus to cause a series of operational steps to be performed on the computer and/or other programmable apparatus to produce a computer-implemented process or method such that the instructions which execute on the computer or other programmable apparatus provide steps for implementing the functions/acts specified in the block diagrams and/or flowchart.\n    Accordingly, the invention may be embodied in hardware and/or in software (including firmware, resident software, micro-code, etc.) that runs on a processor such as a digital signal processor, which may collectively be referred to as “circuitry,” “a module” or variants thereof.\n    It should also be noted that in some alternate implementations, the functions/acts noted in the blocks may occur out of the order noted in the blocks. For example, two blocks shown in succession may in fact be executed substantially concurrently or the blocks may sometimes be executed in the reverse order, depending upon the functionality/acts involved. Moreover, the functionality of a given block of the block diagrams and/or flowchart may be separated into multiple blocks and/or the functionality of two or more blocks of the block diagrams and/or flowchart may be at least partially integrated. Finally, other blocks may be added/inserted between the blocks that are illustrated.\n    Many different embodiments have been disclosed herein, in connection with the above description and the drawings. It will be understood that it would be unduly repetitious and obfuscating to literally describe and illustrate every combination and subcombination of these embodiments. Accordingly, the present specification, including the drawings, shall be construed to constitute a complete written description of all combinations and subcombinations of the embodiments described herein, and of the manner and process of making and using them, and shall support claims to any such combination or subcombination.\n    In the drawings and specification, there have been disclosed embodiments of the invention and, although specific terms are employed, they are used in a generic and descriptive sense only and not for purposes of limitation, the scope of the invention being set forth in the following claims.\n    \n  \n    What is claimed is:\n    \n      1. A physiological signal processing system comprising:\na physiological sensor that is configured to generate a physiological waveform that includes a cardiovascular signal component and a pulmonary signal component comprising overlapping frequency ranges therein;\na variable high pass filter and a variable low pass filter that are coupled to an output of the physiological sensor and are configured to high pass filter and low pass filter the physiological waveform, respectively, in response to at least one corner frequency that is applied thereto;\na respiration rate metric extractor that is coupled to an output of the variable low pass filter and is configured to extract a respiration rate metric from the physiological waveform that is low pass filtered;\na heart rate metric extractor that is coupled to an output of the variable high pass filter and is configured to extract a heart rate metric from the physiological waveform that is high pass filtered; and\na corner frequency adjustor that is coupled to an output of the heart rate metric extractor and is configured to determine the corner frequency that is applied to the variable low pass filter from the heart rate metric that was extracted from the physiological waveform that was high pass filtered.\n\n    \n    \n      2. A physiological signal processing system according to claim 1, wherein:\nthe pulmonary signal component of the physiological waveform is output from the variable low pass filter and the respiration rate metric extractor is configured to extract the respiration rate metric from the pulmonary signal component outputted from the variable low pass filter; and\nthe cardiovascular signal component of the physiological waveform is output from the variable high pass filter and the heart rate metric extractor is configured to extract the heart rate metric from the cardiovascular signal component outputted from the variable high pass filter.\n\n    \n    \n      3. A physiological signal processing system according to claim 1, wherein the physiological waveform comprises a photoplethysmograph (PPG) waveform.\n    \n    \n      4. A physiological signal processing system according to claim 1, wherein the physiological waveform comprises an electrical physiological waveform including an electroencephalogram (EEG), an electrocardiogram (ECG) and/or a radio frequency (RF) waveform, an electro-optical physiological waveform, an electro-photoacoustic waveform including a photoacoustic waveform, an electro-mechanical physiological waveform including an auscultation waveform, a piezo sensor waveform and/or an accelerometer waveform, and/or an electro-nuclear physiological waveform.\n    \n    \n      5. A physiological signal processing system according to claim 1, wherein the variable low pass filter comprises a single low pass filter having an adjustable corner frequency.\n    \n    \n      6. A physiological signal processing system according to claim 1, wherein the variable low pass filter comprises a plurality of low pass filters, a respective one of which includes a different value of the corner frequency, and wherein the corner frequency adjustor is configured to select one of the plurality of low pass filters that corresponds to the corner frequency that is determined.\n    \n    \n      7. A physiological signal processing system according to claim 1, wherein the variable low pass filter comprises a variable digital low pass filter having a plurality of delay taps and wherein the corner frequency corresponds to a number of the delay taps that are selected to filter the physiological waveform.\n    \n    \n      8. A physiological signal processing system according to claim 7, wherein the corner frequency adjustor comprises at least one processor configured to map the heart rate metric that is extracted into the number of the delay taps that are selected to low pass filter the physiological waveform.\n    \n    \n      9. A physiological signal processing system according to claim 1, wherein the corner frequency adjustor is configured to determine the corner frequency that is applied to the variable low pass filter based on the heart rate metric independent of the respiration rate metric.\n    \n    \n      10. A physiological signal processing system according to claim 8, wherein the corner frequency adjustor is configured to initially set a predetermined corner frequency corresponding to a predetermined heart rate prior to determining the corner frequency that is applied to the variable low pass filter from the heart rate metric.\n    \n    \n      11. A physiological signal processing system according to claim 1, further comprising:\na physiological metric assessor that is coupled to an output of the respiration rate metric extractor and that is configured to process the respiration rate metric to generate at least one physiological assessment.\n\n    \n    \n      12. A physiological signal processing system, comprising:\na variable low pass filter that is responsive to a physiological waveform and that is configured to low pass filter the physiological waveform in response to a corner frequency that is applied thereto;\na respiration rate metric extractor that is coupled to an output of the variable low pass filter and is configured to extract a respiration rate metric from a pulmonary signal component of the physiological waveform that is output from the variable low pass filter responsive to low pass filtering the physiological waveform;\na variable high pass filter that is responsive to the physiological waveform and that is configured to high pass filter the physiological waveform;\na heart rate metric extractor that is coupled to an output of the variable high pass filter and is configured to extract a heart rate metric from a cardiovascular signal component of the physiological waveform that is high pass filtered; and\na corner frequency adjustor coupled to an output of the heart rate metric extractor that is configured to determine the corner frequency that is applied to the variable low pass filter from the heart rate metric extracted by the heart rate metric extractor.\n\n    \n    \n      13. A physiological signal processing system according to claim 12,\nwherein the variable high pass filter is configured to high pass filter the physiological waveform in response to the corner frequency that is applied thereto.\n\n    \n    \n      14. A physiological signal processing system according to claim 12, wherein the physiological waveform comprises a photoplethysmograph (PPG) waveform.\n    \n    \n      15. A physiological signal processing system according to claim 12, wherein the physiological waveform comprises an electrical physiological waveform including an electroencephalogram (EEG), an electrocardiogram (ECG) and/or a radio frequency (RF) waveform, an electro-optical physiological waveform, an electro-photoacoustic waveform including a photoacoustic waveform, an electro-mechanical physiological waveform including an auscultation waveform, a piezo sensor waveform and/or an accelerometer waveform, and/or an electro-nuclear physiological waveform.\n    \n    \n      16. A physiological signal processing system according to claim 12, wherein the corner frequency adjustor is configured to determine the corner frequency that is applied to the variable low pass filter based on the heart rate metric independent of the respiration rate metric.\n    \n    \n      17. A physiological signal processing system according to claim 12, wherein the corner frequency adjustor is configured to determine the corner frequency that is applied to the variable low pass filter from the heart rate metric by applying a margin to the heart rate metric.\n    \n    \n      18. A physiological signal processing system according to claim 12, further comprising:\na physiological metric assessor that is coupled to an output of the respiration rate metric extractor and that is configured to process the respiration rate metric to generate at least one physiological assessment.\n\n    \n    \n      19. A physiological signal processing system according to claim 12, wherein the corner frequency adjustor is configured to initially set a predetermined corner frequency corresponding to a predetermined heart rate prior to determining the corner frequency that is applied to the variable low pass filter from the heart rate metric.\n    \n    \n      20. A physiological signal processing system according to claim 19, wherein the predetermined heart rate is a resting heart rate.\n    \n    \n      21. A physiological signal processing system according to claim 19, wherein the corner frequency adjustor is configured to initially set the predetermined corner frequency corresponding to the predetermined heart rate until the heart rate metric extractor locks on a heart rate in the physiological waveform.\n    \n    \n      22. A physiological signal processing method for a physiological waveform that includes a cardiovascular signal component and a pulmonary signal component therein, the physiological signal processing method comprising:\nexecuting, by at least one processor, computer program instructions stored in a non-transitory computer readable medium to perform operations comprising:\nlow pass filtering the physiological waveform in response to an adjustable low pass filter corner frequency;\nextracting a respiration rate metric from the pulmonary signal component of the physiological waveform that is output from the low pass filtering; and\ndetermining the adjustable low pass filter corner frequency that is applied to the low pass filtering from a heart rate metric that is extracted from the cardiovascular signal component of the physiological waveform that is high pass filtered by a variable high pass filter.\n\n    \n  "}
{"text":"Method for the generation of chemical libraries\n\nABSTRACT\n\nA method for the generation of oligomers or a mixture of oligomers to form a chemical library by amide-forming oligomerization comprises the steps of 1) reacting a mixture of at initiator (I) with monomer (M) to form a dimer of the initiator (I) and the monomer (M) or a pre-oligomer with an initiator (I) attached to a chain of more than one monomer (M) or a mixture thereof by amide-bond formation; 2) optionally adding at least one terminator (T) for the formation of a linear oligomer or a mixture of linear oligomers by amide-bond formation; or, for the formation of a cyclic oligomer or a mixture of cyclic oligomers by amide-bond formation, changing the reaction conditions relative to step 1) so as to form a linking covalent bond between the at least one initiator (I).\n    \n    TECHNICAL FIELD\n    The present invention relates to a method for the generation of an oligomer or a mixture of oligomers, in particular for providing chemical libraries for activity screening. It furthermore relates to a method for identifying active compounds from such a library using a tailored screening process.\n    PRIOR ART\n    The current practice of modern medicinal chemistry operates on a well-established strategy of hit identification, hit-to-lead, and lead optimization. These processes, in turn, rely on the preparation and high-throughput screening of vast libraries of organic compounds. For hit identification, it is not uncommon to screen one million or more compounds in a high-throughput biological assay. The screening of such large numbers of compounds requires a complex infrastructure of robotics, compound purification, and compound storage. Typically, each compound is prepared, purified, stored, and screened as a single molecular entity. This simplifies the identification of active hits and reduces false positives, but effectively prevents the expansion of chemical libraries beyond a few million compounds. It is now widely recognized that it is not possible for a single facility to store, handle and screen more than a few million organic compounds.\n    To circumvent this physical limitation, mixtures of compounds can be screened. Early attempts at the synthesis of screening of unpurified combinatorial mixtures of compounds were stymied by problems with reproducibility and biologically active impurities. Methods for screening large mixtures of tagged compounds, such as phage display, ribosome display, and DNA-encoded libraries provide a powerful and highly successful alternative. The major limitation of these methods is the types of compounds that can be produced through biological methods are largely limited to oligopeptides comprised of naturally occurring L-amino acids. A method to rapidly synthesize, screen, and deconvolute molecules comprised of unnatural units is in high demand.\n    The dissertation of Ying-Ling Chiang entitled SEQUENCE-CONTROLLED SYNTHESIS OF β3-PEPTIDES: SOLID-PHASE SYNTHESIS AND DNA-TEMPLATED SYNTHESIS (University of Pennsylvania, 2013) inter alia mentions a living homo-polymerization of α-ketoacid and a single isoxazolidine monomer, but does this hypothetically and not in a specific context of using the reaction results, and further points out the intrinsic solubility and reactivity issues as well as serious decomposition and fragmentation problems. Based on these considerations in the document a different synthetic approach is taken. Termination is not an issue.\n    Hiroshi Ishida et al (Tetrahedron Letters 50 (2009) 3258-3260) propose a new synthesis of an enantiopure isoxazolidine monomer for β3-aspartic acid in chemoselective β-oligopeptide synthesis via chemoselective α-ketoacid-hydroxylamine amide formation. The proposed route involves nitrone cycloaddition of 3-thiophenylpropanal and circumvents limitations of other potential starting materials.\n    Ying-Ling Chiang et al (Helvetica Chimica Acta—Vol. 95 (2012), 2481) propose a new method for the synthesis of enantiomerically pure isoxazolidine monomers for the synthesis of β3-oligopeptides via α-keto acid hydroxylamine (KAHA) ligation. The one-pot synthetic method utilizes in situ generated nitrones bearing gulose-derived chiral auxiliaries for the asymmetric 1,3-dipolar cycloaddition with methyl 2-methoxyacrylate. The resulting enantiomerically pure isoxazolidine monomers bearing diverse side chains (proteinogenic and non-proteinogenic) can be synthesized in either configuration (like- and unlike-configured). The scalable and enantioselective synthesis of the isoxazolidine monomers enables the use of the synthesis of b3-oligopeptides via iterative α-keto acidhydroxylamine (KAHA) ligation.\n    Nancy Carrillo et al (JACS 2006, 128, 1452-1453) propose an iterative, aqueous synthesis of α3-oligopeptides without coupling reagents with isoxazolidine acetals.\n    SUMMARY OF THE INVENTION\n    The preparation of thousands or millions of organic compounds in conjunction with high-throughput screening against a biological target is the prevailing method for developing new drugs. Methods that quickly generate chemical libraries embedded with complex functionalities through simple operations, minimal waste and easy purification are thus highly desirable. To meet these criteria, a new approach for the “on-demand” synthesis of chemical libraries has been developed by combining monomeric building blocks in aqueous buffer. This newly proposed method, which, inter alia, utilizes the chemoselective α-ketoacid-hydroxylamine (KAHA) amide-forming ligation as a core technology, allows chemical libraries to be prepared, screened, and deconvoluted using nothing more than standard pipetting or liquid handling techniques. The modular nature of the compounds enables easy tailoring for structure-activity-relationship (SAR) studies. As a proof-of-concept study, hepatitis C virus (HCV) protease inhibitor libraries were synthesized by mixing building blocks directly in multi-well plates. The reactions require no reagents and produce only CO2 and cyclohexanone as byproducts. Each reaction well contained β-peptide α-ketoamide products and was diluted and subjected to HCV protease assay without workup or purification. Wells containing active HCV protease inhibitors were deconvoluted by preparing focused libraries and the active compounds were synthesized and confirmed with simple operations all under aqueous conditions. The final proposed inhibitor was resynthesized using the same approach, isolated, fully characterized and the activity against HCV protease confirmed to have an IC50 of 1.0 μM.\n    The synthesis of chemical libraries for drug development is often associated with toxic reagents, organic solvents, tedious purifications, and complex handling of large numbers of isolated, individual compounds. Here a method to prepare large chemical libraries “on-demand”, simply by combining building blocks in aqueous solution is proposed. The resulting libraries are subjected to high-throughput screenings in an enzymatic assay without purification or further handling. From the active mixtures, the active compounds can be identified by deconvolution, re-synthesis and isolation. This method offers simple operations, minimal waste, reproducible on-demand library preparation, and avoid the need to store thousands of discrete compounds. No reagents or protecting groups are needed and minimal amounts of innocuous byproducts are formed. This chemistry allows combinatorial mixtures of β-peptide α-ketoamides to be quickly prepared, screened and deconvoluted. Once the building blocks are obtained, the only technique needed for the library preparation is liquid handling with a microliter pipette. The resulting libraries can be screened directly on multi-well plates using an enzymatic assay. The libraries themselves do not need to be stored and can be discarded and quickly reconstituted when needed. We demonstrate the successful preparation of a library of over 6,000 compounds prepared from only 23 building blocks, the screening of this library directly from the reaction mixtures, and its deconvolution to identify a 1.0 μM inhibitor of hepatitis C virus (HCV) protease.\n    It is possible to synthesize β-peptides in solution using isoxazolidine monomers (FIG. 1A). These monomers react chemoselectively with α-ketoacids to form amide bonds. Through consecutive repetition of monomer couplings and methyl ketoester hydrolysis, β-peptides can be obtained. This method provides a stepwise manner to form functionalized oligomers of controlled sequence; however, for syntheses of compound libraries, methods that can generate a large amount of various compounds in a one-pot fashion are needed. Therefore another type of isoxazolidine monomer (M) was designed that forms a new α-ketoacid upon ligation (FIG. 1B). The α-ketoacid can also couple with M and form oligomers of varying length and sequence; the addition of a terminator (T) ceases this oligomerization. To prepare libraries of protease inhibitors, a terminator was designed that forms a C-terminal α-ketoamide, as it is known to be an excellent pharmacophore for several classes of proteases such as serine proteases and cysteine proteases.\n    The unpurified mixtures, which contain only peptide oligomers and small amounts of the terminator (T), which is used in excess, can be subjected to biological assays directly without further purification. Importantly, the number of products expands exponentially in the reaction mixture with increasing types of α-ketoacid initiators (I), monomers (M), and terminators (T) (FIG. 1C). Simply by increasing the number of each component used in the library can dramatically expand the number of potential molecules formed. For reference, the use of just 50 different initiators (I), monomers (M), and terminators (T) can form well over 300 million molecules, considering only I-T, I-M-T, and I-M-M-T! If I-M-M-M-T and higher oligomers are considered, the numbers quickly reach into the hundreds of millions. For demonstrating this concept, in the following a much smaller number of components and possible products is analyzed (6 initiators, 8 monomers, 9 terminators; around 30,000 compounds). Larger numbers of compounds are of course readily available by biological methods, but there is currently no synthetic method to prepare such large libraries from relatively few starting materials by simply mixing components in aqueous solution followed by direct biological assay. The proof of concept of this approach is given in the detailed description.\n    Generally speaking, the present invention thus relates to and proposes a method as claimed in claim 1, namely a method for the generation of oligomers or a mixture of oligomers to form a chemical library by amide-forming oligomerization. The proposed method comprises the following the steps, in the given order:\n  1) reacting a mixture of at least one initiator (I) with at least one monomer (M) to form a dimer (I-M) of the initiator (I) and the monomer (M) or to form a pre-oligomer (I-M-M, I-M-M-M; . . . ) with an initiator (I) attached to a chain of more than one monomer (M) or a mixture thereof by amide-bond formation; 2) adding at least one terminator (T) for the formation of a linear oligomer (I-M-T, I-M-M-T, I-M-M-M-T, . . . ) or a mixture of linear oligomers by amide-bond formation; or, for the formation of a cyclic oligomer or a mixture of cyclic oligomers by amide-bond formation, changing the reaction conditions relative to step 1) so as to form a linking covalent bond between the at least one initiator (I) and a monomer (M), preferably the respective terminal monomer, of the dimer or pre-oligomer formed in step 1). \n\n    In step 1) either one single type of dimer can be generated, if one single initiator is used, or if one single initiator is used combined with several different monomers, well-controlled set of dimers of the single initiator with in each case one of the different monomers. In case of corresponding reaction conditions, reactant concentrations, it's also possible to obtain, when using one single initiator, an oligomer with the initiator combined with a chain of the monomers. In case of using several initiators, it is possible to obtain corresponding mixtures of the different initiators attached to corresponding chains of monomers. Correspondingly therefore the proposed reaction scheme is essentially free from side reactions, does not necessitate the sequential build-up of the chain, and can be controlled as concerns the distribution of the reaction products. It further allows for a well controllable, non-toxic reaction scheme to obtain either individual systems, or mixtures of systems in the sense of chemical libraries. By tailoring the distribution of the systems in a mixture of the corresponding chemical libraries can very efficiently be used in an incomplete factorial design approach to identify chemically and/or biologically active systems with a reduced separation/identification effort.\n    Further it is also possible to omit the reaction with the terminator, so that the final linear oligomer is given by structures of the type (I-M, I-M-M, I-M-M-M, . . . ). Preferably however the final linear oligomers terminated by a terminator structure.\n    Preferably essentially enantiopure building blocks (for the initiator and/or the monomer and/or the terminator) are used.\n    It should further be noted that it is also possible to produce, concomitantly, linear as well as cycling systems, in that e.g. initiators for the generation of linear systems are used in a mixture with initiators for the generation of cycling systems, and in that the step 2) is carried out once for the determination of the linear systems and once for the ring closure of the cyclic systems.\n    The importance of producing a large array of compounds in a fast and cost-effective way is well recognized. The proposed method provides compound libraries efficiently and can be practiced routinely in industry and academia. The normally associated concerns like complicated experimental procedures, expensive stoichiometric reagents, the need for protection of common functional groups, the occurrence of false positives, costly waste handling and time-consuming purifications, the major obstacles for library synthesis, which necessitate the preparation and storage of pure, isolated compounds, can be avoided. Herewith a self-assembly process for a β-peptide library synthesis is proposed that does not require reagents or protecting groups and operates under aqueous conditions. The resulting product mixtures can be screened directly in biological assays and the libraries can be rapidly modulated for optimization or deconvolution simply by changing the composition of the monomers or the addition order. The libraries can be quickly and reproducibly resynthesized as needed, rendering the need to isolate and purify each member obsolete. The requisite building blocks are readily synthesized in enantiomerically pure form and are stable to prolonged storage. By simply mixing these building blocks and heating the reaction solutions in microplates, chemical libraries are synthesized “on-demand”. Libraries of oligomers with specific chemical and physical properties can be easily obtained by employing designed building blocks owing to the modular nature of the self-assembly process. In analogy to the powerful phage display method for peptide and protein library syntheses using natural 20 amino acids, the building blocks used here can be incorporated with various functional groups by straightforward syntheses and are tolerated in the mild self-assembly process conditions.\n    As a proof of concept given in the detailed description, HCV protease inhibitor libraries were synthesized. Our processes to find target molecules are divided into four phases (FIG. 8). (1) Discovery phase: various building blocks are engaged in library syntheses. Components leading to inactive oligopeptides are eliminated. (2) Optimization phase: focused libraries are constructed from the selected moieties. Active mixtures are identified. (3) Deconvolution phase: the active wells in the focused libraries are deconvoluted and possible lead structures are proposed. (4) Identification phase: potential lead structures are further confined by HPLC separations. Syntheses, purification, and bioactivity determination of these compounds are carried out. Based on the preliminary lead structures, libraries with further optimized building blocks can be synthesized. With this method, a new HCV protease inhibitor with IC50 of 1.0 μM was isolated and fully characterized. Although this is only a modest inhibitor and the resulting molecule does not have ideal oral administration properties, the fact that it was discovered simply by combining a small number of monomers in aqueous conditions speaks to the promising method of lead identification inherit to this approach.\n    The proposed method can be applied in industry with the merit of low-cost operations and avoidance of hazardous organic chemicals. The aqueous-mediated library syntheses without involvement of purification steps minimize the amount of organic solvent waste. The self-assembly reactions happen readily at moderate temperature and produce only innocuous by products without costly reagents and metal catalysts. Any laboratory familiar with biological sample handling can design and compose libraries from the constituent building blocks. The method can be enhanced by employing automated microfluidic devices. With stored building blocks, library syntheses can be programmed by automated systems. This reduces the amount of starting materials, ensures the accuracy of liquid handling and allows a high-throughput synthesis process. The freshly prepared libraries are ready for biological assessments directly without further treatment and also avoid the unforeseen decomposition problem with old stored compound libraries. In conclusion, a new method to rapidly synthesize chemical libraries is proposed. This method provides an alternative conceptual operation in compound library generations for various purposes. A large number of β-peptides with various side chains can be generated in a one-pot fashion by the chemoselective reaction between α-ketoacids and isoxazolidine building blocks. The resulting libraries were subjected to HCV protease assays directly without further purification. Strategies for deconvolution and optimization were presented. A new HCV protease inhibitor was identified by this method.\n    Specifically, preferably the initiator (I) is selected from the group consisting of:\n    \n      \n        \n        \n           \n           \n        \n      \n    \n    with, for the formation of a linear oligomer or a mixture of linear oligomers by amide-bond formation, R being selected from the group consisting of: substituted or unsubstituted alkyl, heteroalkyl, cycloalkyl, heterocycloalkyl, aryl, heteroaryl, alkylaryl, heteroalkylaryl, alkenyl, heteroalkenyl, alkinyl, heteroalkinyl, —C(NH2)RI, —C(NH2) {RI—CO—C(NH2)}RI with n=1, 2 and RI being H or an amino-acid side chain, fluorescent dye, nucleic acid or derivative thereof, peptide nucleic acid, FLAG octapeptide (DYKDDDDK), biotin or affinity tag. Preferably the residue R comprises in the range of 1-10 carbon atoms, more preferably it is selected from the group consisting of benzyl, NO2 substituted benzyl, ethyl, carboxyethyl, hexyl, tert. Butyl.\n    For the formation of a cyclic oligomer or a mixture of cyclic oligomers by amide-bond formation, preferably R is selected from the group consisting of: —{(CH2)}nRc, —{(CHCH3)}nRc, —{(CH(1,1-dimethylethyl))}nRc, —{(CH(benzyl))}nRc, in each case with n=1,2 and Rc being a linker structure allowing to form a linking covalent amide bond to the respective terminal monomer of the dimer or oligomer formed in step 1).\n    In both cases (linear and cyclic oligomer formation) the following definitions preferably apply:\n  X+ is a counterion, selected from the group consisting of: K+, Cs+, Li+, Na+, R4N+, R4P+ or R3S+ with R being an organic substituent or H, preferably selected from the group consisting of: substituted or unsubstituted alkyl, heteroalkyl, cycloalkyl, heterocycloalkyl, aryl, heteroaryl, alkylaryl, heteroalkylaryl, alkenyl, heteroalkenyl, alkinyl, heteroalkinyl, preferably the residue R comprises in the range of 1-10 carbon atoms; X, Y, Z, are, independently from each other, selected from the group consisting of: F, OR, N+R3, N+R2OR, N+R2SR, and N+R2NR2, and are optionally forming a cyclic or a bicyclic structure; wherein R is an organic substituent or H, preferably selected from the group consisting of: substituted or unsubstituted alkyl, heteroalkyl, cycloalkyl, heterocycloalkyl, aryl, heteroaryl, alkylaryl, heteroalkylaryl, alkenyl, heteroalkenyl, alkinyl, heteroalkinyl, preferably the residue R comprises in the range of 1-10 carbon atoms. \n\n    According to a preferred embodiment, the initiator (I) for the formation of a linear oligomer or a mixture of linear oligomers by amide-bond formation is selected from the group consisting of:\n    \n      \n        \n        \n           \n           \n        \n      \n    \n    wherein Me=—CH3.\n    According to yet another preferred embodiment, the initiator (I) for the formation of a cyclic oligomer or a mixture of cyclic oligomers by amide-bond formation is selected in that the linker structure is selected from the group consisting of: a chain of one or two elements selected from the group of: amino acid, —CO((CH2)2NH—, and this chain preferably terminated by a group selected from:\n    \n      \n        \n        \n           \n           \n        \n      \n    \n    One of these groups can also be directly, so without an element as outlined in the paragraph before, the linker element, so can be the residue R of the initiator as defined above.\n    Further preferably, the initiator (I), also but not necessarily, for the formation of a cyclic oligomer or a mixture of cyclic oligomers by amide-bond formation can be given by covalent dimers or trimmers of the above structures, in which case the residue R is a common linker element. Possible are thus structures comprising at least two initiator moieties selected from the group consisting of:\n    \n      \n        \n        \n           \n           \n        \n      \n    \n    with\n  R being a linker element X+ being a counterion, selected from the group consisting of: K+, Cs+, Li+, Na+, R4N+, R4P+ or R3S+ with R being an organic substituent or H; X, Y, Z, being, independently from each other, selected from the group consisting of: F, OR, N+R3, N+R2OR, N+R2SR, and N+R2NR2, and are optionally forming a cyclic or a bicyclic structure; wherein R is an organic substituent or H;\n\nlinked by said linker element.\n \n\n    Such dimers or trimers for the initiator (I) can be of the following general structure\n    \n      \n        \n        \n           \n           \n        \n      \n    \n    wherein\n  R1 is a linker element; Y being selected from the group consisting of: —PO3H, —COOH, —BF3 −X+, —BXYZ, wherein X+, X, Y, Z are defined as given above in the context of the initiator (I). \n\n    The initiator (I) for the formation of a cyclic oligomer or a mixture of cyclic oligomers by amide-bond formation can be given by a structure comprising at least one such terminator moiety as defined further below and at least one such initiator moiety as given just above. Generally speaking, preferably the initiator (I) for the formation of a cyclic oligomer or a mixture of cyclic oligomers can be given by a structure consisting of a hydroxylamine at one end a ketoacid or acylboronate at the other end.\n    Preferably the initiator (I) for the formation of a cyclic oligomer or a mixture of cyclic oligomers by amide-bond formation is selected from the group consisting of:\n    \n      \n        \n        \n           \n           \n        \n      \n    \n    wherein\n  R1 is a linker element; Rq is a structural element complementing to a 4, 5, 6, or 7 membered ring, preferably selected from the group consisting of: —C—, —CH2—C—, —CHRT—C—, —(CH2)2—C—, —(CHRT)2—C—, —(CH2)—C—(CH2)—, —(CHRT)—C—(CH2)—, —(CHRT)—C—(CHRT)—, —(CH2)3—C, wherein RT is selected from the group consisting of: hydrogen, halogen, substituted or unsubstituted alkyl, heteroalkyl, aryl, cycloalkyl, heterocycloalkyl, heteroaryl, alkylaryl, heteroalkylaryl, alkenyl, heteroalkenyl, alkinyl, heteroalkinyl; Rt is a structural element complementing to a 4, 5, 6, or 7 membered ring, preferably selected from the group consisting of: —CRU-, —CH2—CRU-, —CHRT—CRU-, —(CH2)2—CRU—, —(CHRT)2—CRU—, —(CH2)—CRU—(CH2)—, —(CHRT)—CRU—(CH2)—, —(CHRT)—CRU-(CHRT)—, —(CH2)3—CRU, wherein RT is selected from the group consisting of: hydrogen, halogen, substituted or unsubstituted alkyl, heteroalkyl, aryl, cycloalkyl, heterocycloalkyl, heteroaryl, alkylaryl, heteroalkylaryl, alkenyl, heteroalkenyl, alkinyl, heteroalkinyl, and wherein RU is selected from the group consisting of: hydrogen, halogen, substituted or unsubstituted alkyl, heteroalkyl, aryl, cycloalkyl, heterocycloalkyl, heteroaryl, alkylaryl, heteroalkylaryl, alkenyl, heteroalkenyl, alkinyl, heteroalkinyl; R7—R9 being, independently from each other, selected from the group consisting of: hydrogen, halogen, substituted or unsubstituted alkyl, heteroalkyl, aryl, cycloalkyl, heterocycloalkyl, heteroaryl, alkylaryl, heteroalkylaryl, alkenyl, heteroalkenyl, alkinyl, heteroalkinyl, ester, carbamate, sulfonate, sulfinate, phosphate, silyl, as well as cyclic forms linking these among each other and carbonyl, imidate, thiomidate, R being selected from the group consisting of: O, S, NR1, SiR1R2, CR1R2; wherein R1 and R2 are, independently from each other, selected from the group consisting of: hydrogen, halogen, substituted or unsubstituted alkyl, heteroalkyl, aryl, cycloalkyl, heterocycloalkyl, heteroaryl, alkylaryl, heteroalkylaryl, alkenyl, heteroalkenyl, alkinyl, heteroalkinyl\n     Y being selected from the group consisting of: —PO3H, —COOH, —BF3 −X+, —BXYZ, wherein X+, X, Y, Z are defined as given above in the context of the initiator (I). \n     \n\n    According to yet another preferred embodiment, the initiator (I) for the formation of a cyclic oligomer or a mixture of cyclic oligomers by amide-bond formation is selected from the group consisting of:\n    \n      \n        \n        \n           \n           \n        \n      \n    \n    wherein boc=tert-butyloxycarbonyl, Ph=phenyl, Bz=benzyl, Fmoc=fluorenylmethyleneoxycarbonyl, Me=—CH3.\n    The monomer (M) is preferably selected from the group consisting of:\n    \n      \n        \n        \n           \n           \n        \n      \n    \n    with preferably the following definitions:\n  X is selected from the group consisting of: halogen, —OH, —COOH, —NH2, —O-Alkyl (e.g. —OEt, —OiPr, —OBn), —O-Aryl (e.g. —OPh, —OBz), —O—CO-Alkyl, —O—CO-Aryl, —SH, S-Alkyl (e.g. —S-Me), —S-Aryl (e.g. —S-Ph), N-Acyl, —NH-Alkyl, —NH-Aryl, —N(Alkyl)2, —N(Aryl)2, —N(Alkyl)(Aryl), —CO—NH-Alkyl, —CO—NH-Aryl, —CO—N(Alkyl)2, —CO—N(Aryl)2, —CO—N(Alkyl)(Aryl), —CN, —NO2, —N3, —S(O)Aryl, —S(O)2 Aryl; Y is selected from the group consisting of: —PO3H, —COOH, —BF3 −X+, —BXYZ, wherein X+, X, Y, Z are defined as given above in the context of the initiator (I), Z is selected from the group consisting of: —PO3H, —COOH, —BF3 −X+, —BXYZ, wherein X+, X, Y, Z are defined as given above in the context of the initiator (I), as well as derivatives thereof which upon collapse of X and Z upon cleavage of the NO bond lead to Y; R is selected from the group consisting of: O, S, NR1, Si, CHR1R2 (R1 and R2 being defined as in the definition of R1-R8 below); R1-R8 are, independently from each other, selected from the group consisting of: hydrogen, halogen, substituted or unsubstituted alkyl, heteroalkyl, aryl, cycloalkyl, heterocycloalkyl, heteroaryl, alkylaryl, heteroalkylaryl, alkenyl, heteroalkenyl, alkinyl, heteroalkinyl, as well as cyclic forms linking these among each other, wherein preferably the residue comprises in the range of 1-20 carbon atoms; Q is selected from the group consisting of: O, S, Si, NR11, where R11 is an organic substituent or H, preferably defined as in the definition of R1-R8 above. \n\n    Preferably, the monomer is selected from the following group, with the definitions as given just above:\n    \n      \n        \n        \n           \n           \n        \n      \n    \n    As for the monomer of the type:\n    \n      \n        \n        \n           \n           \n        \n      \n    \n    The methods of how to synthesize them are outlined in detail in the experimental section. As for the other monomers of the above group, represented with numbering as follows:\n    \n      \n        \n        \n           \n           \n        \n      \n    \n    the following synthetic routes are readily available to the skilled person:\n    A monomer of formula (V) can be prepared in an analogous manner to that described in Org. Process. Res. Dev., 2012, 16, 687-696, as shown in the following Scheme:\n    \n      \n        \n        \n           \n           \n        \n      \n    \n    A monomer of formula (VII) can be prepared in an analogous manner to that described in Helv. Chim. Acta, 2012, 95, 2481, as shown in the following Scheme:\n    \n      \n        \n        \n           \n           \n        \n      \n    \n    A monomer of formula (VIII) can be prepared, as shown in the following scheme, by treating a compound of formula (VII) with a suitable base, such as NaOMe, in a suitable solvent, such as methanol:\n    \n      \n        \n        \n           \n           \n        \n      \n    \n    A monomer of formulae (XIII) can be prepared as shown in the following Scheme. By treating a compound of formula (IX) with a reducing agent, such as SmI2, in a suitable solvent such as methanol/tetrahydrofuran, to give a compound of formula (X). Treatment of a compound of formula (X) with a carboxylic acid activating agent, such as Ac2O/AcONa or DCC, in a suitable solvent such as dichloromethane, will give a compound of formula (XI). Conversion of a compound of formula (XI) to a compound of formula (XII) can be carried out either using a triflating agent, such as Tf2O or PhNTf2, and a suitable base, such as Et3N or KHMDS, in a suitable solvent, such as tetrahydrofuran and DMPU. Treatment of a compound of formula (XII) with CO in the presence of a suitable catalyst, such as Pd(PPh3)4, and a suitable base, such as Et3N, in a suitable solvent such as DMF, could give a compound of formula (XV).\n    \n      \n        \n        \n           \n           \n        \n      \n    \n    A monomer of formula (XIV) can be prepared by treating a compound of formula (XII) with a suitable catalyst, such as PdCl2dppf, and a suitable boron reagent, such as B2(pin)2, in the presence of a suitable base, such as AcOK, and in a suitable solvent, such as 1,4-dioxan, at elevated temperature (see Scheme below). Further treatment of XIV with a suitable fluorinating agent, such as KHF2, in a suitable solvent, such acetone/water, will give rise to a monomer of formula (XV):\n    \n      \n        \n        \n           \n           \n        \n      \n    \n    Monomers of formulae (XIX) and (XX) can be prepared in an analogous manner to monomers (XV) and (XIII) respectively, as described above.\n    A monomer of formula (XVIII), where R is e.g. CR1R2, can be prepared by a cycloaddition reaction between a compound of formula (XVI) and a compound of formula (XVII), in a suitable solvent, such as xylene (see Scheme below). Interconversion of the Y functionality can be carried out using a method known to those skilled in the art.\n    \n      \n        \n        \n           \n           \n        \n      \n    \n    According to a preferred embodiment, the monomer (I) is selected from the group consisting of:\n    \n      \n        \n        \n           \n           \n        \n      \n      \n        \n        \n           \n           \n        \n      \n      \n        \n        \n           \n           \n        \n      \n    \n    Wherein Me=—CH3, tBu=1,1-dimethylethyl, Cbz=benzyloxycarbonyl, iPr=isopropyl, Ph=phenyl.\n    The terminator (T), if used, so in case of linear products, is selected from the group consisting of:\n    \n      \n        \n        \n           \n           \n        \n      \n    \n    with preferably the following definitions:\n  R is selected from the group consisting of: CH2, (CH2)2, CHRT, CH2CHRT, (CH2)3, (CH2)2CHRT, CH2CHRTCH2, (CH2)4, wherein RT is selected from the group consisting of: hydrogen, halogen, substituted or unsubstituted alkyl, heteroalkyl, aryl, cycloalkyl, heterocycloalkyl, heteroaryl, alkylaryl, heteroalkylaryl, alkenyl, heteroalkenyl, alkinyl, heteroalkinyl, wherein preferably the residue comprises in the range of 1-20 carbon atoms, more preferably in the range of 1-10 carbon atoms; R1 is selected from the group consisting of: substituted or unsubstituted alkyl, heteroalkyl, aryl, cycloalkyl, heterocycloalkyl, heteroaryl, alkylaryl, heteroalkylaryl, alkenyl, heteroalkenyl, alkinyl, heteroalkinyl, ester, carbamate, sulfonate, sulfinate, phosphate, silyl, wherein preferably the residue comprises in the range of 1-20 carbon atoms, more preferably in the range of 1-10 carbon atoms; R7-R9 are, independently from each other, selected from the group consisting of: hydrogen, halogen, substituted or unsubstituted alkyl, heteroalkyl, aryl, cycloalkyl, heterocycloalkyl, heteroaryl, alkylaryl, heteroalkylaryl, alkenyl, heteroalkenyl, alkinyl, heteroalkinyl, ester, carbamate, sulfonate, sulfinate, phosphate, silyl, as well as cyclic forms linking these among each other and carbonyl, imidate, thiomidate. \n\n    According to a preferred embodiment, the terminator (T) is used in excess, and furthermore preferably it is selected from the group consisting of:\n    \n      \n        \n        \n           \n           \n        \n      \n    \n    Possible are in particular also structures for the terminator (T) of the type\n    \n      \n        \n        \n           \n           \n        \n      \n    \n    with Me=—CH3, tBu=1,1-dimethylethyl.\n    Alternatively, the terminator (T), also but not necessarily for the formation of a cyclic oligomer or a mixture of cyclic oligomers by amide-bond formation, can be given by covalent dimers or trimers of the above structures, in which case then R1 and R7 or R8 are common linker elements. So the terminators can also be given by a structure comprising at least two terminator moieties selected from the group consisting of:\n    \n      \n        \n        \n           \n           \n        \n      \n    \n    with\n  R being selected from the group consisting of: CH2, (CH2)2, CHRT, CH2CHRT, (CH2)3, (CH2)2CHRT, CH2CHRTCH2, (CH2)4, wherein RT is selected from the group consisting of: hydrogen, halogen, substituted or unsubstituted alkyl, heteroalkyl, aryl, cycloalkyl, heterocycloalkyl, heteroaryl, alkylaryl, heteroalkylaryl, alkenyl, heteroalkenyl, alkinyl, heteroalkinyl; R1 being a common linker element; R7-R9 being, independently from each other, selected from the group consisting of: hydrogen, halogen, substituted or unsubstituted alkyl, heteroalkyl, aryl, cycloalkyl, heterocycloalkyl, heteroaryl, alkylaryl, heteroalkylaryl, alkenyl, heteroalkenyl, alkinyl, heteroalkinyl, ester, carbamate, sulfonate, sulfinate, phosphate, silyl, as well as cyclic forms linking these among each other and carbonyl, imidate, thiomidate, with the proviso that at least one of R7 or R8 is a common linker element. \n\n    So dimeric or trimeric structures of the following type are possible for the terminator (T):\n    \n      \n        \n        \n           \n           \n        \n      \n    \n    wherein\n  R1 is a linker element; Rq is a structural element complementing to a 4, 5, 6, or 7 membered ring, preferably selected from the group consisting of: —C—, —CH2—C—, —CHRT—C—, —(CH2)2—C—, —(CHRT)2—C—, —(CH2)—C—(CH2)—, —(CHRT)—C—(CH2)—, —(CHRT)—C—(CHRT)—, —(CH2)3—C, wherein RT is selected from the group consisting of: hydrogen, halogen, substituted or unsubstituted alkyl, heteroalkyl, aryl, cycloalkyl, heterocycloalkyl, heteroaryl, alkylaryl, heteroalkylaryl, alkenyl, heteroalkenyl, alkinyl, heteroalkinyl; Rt is a structural element complementing to a 4, 5, 6, or 7 membered ring, preferably selected from the group consisting of: —CRU-, —CH2—CRU-, —CHRT—CRU-, —(CH2)2—CRU—, —(CHRT)2—CRU—, —(CH2)—CRU—(CH2)—, —(CHRT)—CRU—(CH2)—, —(CHRT)—CRU—(CHRT)—, —(CH2)3—CRU, wherein RT is selected from the group consisting of: hydrogen, halogen, substituted or unsubstituted alkyl, heteroalkyl, aryl, cycloalkyl, heterocycloalkyl, heteroaryl, alkylaryl, heteroalkylaryl, alkenyl, heteroalkenyl, alkinyl, heteroalkinyl, and wherein RU is selected from the group consisting of: hydrogen, halogen, substituted or unsubstituted alkyl, heteroalkyl, aryl, cycloalkyl, heterocycloalkyl, heteroaryl, alkylaryl, heteroalkylaryl, alkenyl, heteroalkenyl, alkinyl, heteroalkinyl; R7-R9 being, independently from each other, selected from the group consisting of: hydrogen, halogen, substituted or unsubstituted alkyl, heteroalkyl, aryl, cycloalkyl, heterocycloalkyl, heteroaryl, alkylaryl, heteroalkylaryl, alkenyl, heteroalkenyl, alkinyl, heteroalkinyl, ester, carbamate, sulfonate, sulfinate, phosphate, silyl, as well as cyclic forms linking these among each other and carbonyl, imidate, thiomidate,\n     R being selected from the group consisting of: O, S, NR1, SiR1R2, CR1R2; wherein R1 and R2 are, independently from each other, selected from the group consisting of: hydrogen, halogen, substituted or unsubstituted alkyl, heteroalkyl, aryl, cycloalkyl, heterocycloalkyl, heteroaryl, alkylaryl, heteroalkylaryl, alkenyl, heteroalkenyl, alkinyl, heteroalkinyl; \n     (A-D) or (D-A), respectively, indicating one of the possible structures illustrated in the dashed box, According to a preferred embodiment, one single initiator (I) can be used in step 1) and, in case of the formation of a linear oligomer or a mixture of linear oligomers by amide-bond formation, one single terminator (T) can be used in step 2). Step 1) and/or 2) can be carried out, apart from solvent(s), without any added further chemical reagents or catalysts, which simplifies the procedure and reduces toxicity issues. In step 1) and/or 2) organic solvents, water, aqueous buffer or combinations thereof can be used. \n\n    According to yet another preferred embodiment, in step 1) more than 1, preferably 2-6, more preferably 2-4 different monomers can be used.\n    In step 1) the reaction can be carried over to lead to oligomers with at least 2 interlinked monomers, preferably in the range of 2-10, more preferably in the range of 2-6 interlinked monomers.\n    In step 1) the reaction conditions, preferably temperature and/or pressure, and/or reactant concentrations and/or reactant addition order and/or reactant addition time can be selected so as to lead, between different batches, to targeted different distributions of different oligomers in the mixture.\n    In step 1) one single initiator (I), one single monomer (M) and, in case of the generation of a linear oligomers, in step 2) one single terminator (T) can be used, and the reaction conditions in step 1) and/or step 2) can be adapted such as to form a specific trimer structure.\n    Furthermore the present invention relates to a method of identification of biologically and/or chemically active systems from a chemical library preferably based on at least one mixture of oligomers made using a method as outlined above, wherein preferably the mixtures of oligomers are screened for activity prior to purification or separation of the compounds from the mixture.\n    According to a preferred embodiment of this method, a number of specifically differing mixtures made using a method as outlined above can be used, checking these mixtures for biological and/or chemical activity, inferring from activity patterns initiators and/or monomers and/or terminators inducing activity, optionally preparing further mixtures using a method as outlined above based on the identified active initiators and/or monomers and/or terminators only, thereby successively reducing the number of possible active oligomers. Like this the method can be very efficiently used in an incomplete factorial design screening process.\n    Further embodiments of the invention are laid down in the dependent claims.\n    \n    \n    \n      BRIEF DESCRIPTION OF THE DRAWINGS\n      Preferred embodiments of the invention are described in the following with reference to the drawings, which are for the purpose of illustrating the present preferred embodiments of the invention and not for the purpose of limiting the same. In the drawings,\n       FIG. 1 shows the chemoselective couplings of α-ketoacid initiators (I) and isoxazolidine monomers (M); (A) iterative synthesis of β-peptides; (B) one-pot chemical library synthesis; (C) possible products expand dramatically with increasing numbers of building blocks;\n       FIG. 2 shows HPLC traces of product distributions with building blocks, I1 (1.0 equiv), M1 (0.50 equiv), M2 (0.50 equiv) and T1 (2.0 equiv), while M1 and M2 were added at different order; (A) M1 was added first; (B) M2 was added first;\n       FIG. 3 shows preliminary libraries, library 1 (A) and library 2 (B); each well contained one initiator (1.0 equiv), three monomers (total 2.0 equiv) and one terminator (2.0 equiv); row and column had its assigned specific initiator/terminator; for example in library 1 (A), A1-A8 wells contained initiator I1 and A3-H3 wells had terminator T3; each preliminary library was divided into four sectors and each sector differed only in monomer mixtures: three out of four types of monomers; for example in library 1 (A), well A1 had initiator I1, monomer M1 M3 M4 and terminator T1 while well E5 had initiator I1, monomer M1 M2 M4 and terminator T1; active wells are presented dark (for selection standard, see description of the preferred embodiments);\n       FIG. 4 shows a focused library, library 3; in sector 1, each well contained the assigned initiator (1.0 equiv), monomer M2 M4 M5(total 2.0 equiv) and the assigned terminator (2.0 equiv); after the oligomerization and termination were complete, sector 1 was 10-fold diluted to give sector 2; active wells are presented dark (for selection standard, see description of the preferred embodiments);\n       FIG. 5 shows deconvolution library 1 and 2, library 4 and 5; active wells are presented dark (Among the active wells in rows B-E, wells with the best results are highlighted (for selection standard, see description of the preferred embodiments);\n       FIG. 6 shows HPLC traces and the fluorescence read outs from the HCV assay of well A5, C5 and E4 in library 5; the fraction at 27.5 min was active in the HCV assay;\n       FIG. 7 shows the synthesis of the lead compound I3-M5-M5-M5-T4 in a) and in b) HPLC trace of this compound and its dose-response curve to HCV protease; the compound inhibits HCV protease with an IC50 of 1.0 μM;\n       FIG. 8 shows a possible standard operating procedure for “on-demand” chemical library synthesis;\n       FIG. 9 shows HPLC traces of product distributions with building blocks, I1 (1.0 equiv), M1 (1.0, 2.0, 3.0 equiv respectively) and T1 (2.0 equiv); and\n       FIG. 10 illustrates the experimental procedures of library synthesis.\n    \n    \n    \n    DESCRIPTION OF PREFERRED EMBODIMENTS\n    As a proof of concept, the “on-demand” library synthesis was used to prepare and screen inhibitors of HCV protease. The library syntheses were performed directly in 96-well plates. In contrast to the conventional “one well-one-compound” technique, each well, containing a mixture of products, was diluted and screened directly.\n    Active compounds were identified by simple deconvolution strategies. This method provides a rapid and simple way to generate protease inhibitor libraries and to identify the potent leads. Two initial experiments to study the reactivity of monomers (M) and terminators (T) were performed. First, we determined if the product distributions reflected the quantities of monomers used in the self-assembly process. One equivalent of monomer M1 produced I1-M1-T1 as the major product. The product distributions shifted to higher oligomers when more M1 was used (see further below). By simply varying the quantities of monomers, the distribution of products could be altered. The reproducibility of the results was confirmed by repetitions, as well as reactions involving different monomers. Second, we demonstrated that the product sequences could be biased by addition order. An experiment with M1 and M2 added in different order was performed. In FIG. 2A, M1 was added to react with initiator I1 for 2 h, followed by addition of M2 and finally termination with T1. Among I1-M-M-T1 products, I1-M1-M2-T was found to be the main product while I1-M2-M -T1 was not detected. Higher order products I1-M1-M2-M2-T1 and I1-M1-M-M2-T1 were also formed. Products were isolated and characterized by MS/MS. These results showed that when a product was constituted of both M1 and M2, M1 was incorporated before M2 as it was added first. The same trend was observed in the experiment when M2 was added first (FIG. 2B) with product distributions considerably changed when M1 and M2 were added in a different order.\n    Our finding that product distributions could be systematically controlled by changing monomer quantities and the addition order allowed us to predict the major products in the reaction mixture when more types of monomers were involved. This self-assembly method was applied to protease inhibitor library syntheses and a commercially available HCV protease assay was chosen for screening. HCV protease lacks a well-defined pocket in its active site. The major interaction between the reported inhibitors and the shallow enzyme pocket is a reversible covalent bond formation from nucleophilic attack of the protease serine of the catalytic triad to the α-ketoamide on the inhibitors and hydrophobic interactions with the rest of the molecules. Two preliminary libraries (library 1 and 2) of a total size ˜6,000 compounds (˜40 compounds/well) were synthesized and screened. Based on the reported inhibition mechanism, both monomers and terminators used had hydrophobic side chains and the crucial α-ketoamide functional group was produced in the termination step.\n    The arrangement of initiators, monomers and terminators in preliminary libraries is shown in FIG. 3: (1) Row/column had its assigned specific initiator/terminator. Wells containing active initiators and terminators were recognized based on the highest occurrence from the active wells. For example, in library 1, initiator I1 I3 and terminator T2 T4 were identified. (2) Each library was divided into four sectors and wells in the same sector had the assigned three out of four monomers. The same approach can be used with a larger number of monomers, initiators or terminators, thereby increasing the number of possible products that can be formed in each well. This setting was designed to facilitate the monomer selection processes. The three monomers in the sector with the least numbers of active wells were considered inactive and eliminated. For example, in library 1 sector containing M1 M2 M3 but not M4 had the least active wells. This benzyl monomer M4 was selected for further studies. In library 2, initiator I2 I3 I5, monomer M5 and terminator T5 T8 T9 were selected according to the same principle. By this evaluation standard, we were able to quickly eliminate the poorly performing moieties and select building blocks for the following focused library.\n    Selected initiator I1 I2 I3 I5, monomer M2 M4 M5 and terminator T2 T4 T5 T8 T9 were included in a 5×4 well focused library (library 3, sector 1). (Both M1 and M2 were the second best monomers in library 1, but M2 had an ester functionality, which could provide some varieties to the monomer selection, and was therefore preferred over M1). The selection was made on the basis of a biochemical assay, in this case inhibitor of HCV protease as determined by a commercially available kit using a fluorescent substrate. The size of this focused library was limited to ˜800 compounds. The library arrangement is shown in FIG. 4. After the library was synthesized, it was diluted to make sector 2 (10-fold dilution). Well C2 showed positive results both in the original and in 10-fold diluted concentration while C5 showed reactivity only at the original concentration; well C2 was therefore chosen for deconvolution. To simplify the deconvolution of well C2 in library 3, which contained initiator I3, monomer M2 M4 M5, and terminator T4, we assumed that if the active compound was constituted with the inclusion of three molecules of the monomer, reaction wells containing only one or two equivalents of monomers were less active.\n    Based on this assertion, library 4 was synthesized. The library setting is shown in FIG. 5: (1) Well A1, A2, A3, A4, B1 and B2: each well contained only one type of monomers. Well A1 and A4 both had monomer M2 but in different quantity to cover the different range of product distribution. Well A2/B1 and A3/B2 shared the same principle. (2) Well B3, B4, C1: wells consisted of two types of indicated monomers added at different order. (3) Well C2, C3 and C4: as in (2), but monomers were added at the same time. Comparing the overlapping/non-overlapping products of wells in (2) and (3), possible lead structures could be further limited. From the HCV assay result, well B2 and C4 showed activity. The active compound in B2 could be I3-M5-M5-T4 or I3-M5-M5-M5-T4. Because there was no inhibition shown in C1, the active molecule in C4 is most likely to be I3-M5-M5-T4, I3-M5-M2-T4, I3-M5-M5-M5-T4, I3-M5-M2-M2-T4 or I3-M5-M5-M2-T4. Further deconvolution of these confined lead candidates was performed. Different quantities of monomer M5 were used to deconvolute the active compounds in well B2 in library 4. In library 5 row A (FIG. 5), positive results were observed with wells containing more than one equivalent of M5. Between I3-M5-M5-T4 and I3-M5-M5-M5-T4, I3-M5-M5-M5-T4 was more likely to be the inhibitor. Rows B-E were designed to deconvolute C4 well in library 4. M5 and M2 were added in different ratios and quantities as indicated at the same time. A positive trend was seen when the ratio of M5/M2 was greater than 1. This result implied that the lead compounds incorporated more M5 than M2. Possible active structures were thus limited to I3-M5-M5-M5-T4 and I3-M5-M5-M2-T4. At this stage, possible lead structures were already confined, but before the organic syntheses and purifications of each proposed compound was performed, HPLC analyses were carried out. HPLC traces of well A5, C5 and E4 in library 5 are shown in FIG. 6. The fractions were collected, lyophilized, redissolved in DMSO, and subjected to the HCV protease assay. The result showed that the fraction at 27.5 min was responsible for the HCV protease inhibition in all these three wells and corresponded to I3-M5-M5-M5-T4. Compound I3-M5-M5-M5-T4 was synthesized under aqueous conditions by combining 1.0 equiv I3 and 3.6 equiv M5 for 2 h, followed by the addition of 2.0 equiv T4. The product was isolated by HPLC and fully characterized. The pure material was subjected to the HCV protease assay and an IC50 of 1.0 μM was measured (FIG. 7). This confirmed its identity as the most active compound in the focused library, library 3.\n    Experimental Details:\n    Synthesis of Libraries, Initial Studies:\n    (a) Product Distribution with Various Amount of M1  \n    To a 5:1 tBuOH/50 mM Tris-HCl buffer, pH 7.0 (abbreviated as buffer in the following context) (v/v) (80 μL) solution, initiator I1 (1.3 mg, 8.1 μmol, 1.0 equiv) and monomer M1 (2.5 mg, 8.1 μmol, 1.0 equiv) were added. The mixture was allowed to stir at 45° C. for 2 h. The solution was cooled to RT and terminator T1 (3.3 mg, 16 μmol, 2.0 equiv) in 16 μL 5:1 tBuOH/buffer was added and the mixture was heated at 45° C. for 2 h. Two other experiments with monomer M1 (5.0 mg, 2.0 equiv and 7.5 mg, 3.0 equiv) were performed separately according to the same procedure. The reaction mixtures were analyzed by HPLC (gradient 10 to 90% CH3CN with 0.1% TFA in 20 min). For the results see FIG. 9.\n    (b) Product Distribution with Different Addition Order of M1 and M2  \n    To a 5:1 tBuOH/buffer (60 μL) solution, initiator I1 (1.0 mg, 6.1 μmol, 1.0 equiv) and monomer M1 (0.93 mg, 3.1 μmol, 0.50 equiv) were added. The mixture was allowed to stir at 45° C. for 2 h. The solution was cooled to RT and monomer M2 (1.2 mg, 3.1 μmol, 0.50 equiv) was added. The mixture was allowed to stir at 45° C. for 2 h. The solution was cooled to RT and terminator T1 was added and the mixture was heated at 45° C. for 2 h. The experiment with the reversed order of M1 and M2 addition was performed according to the same procedure. The reaction mixtures were analyzed by HPLC (gradient 10 to 90% CH3CN with 0.1% TFA in 20 min). For the results see FIG. 2.\n    General Procedures for “on-Demand” Synthesis of Libraries:\n    (a) Liquid Handling\n    The syntheses of libraries were carried out in 96-well plates (Thermofast AB-1100). Required amounts of initiators and monomers were dissolved in 5:1 tBuOH/buffer solution and added to their corresponding wells by a micropipettor (Eppendorf Research).\n    (Details are Described in the Synthesis of Each Library)\n    (b) Oligomerization and Termination Conditions\n    After complete addition of initiators and monomers, the 96-well plate was capped, centrifuged for 2 min at 2000 rpm, and heated in the PCR machine (equipped with a heated lid at 110° C. to prevent solvent condensation on the cap) at 45° C. for 2 h. The plate was cooled to RT and corresponding terminators from stock solutions were added to each well by a micropipettor. The plate was capped, centrifuged and heated at 45° C. for 2 h.\n    (c) Dilutions\n    The resulting crude mixtures were serially diluted with 5:1 tBuOH/buffer to reach the optimal concentration for biological assays. (Details are described in the synthesis of each library.)\n    (d) HCV Protease FRET Assay\n    The HCV protease assay kits were purchased from ProteinOne and experiments were performed according to the manual provided. Without inhibitors, HCV protease cleaves the FRET substrate and results in a fluorescence signal at 530 nm (excitation wavelength at 490 nm).\n    With the optimal concentration, 1.0 μL diluted crude mixture from each well was transferred to an assay plate (Sigma NUNC Maxisorp). Assay solution (100 μL) was added to each well by a multichannel pipette (Eppendorf Research) and the fluorescence signals were recorded immediately. Signals were recorded every 5 min for 2 h and active inhibitors were identified by reduced fluorescence. In the control experiments, all initiators, monomers and terminators were proved inactive at 10 μM. Likewise, solvents, 5:1 tBuOH/buffer solution and DMSO, did not interfere the results.\n    Libraries\n    (a) Library 1 and 2: Preliminary Library 1 and 2\n    For library 1 and 2, the arrangement of the initiators, monomers, and terminators is indicated in FIG. 3A FIG. 3B. The wells in the same row had the same assigned initiator and the wells in the same column had the same assigned terminator. In each preliminary library, a total of four types of monomers were used. The plate was divided into four sectors and each of them contained three out of four types of monomers. During the oligomerization process, each well contained one initiator (0.5 μmol, 1.0 equiv) and three assigned monomers (total 1.0 μmol, 2.0 equiv) in a total of 5 μL 5:1 tBuOH/buffer solution. The three monomers were in a 1:1:1 ratio (i.e. 0.67 μmol of each monomer). For example, well A1 in library 1 contained initiator I1 (0.50 μmol, 1.0 equiv), monomer M1 (0.33 μmol, 0.67 equiv), monomer M3 (0.33 μmol, 0.67 equiv) and monomer M4 (0.33 μmol, 0.67 equiv). When the oligomerization process was finished, terminator T1 (1.0 μmol, 1.0 μL, 2.0 equiv) was added.\n    After the reactions were complete, each well was diluted to 35 μL with 5:1 tBuOH/buffer and 1.0 μL of this crude solution was used for the HCV assay. The relative fluorescence units (RFU) values from assay results were normalized, with the highest value as 100, and active wells were identified with normalized RFU value <65 (Table 1).\n    \n      \n        \n          \n             \n            \n              \n                TABLE 1\n              \n              \n                 \n              \n              \n                RFU raw values (above) and normalized values (below) at 90 min in (a) library 1 (b) library 2.\n              \n              \n                 \n              \n            \n            \n              \n                A\n              \n            \n          \n          \n             \n             \n             \n             \n             \n             \n             \n             \n             \n            \n              \n                 \n                1\n                2\n                3\n                4\n                5\n                6\n                7\n                8\n              \n              \n                 \n              \n              \n                A\n                784\n                339\n                768\n                668\n                759\n                680\n                714\n                597\n              \n              \n                B\n                721\n                407\n                568\n                634\n                670\n                787\n                774\n                739\n              \n              \n                C\n                724\n                375\n                647\n                316\n                708\n                667\n                693\n                439\n              \n              \n                D\n                720\n                450\n                695\n                658\n                654\n                715\n                714\n                625\n              \n              \n                E\n                690\n                210\n                335\n                603\n                396\n                534\n                513\n                479\n              \n              \n                F\n                656\n                188\n                541\n                514\n                452\n                471\n                540\n                540\n              \n              \n                G\n                617\n                482\n                516\n                293\n                464\n                555\n                564\n                328\n              \n              \n                H\n                689\n                686\n                665\n                707\n                670\n                573\n                571\n                544\n              \n              \n                 \n              \n            \n          \n          \n             \n             \n             \n             \n             \n             \n             \n             \n             \n            \n              \n                 \n                1\n                2\n                3\n                4\n                5\n                6\n                7\n                8\n              \n              \n                 \n              \n              \n                A\n                100\n                43\n                98\n                85\n                96\n                86\n                91\n                76\n              \n              \n                B\n                92\n                52\n                72\n                81\n                85\n                100\n                98\n                94\n              \n              \n                C\n                92\n                48\n                82\n                40\n                90\n                85\n                88\n                56\n              \n              \n                D\n                91\n                57\n                88\n                84\n                83\n                91\n                91\n                79\n              \n              \n                E\n                88\n                27\n                43\n                77\n                50\n                68\n                65\n                61\n              \n              \n                F\n                83\n                24\n                69\n                65\n                57\n                60\n                69\n                69\n              \n              \n                G\n                78\n                61\n                66\n                37\n                59\n                71\n                72\n                42\n              \n              \n                H\n                88\n                87\n                84\n                90\n                85\n                73\n                73\n                69\n              \n              \n                 \n              \n            \n          \n          \n             \n            \n              \n                B\n              \n            \n          \n          \n             \n             \n             \n             \n             \n             \n             \n             \n             \n             \n             \n            \n              \n                 \n                1\n                2\n                3\n                4\n                5\n                6\n                7\n                8\n                9\n                10\n              \n              \n                 \n              \n              \n                A\n                361\n                357\n                253\n                254\n                215\n                308\n                292\n                277\n                270\n                255\n              \n              \n                B\n                249\n                372\n                431\n                245\n                226\n                241\n                349\n                382\n                248\n                292\n              \n              \n                C\n                419\n                412\n                358\n                353\n                274\n                274\n                404\n                371\n                331\n                286\n              \n              \n                D\n                415\n                379\n                345\n                370\n                313\n                357\n                269\n                378\n                360\n                280\n              \n              \n                E\n                360\n                277\n                391\n                330\n                277\n                208\n                248\n                230\n                240\n                247\n              \n              \n                F\n                297\n                353\n                361\n                239\n                240\n                203\n                396\n                337\n                235\n                259\n              \n              \n                G\n                402\n                280\n                255\n                345\n                314\n                275\n                375\n                376\n                337\n                355\n              \n              \n                H\n                427\n                309\n                429\n                375\n                386\n                317\n                289\n                317\n                294\n                263\n              \n              \n                 \n              \n            \n          \n          \n             \n             \n             \n             \n             \n             \n             \n             \n             \n             \n             \n            \n              \n                 \n                1\n                2\n                3\n                4\n                5\n                6\n                7\n                8\n                9\n                10\n              \n              \n                 \n              \n              \n                A\n                84\n                83\n                59\n                59\n                50\n                72\n                68\n                65\n                63\n                59\n              \n              \n                B\n                58\n                87\n                100\n                57\n                53\n                56\n                81\n                89\n                58\n                68\n              \n              \n                C\n                98\n                96\n                83\n                82\n                64\n                64\n                94\n                86\n                77\n                67\n              \n              \n                D\n                97\n                88\n                80\n                86\n                73\n                83\n                63\n                88\n                84\n                65\n              \n              \n                E\n                84\n                65\n                91\n                77\n                65\n                48\n                58\n                54\n                56\n                58\n              \n              \n                F\n                69\n                82\n                84\n                56\n                56\n                47\n                92\n                79\n                55\n                60\n              \n              \n                G\n                94\n                65\n                59\n                80\n                73\n                64\n                87\n                88\n                79\n                83\n              \n              \n                H\n                100\n                72\n                100\n                87\n                90\n                74\n                67\n                74\n                69\n                61\n              \n              \n                 \n              \n            \n          \n        \n      \n    \n    (b) Library 3: Focused Library\n    In library 3, the arrangement of the initiators, monomers, and terminators is indicated in FIG. 4. In sector 1, the wells in the same row had the same assigned initiator, the wells in the same column had the same assigned terminator and every well contained all three monomers.\n    During the oligomerization process, each well in sector 1 contained one initiator (0.5 μmol, 1.0 equiv) and all three monomers (total 1.0 μmol, 2.0 equiv) in a total of 5.0 μL 5:1 tBuOH/buffer solution. The three monomers were in a 1:1:1 ratio (i.e. 0.67 μmol of each monomer). For example, well A1 contained initiator I1 (0.50 μmol, 1.0 equiv), monomer M2 (0.33 μmol, 0.67 equiv), monomer M4 (0.33 μmol, 0.67 equiv), and monomer M5 (0.33 μmol, 0.67 equiv). When the oligomerization process was finished, terminator T2 (1.0 μmol, 1.0 μL, 2.0 equiv) was added. After the reactions were complete, each well was diluted to 35 μL with 5:1 tBuOH/buffer. Sector 1 was serially diluted with 5:1 tBuOH/buffer solution to give sector 2, 3, and 4 and 1.0 μL of each well was used for the HCV assay. Based on the assay results (Table 2), well C2 was selected. \n\n\n    In library 4, the arrangement of the initiators, monomers, and terminators is indicated in FIG. 5A. During the oligomerization process, each well contained initiator I3 (0.5 μmol, 1.0 equiv) and monomers (as indicated) in a total of 5.0 μL 5:1 tBuOH/buffer solution. For example, well A1 contained initiator I3 (0.50 μmol, 1.0 equiv), and monomer M2 (0.5 μmol, 1.0 equiv). Well C3 contained initiator I3 (0.50 μmol, 1.0 equiv), monomer M5 (0.50 μmol, 1.0 equiv) and monomer M4 (0.50 μmol, 1.0 equiv).\n    For wells where two monomers were added in sequence (well B3, B4, and C1), the first monomer (0.50 μmol, 1.0 equiv) was allowed to react with the initiator (0.5 μmol, 1.0 equiv) in a total 5.0 μL 5:1 tBuOH/buffer solution for 2 h. The second monomer (0.50 mol, 1.0 equiv) in 2.0 μL 5:1 tBuOH/buffer solution was added to the solution and the reaction mixture was allowed to react for another 2 h. For example, well C1 contained initiator I3 (0.50 μmol, 1.0 equiv) and monomer M2 (0.50 μmol, 1.0 equiv) in a total 5.0 μL 5:1 tBuOH/buffer solution. After 2 h reaction time, monomer M5 (0.50 μmol, 1.0 equiv) in 2.0 μL 5:1 tBuOH/buffer solution was added.\n    When the oligomerization process was finished, terminator T4 (1.0 μmol, 1.0 μL, 2.0 equiv) was added to each well. After the reactions were complete, each well was diluted to 50 μL with 5:1 tBuOH/buffer (first dilution). From this diluted solution, 10 μL were taken and further diluted with 5:1 tBuOH/buffer to 100 μL (second dilution). One microliter of the second dilution solution was used for the HCV assay. Based on the assay results (Table 3), wells B2 and C4, with the lowest RFU, were considered active. \n\n\n    In library 5, the arrangement of the initiators, monomers, and terminators is indicated in FIG. 5B. Row A was designed for deconvolution of B2 in library 4, row B to E for C4 in library 4.\n    During the oligomerization process, each well contained initiator I3 (0.5 μmol, 1.0 equiv) and monomers (as indicated) in a total of 5.0 μL 5:1 tBuOH/buffer solution. For example, well A4 contained initiator I3 (0.50 μmol, 1.0 equiv) and monomer M5 (2.0 μmol, 4.0 equiv) in a total 5.0 μL 5:1 tBuOH/buffer solution. Well C2 contained initiator I3 (0.50 μmol, 1.0 equiv), monomer M2 (1.0 μmol, 2.0 equiv) and monomer M5 (0.50 μmol, 1.0 equiv) in a total 5.0 μL 5:1 tBuOH/buffer solution.\n    When the oligomerization process was finished, terminator T4 (1.0 μmol, 1.0 μL, 2.0 equiv.) was added to each well. After the reactions were complete, each well was diluted to 50 μL with 5:1 tBuOH/buffer (first dilution). From this diluted solution, 10 μL were taken and further diluted with 5:1 tBuOH/buffer to 100 μL (second dilution). One microliter of the second dilution solution was used for the HCV assay. Active wells were identified with normalized RFU value <65. In the library of deconvolution of well C4 in library 4 (rows B-E), highlighted wells were with normalized RFU≦40 (Table 4). \n\n\n\n    (e) HPLC Separations: Deconvolution of Well A5, C5, and E4 in Library 5\n    From the selected well A5, C5 and E4, in library 5, 10 μL first dilution solution was taken and subjected to analytical HPLC separation (gradient of 10 to 90% CH3CN with 0.1% TFA, 30 min). Major fractions were collected and the solvent was removed by lyophilization. Each fraction was redissolved in 50 μL DMSO. One microliter was used for the HCV protease assay.\n    In the case of A5, four fractions (1, 2, 3, 4) were collected and only fraction 3 (retention time=27.5 min) showed inhibition of HCV protease (FIG. 6, top).\n    In the case of C5, five fractions (1, 2, 3, 4, 5) were collected and only fraction 5 (retention time=27.5 min) showed inhibition of HCV protease (FIG. 6, middle).\n    In the case of E4, five fractions (1, 2, 3, 4, 5) were collected and only fraction 4 (retention time=27.5 min) showed inhibition of HCV protease (FIG. 6, bottom).\n    Lead Inhibitor Synthesis, Isolation, and Characterizations: To a 5:1 tBuOH/buffer solution (0.30 mL, 0.1 M) of α-ketoglutaric acid I3 (4.4 mg, 0.030 mmol, 1.0 equiv), monomer M5 (40 mg, 0.12 mmol, 3.6 equiv) was added. The mixture was allowed to stir at 45° C. for 2 h. The solution was cooled to RT and terminator T4 (24 mg, 0.060 mmol, 2.0 equiv) was added and the mixture was allowed to react at 45° C. for another 2 h. The crude reaction mixture was purified by preparative HPLC (gradient of 55 to 75% CH3CN with 0.1% TFA, 30 min) at 28 min and the collected product fraction was lyophilized to give as a white solid (6.6 mg, 0.0071 mmol, 24%). [α]D25 (c=0.055, HFIP)=−5.2; mp>200° C.; 1H NMR (600 MHz, d6-DMSO) δ 12.04 (br s, 1H), 9.07 (t, J=6.4 Hz, 1H), 7.74 (d, J=8.1 Hz, 1H), 7.53 (d, J=9.1 Hz, 1H), 7.48 (d, J=8.7 Hz, 2H), 7.35 (d, J=8.5 Hz, 2H), 7.30 (d, J=8.5 Hz, 2H), 4.29 (d, J=6.4 Hz, 2H), 4.14-4.07 (m, 1H), 4.03-3.95 (m, 3H), 3.00 (dd, J=5.8, 16.7 Hz, 1H), 2.84 (dd, J=7.5, 16.7 Hz, 1H), 2.45-2.00 (m, 12H), 1.73-1.60 (m, 10H), 1.60-1.47 (m, 7H), 1.38 (s, 9H), 1.36-1.27 (m, 3H), 1.16-1.00 (m, 9H), 0.97-0.86 (m, 6H); 13C NMR (150 MHz, d6-DMSO) δ 196.4, 173.9, 171.9, 170.2, 169.8, 169.5, 169.5, 160.9, 137.7, 131.4, 129.2, 128.2, 79.5, 50.3, 50.2, 50.0, 44.2, 42.2, 41.4, 40.9, 40.8, 40.5, 38.6, 38.4, 38.2, 31.3, 30.2, 29.5, 29.4, 29.2, 27.7, 27.1, 27.1, 27.1, 27.0, 26.0, 26.0, 25.9, 25.8, 25.7; IR (thin film) ν 3303, 2925, 2852, 1644, 1539 cm−1; HRMS (ESI) calcd for C49H75ClN5O10 [M+H]+ 928.5197. found, 928.5204.\n    IC50: Ten different concentrations (10, 5.0, 2.5, 1.0, 0.75, 0.50, 0.30, 0.25, 0.080, 0.050 μM in DMSO) of I3-M5-M5-M5-T4 were measured with HCV protease assay. Fluorescence signals were recorded at 90 min. The experiment was repeated in triplicate. IC50 was calculated via nonlinear regression using the software package GraphPad Prism 5.\n    General Methods:\n    Chemicals were purchased from Acros, Sigma-Aldrich, or ABCR and used without further purification. Thin layer chromatography (TLC) was performed on glass backed plates pre-coated with silica gel (Merck, Silica Gel 60 F254) and were visualized by fluorescence quenching under UV light or by staining with ceric sulfate or potassium permanganate. Flash column chromatography was performed on Silicycle Silica Flash F60 (230-400 Mesh) using a forced flow of air at 0.5-1.0 bar. NMR spectra were measured on VARIAN Mercury 300 MHz, 75 MHz, Bruker Avance 400 MHz, 100 MHz or Bruker AV-II 600 MHz, 150 MHz with a cryoprobe. Chemical shifts are expressed in parts per million (ppm) and are referenced to CDCl3 7.26 ppm, 77.0 ppm; CD3OD 3.31 ppm, 49.0 ppm; d6-DMSO 2.50 ppm, 39.5 ppm. Coupling constants are reported as Hertz (Hz). Splitting patterns are indicated as follows: br, broad; s, singlet; d, doublet; t, triplet; dd, doublet of doublet; dt, doublet of triplet; m, multiplet. Infrared (IR) spectra were recorded on a JASCO FT/IR-4100 spectrophotometer and are reported as wavenumber (cm−1). Optical rotations were measured in a Jasco P-2000 polarimeter with a 100 mm path length cell operating at the sodium D line (589 nm) and reported as [o]D25 (concentration g/100 mL, solvent), T=temperature (° C.). High-resolution mass spectra and MS/MS spectra were measured on a Bruker Daltonics maXis ESI-QTOF by the mass spectrometry service of the Laboratorium flir Organische Chemie at the ETH Ziirich. Melting points were measured on an Electrothermal Mel-Temp melting point apparatus using open glass capillaries and are uncorrected. HPLC (high performance liquid chromatography) was performed on JASCO analytical and preparative instruments. Columns used for the analytical and preparative HPLC were Shiseido CAPCELL PAK C18 UG120 (4.6 mm I.D.×250 mm) and Shiseido Capcell Pak C18 MG II (10 mm I.D.×250 mm) column with flow rates 1.0 mL/min and 10 mL/min respectively. The mobile phase were MQ-H2O with 0.1% TFA (eluent A) and HPLC grade CH3CN with 0.1% TFA (eluent B). Signals were monitored at 220, 254 and 301 nm. Library synthesis was performed on Techne PCR machine. The fluorescence was recorded on Molecular Devices and Thermo plate readers.\n    Synthesis of Monomers and Terminators\n    General Procedures (A) Synthesis of Monomers. (B) Synthesis of Terminators:\n    \n      \n        \n        \n           \n           \n        \n      \n    \n    (a) Preparation of 3-Methylene-1,4-dioxaspiro[4.5]decan-2-one (2)\n    To a stirred solution of 5-chloromethyl-2,2-pentamethylene-1,3-dioxolan-4-one (1) (1.0 equiv) in CHCl3 (0.50 M), NEt3 (2.0 equiv) was added and the solution heated to reflux for 18 h. The solution was cooled to RT and CHCl3 was removed under reduced pressure to provide acrylate (2), which was used without further purification.\n    (b) Preparation of Methyl 2-Methoxyacrylate (8)\n    Methyl 2-methoxy acrylate (8) was prepared according to the literature procedure.\n    (c) Cycloaddition\n    A toluene solution (0.20-0.50 M) of 2,3:5,6-O-diisopropylidene-D-gulose oxime (3)1 (1.0 equiv), aldehyde 4 (1.0 equiv) and acrylate 2 or 8 (1.0-2.0 equiv) was heated with a Dean-Stark apparatus fitted with a reflux condenser for 24 h. The solution was cooled to RT and toluene removed under reduced pressure. The crude cycloadduct D-gulose-isoxazolidine 5 or 9 was purified by flash chromatography and recrystallization.\n    (d) Cleavage of Chiral Auxiliary\n    To a solution of cycloadduct 5 or 9 (1.0 equiv) in CH3CN (0.10 M), HClO4 (70% w/w, 3.0 equiv) was added and the mixture was allowed to stir at RT for 5 h. The reaction mixture was neutralized with saturated NaHCO3 and extracted with EtOAc (3×). The combined organic layers were washed with brine (2×), dried over Na2SO4, and filtered. The solvent was removed under reduced pressure, and the crude reaction mixture was purified by flash chromatography to afford unprotected isoxazolidine 6 or 10.\n    (e) Preparation of Monomer HCl Salts\n    Unprotected isoxazolidine 6 (1.0 equiv) was dissolved in Et2O (0.1 M) and 4 M HCl in dioxane (1.1 equiv) was added. The solution was allowed to stir at RT for 15 min and a white precipitate formed. The precipitate was collected by filtration and dried under vacuum to provide the desired isoxazolidine hydrochloride salt 7 as a white solid.\n    (f) Preparation of Terminators\n    The corresponding amine (5.0-10 equiv) was added to isoxazolidine 10 (1.0 equiv) and the mixture was allowed to stir at RT for 12 h. The reaction mixture was diluted with EtOAc and washed with saturated NaHCO3 (2×). The combined organic layers was washed with brine (2×), dried over Na2SO4, filtered and concentrated under reduced pressure to give the product. If necessary, further purification was performed by flash chromatography.\n    Experimental Procedures and Characterization Data for the Synthesis of Monomers:\n     D-Gulose-β3h-(thiophen 2-yl)-isoxazolidine (12)\n    \n      \n        \n        \n           \n           \n        \n      \n    \n    Acrylate 2 was prepared according to General Procedure (a) from 5-chloromethyl-2,2-pentamethylene-1,3-dioxolan-4-one (1) (0.15 g, 0.73 mmol, 1.0 equiv) and NEt3 (0.19 mL, 1.5 mmol, 2.1 equiv) in CHCl3 (1.5 mL). The cycloaddition was performed according to General Procedure (c) from the crude acrylate 2, D-gulose oxime 3 (0.20 g, 0.73 mmol, 1.0 equiv) and thiophene 2-carboxaldehyde (68 μL, 0.73 mmol, 1.0 equiv) in toluene (1.5 mL). The cycloadduct was purified by flash chromatography (9:1 hexanes/EtOAc) and recrystallized from hexanes/EtOAc to afford the product as a white solid (0.19 g, 0.35 mmol, 48%). [α]D 25 (c=0.3, CH2Cl2)=+15.0; mp=162-164° C.; 1H NMR (400 MHz, CDCl3) δ 7.24 (dd, J=1.2, 5.1 Hz, 1H), 7.16-7.04 (m, 1H), 6.95 (dd, J=3.5, 5.1 Hz, 1H), 5.13 (dd, J=3.6, 8.1 Hz, 1H), 4.93 (d, J=6.0 Hz, 1H), 4.84 (s, 1H), 4.67 (d, J=4.0, 6.0 Hz, 1H), 4.35 (dt, J=6.8, 8.5 Hz, 1H), 4.18 (dd, J=6.8, 8.5 Hz, 1H), 4.07 (dd, J=4.0, 8.5 Hz, 1H), 3.68 (dd, J=6.8, 8.5 Hz, 1H), 3.19 (dd, J=8.1, 14.0 Hz, 1H), 2.71 (dd, J=3.6, 14.0 Hz, 1H), 1.91-1.58 (m, 8H), 1.50-1.42 (m, 5H), 1.40 (s, 3H), 1.37 (s, 3H), 1.29 (s, 3H); 13C NMR (100 MHz, CDCl3) δ 168.9, 142.9, 126.8, 125.5, 125.3, 112.9, 112.1, 109.8, 105.5, 97.1, 84.6, 83.7, 80.3, 75.6, 66.0, 60.2, 43.1, 37.4, 36.3, 26.7, 26.1, 25.3, 24.8, 24.3, 22.9, 22.8; IR (thin film) ν 2984, 2938, 1866, 1801, 1372, 1209, 1090 cm−1; HRMS (ESI) calcd for C26H36NO9S [M+H]+ 538.2105. found, 538.2098.\n    β3h-(Thiophen 2-yl)-isoxazolidine hydrochloride (M8)\n    \n      \n        \n        \n           \n           \n        \n      \n    \n    Auxiliary Cleavage was performed according to General Procedure (d) from D-gulose-β3 h-(thiophen-2-yl)-isoxazolidine (12) (0.40 g, 0.74 mmol, 1.0 equiv) and HClO4 (0.19 mL, 2.2 mmol, 3.0 equiv) in CH3CN (7.4 mL). The crude reaction mixture was purified by flash chromatography (3:1 hexanes/EtOAc) to afford the unprotected β3h-(thiophen-2-yl)-isoxazolidine as a colorless liquid (0.21 g, 0.71 mmol, 96%). According to General Procedure (e), the unprotected isoxazolidine was redissolved in Et2O (7.0 mL) and treated with 4 M HCl in dioxane (0.20 mL, 0.81 mmol, 1.1 equiv) to give hydrochloride salt M8 as a white solid (0.20 g, 0.60 mmol, 85%). [α]D 25 (c=0.3, CH2Cl2)=+30.0; mp=115-116° C.; 1H NMR (300 MHz, CD3OD) δ 7.55 (dd, J=1.2, 5.1 Hz, 1H), 7.43-7.27 (m, 1H), 7.11 (d, J=3.6, 5.1 Hz, 1H), 5.40-5.09 (m, 1H), 3.46-3.24 (m, 1H), 2.90 (dd, J=8.2, 14.2 Hz, 1H), 2.0-1.45 (m, 10H); 3C NMR (100 MHz, CD3OD) δ 168.1, 136.4, 129.3, 128.5, 128.4, 113.9, 108.4, 60.9, 44.5, 38.2, 36.9, 25.2, 24.0, 24.0; IR (thin film) ν 3208, 2940, 2864, 1801, 1449, 1373, 1269, 1177, 931, 703 cm−1; HRMS (ESI) calcd for C14H18NO4S [M+H]+ 296.0951. found, 296.0945.\n     D-Gulose-β3h-(2-fluorophenyl)-isoxazolidine (13)\n    \n      \n        \n        \n           \n           \n        \n      \n    \n    Acrylate 2 was prepared according to General Procedure (a) from 5-chloromethyl-2,2-pentamethylene-1,3-dioxolan-4-one (1) (1.5 g, 7.4 mmol, 1.0 equiv) and NEt3 (2.0 mL, 15 mmol, 2.0 equiv) in CHCl3 (15 mL). The cycloaddition was performed according to General Procedure (c) from the crude acrylate 2, D-gulose oxime 3 (2.0 g, 7.4 mmol, 1.0 equiv) and 2-fluorobenzylaldehyde (0.78 mL, 7.4 mmol, 1.0 equiv) in toluene (15 7.9 mL). The cycloadduct was purified by flash chromatography (5:1 hexanes/EtOAc) and recrystallized from hexanes to afford the product as a white solid (2.2 g, 3.9 mmol, 53%). [α]D25 (c=0.5, CH3OH)=+24.1; mp=105-106° C.; 1H NMR (400 MHz, CDCl3) δ 7.67-7.62 (m, 1H), 7.35-7.20 (m, 1H), 7.15-7.09 (m, 1H), 7.06-6.99 (m, 1H), 5.16 (dd, J=8.2, 3.6 Hz, 1H), 4.97 (d, J=6.0 Hz, 1H), 4.85 (s, 1H), 4.67 (dd, J=6.0, 4.0 Hz, 1H), 4.32 (dt, J=6.6, 8.5 Hz, 1H), 4.14 (dd, J=6.6, 8.5 Hz, 1H), 3.94 (dd, J=4.0, 8.5 Hz, 1H), 3.64 (dd, J=6.6, 8.5 Hz, 1H), 3.22 (dd, J=8.2, 13.9 Hz, 1H), 2.55 (dd, J=3.6, 13.9 Hz, 1H), 1.92-1.80 (m, 2H), 1.80-1.54 (m, 6H), 1.50-1.37 (m, 5H), 1.33 (s, 3H), 1.30 (s, 3H), 1.29 (s, 3H); 13C NMR (100 MHz, CDCl3) δ 168.9, 160.3 (d, J=247 Hz), 129.1 (d, J=8.2 Hz), 128.6 (d, J=3.6 Hz), 126.7 (d, J=12.7 Hz), 124.0 (d, J=3.6 Hz), 115.2 (d, J=21.4 Hz), 112.9, 111.9, 109.7, 105.2, 97.1, 84.4, 83.7, 80.3, 75.6, 66.0, 57.8, 42.7, 37.4, 36.2, 26.6, 26.1, 25.3, 24.9, 24.2, 22.9, 22.8; IR (thin film) ν 2986, 2866, 1802, 1490, 1454, 1156, 1036, 849 cm−1; HRMS (ESI) calcd for C28H37FNO9 [M+H]+ 550.2447. found, 550.2441.\n    β3h-(2-Fluorophenyl)-isoxazolidine hydrochloride (M6)\n    \n      \n        \n        \n           \n           \n        \n      \n    \n    Auxiliary Cleavage was performed according to General Procedure (d) from D-gulose-β3 h-(2-fluorophenyl)-isoxazolidine (13) (1.0 g, 1.8 mmol, 1.0 equiv) and HClO4 (0.47 mL, 5.5 mmol, 3.1 equiv) in CH3CN (18 mL). The crude reaction mixture was purified by flash chromatography (5:1 hexanes/EtOAc) to afford the unprotected β3h-(2-fluorophenyl)-isoxazolidine as a colorless liquid (0.51 g, 1.7 mmol, 94%). According to General Procedure (e), the unprotected isoxazolidine was redissolved in Et2O (17 mL) and treated with 4 M HCl in dioxane (0.48 mL, 1.9 mmol, 1.1 equiv) to give hydrochloride salt M6 as a white solid (0.40 g, 1.2 mmol, 71%). [0]D25 (c=0.5, CH3OH)=+15.2; mp=137-138° C.; 1H NMR (400 MHz, CD3OD) δ 7.70-7.63 (m, 1H), 7.54-7.45 (m, 1H), 7.33-7.20 (m, 2H), 5.31 (m, 1H), 3.40-3.32 (m, 1H), 2.93 (dd, J=7.3, 14.2 Hz, 1H), 1.97-1.80 (m, 4H), 1.79 (m, 4H), 1.60-1.34 (m, 2H); 13C NMR (100 MHz, CD3OD) δ 167.9, 162.3 (d, J=246.5 Hz), 132.7 (d, J=8.5 Hz), 130.1 (d, J=3.1 Hz), 126.0 (d, J=3.6 Hz), 122.0 (d, J=13.7 Hz), 116.8 (d, J=21.6 Hz), 114.0, 108.1, 59.13 (d, J=3.4 Hz), 42.6, 38.2, 36.8, 25.2, 24.0, 24.0; IR (thin film) ν 3398, 2940, 2864, 1798, 1682, 1454 cm−1; HRMS (ESI) calcd for C16H19FNO4 [M−Cl]+ 308.1293. found, 308.1287.\n    Experimental Procedures and Characterization Data for the Synthesis of Terminators\n    (3S,5R)-3-Isobutyl-5-methoxyisoxazolidine-5-carboxamide (T1)\n    \n      \n        \n        \n           \n           \n        \n      \n    \n    Terminator T1 was prepared according to General Procedure (f) from ammonium hydroxide solution (25% w/w, 0.50 mL, 3.3 mmol, 8.3 equiv) and (3S,5R)-methyl 3-isobutyl-5-methoxyisoxazolidine-5-carboxylate (86 mg, 0.40 mmol, 1.0 equiv). The product was isolated as a white solid (73 mg, 0.36 mmol, 90%). [α]D 25 (c=0.4, CH3OH)=+118.0; mp=136-138° C.; 1H NMR (400 MHz, CDCl3) δ 6.68 (br d, 1H), 6.51 (br d, 1H), 5.59 (br d, 1H), 3.50-3.36 (m, 1H), 3.28 (s, 3H), 2.63 (dd, J=8.2, 13.6 Hz, 1H), 1.98 (dd, J=8.4, 13.6 Hz, 1H), 1.70-1.55 (m, 1H), 1.53-1.27 (m, 2H), 0.94-0.83 (m, 6H); 13C NMR (100 MHz, CDCl3) δ 170.5, 109.0, 59.2, 51.6, 48.4, 40.4, 26.5, 22.6, 22.6; IR (thin film) ν 3399, 3220, 3145, 2952, 2875, 1666, 1227, 1047 cm−1; HRMS (ESI) calcd for C9H19N2O3 [M+H]+203.1390. found, 203.1381.\n    (3S,5R)—N-Cyclopropyl-3-isobutyl-5-methoxyisoxazolidine-5-carboxamide (T2)\n    \n      \n        \n        \n           \n           \n        \n      \n    \n    Terminator T2 was prepared according to General Procedure (f) from cyclopropylamine (0.20 mL, 2.9 mmol, 4.8 equiv) and (3S,5R)-methyl 3-isobutyl-5-methoxyisoxazolidine-5-carboxylate (0.13 g, 0.60 mmol, 1.0 equiv). The product was isolated as a colorless liquid (92 mg, 0.38 mmol, 63%). [α]D 25 (c=0.8, CH3OH)=+67.4; 1H NMR (400 MHz, CDCl3) δ 6.66 (br d, 1H), 5.55 (br d, 1H), 3.47-3.30 (m, 1H), 3.24 (s, 3H), 2.84-2.72 (m, 1H), 2.58 (dd, J=8.2, 13.6 Hz, 1H), 1.98 (dd, J=8.3, 13.6 Hz, 1H), 1.70-1.55 (m, 1H), 1.50-1.27 (m, 2H), 0.95-0.85 (m, 6H), 0.85-0.70 (m, 2H), 0.55-0.45 (m, 2H); 13C NMR (100 MHz, CDCl3) δ 168.8, 109.1, 59.3, 51.5, 48.1, 40.5, 26.5, 22.7, 22.6, 22.3, 6.6, 6.3; IR (thin film) ν 3318, 2956, 1678, 1519, 1074, 1035 cm−1; HRMS (ESI) calcd for C12H23N2O3 [M+H]+243.1703. found, 243.1696.\n    ((3S,5R)-3-Isobutyl-5-methoxyisoxazolidin-5-yl)(morpholino)methanone (T3)\n    \n      \n        \n        \n           \n           \n        \n      \n    \n    Morpholine (0.30 mL, 3.4 mmol, 6.2 equiv), 1,2,4-triazole (8.0 mg, 0.12 mmol, 0.22 equiv) and 1,8-diazabicyclo[5.4.0]undec-7-ene (16 μL, 0.11 mmol, 0.20 equiv) were added to (3S,5R)-methyl 3-isobutyl-5-methoxyisoxazolidine-5-carboxylate (0.12 g, 0.55 mmol, 1.0 equiv). The mixture was stirred at 60° C. for 12 h. The crude reaction mixture was purified by flash chromatography (1:3 hexanes/EtOAc) and the product was isolated as a clear liquid (89 mg, 0.33 mmol, 60%). [α]D 25 (c=0.6, CH2Cl2)=+71.7; 1H NMR (400 MHz, CDCl3) δ 5.50 (br d, 1H), 3.93-3.42 (m, 9H), 3.28 (s, 3H), 2.88 (dd, J=8.0, 12.9 Hz, 1H), 1.90 (dd, J=8.0, 12.9 Hz, 1H), 1.75-1.56 (m, 1H), 1.47 (dd, J=6.9, 13.8 Hz, 1H), 1.36 (dd, J=7.0, 13.8 Hz, 1H), 0.96-0.58 (m, 6H); 13C NMR (100 MHz, CDCl3) δ 165.3, 110.2, 67.0, 66.9, 59.3, 51.4, 46.7, 45.8, 43.1, 40.9, 26.5, 22.7, 22.7; IR (thin film) ν 3203, 2956, 2867, 1651, 1434, 1253, 1116, 1068, 1029 cm−1; HRMS (ESI) calcd for C13H24N2NaO4 [M+Na]+295.1628. found, 295.1613.\n    tert-Butyl 3-((3S,5R)-5-((4-chlorobenzyl)carbamoyl)-5-methoxyisoxazolidin-3-yl)propanoate (T4)\n    \n      \n        \n        \n           \n           \n        \n      \n    \n    Terminator T4 was prepared according to General Procedure (f) from 4-chlorobenzylamine (1.5 mL, 12 mmol, 8.6 equiv) and tert-butyl 3-((3S,5R)-5-((4-chlorobenzyl)carbamoyl)-5-methoxyisoxazolidin-3-yl)propanoate (0.40 g, 1.4 mmol, 1.0 equiv). The crude reaction mixture was purified by flash chromatography (1:1 hexanes/EtOAc) and the product was isolated as a white solid (0.48 g, 1.2 mmol, 86%). [α]D 25 (c=0.5, CH2Cl2)=+51.0; mp=65-67° C.; 1H NMR (400 MHz, CDCl3) δ 7.29 (d, J=8.5 Hz, 2H), 7.18 (d, J=8.5 Hz, 2H), 6.95 (br t, 1H), 5.68 (br d, 1H), 4.50-4.35 (m, 2H), 3.42-3.30 (m, 1H), 3.26 (s, 3H), 2.60 (dd, J=8.2, 13.6 Hz, 1H), 2.30 (t, J=7.4 Hz, 2H), 2.05 (dd, J=8.1, 13.6 Hz, 1H), 1.88-1.75 (m, 2H), 1.42 (s, 9H); 13C NMR (100 MHz, CDCl3) δ 171.9, 167.4, 136.1, 133.5, 129.1, 128.9, 109.1, 80.7, 60.5, 51.5, 47.6, 42.6, 32.9, 28.0, 26.4; IR (thin film) ν 3353, 2978, 2936, 1726, 1681, 1523, 1154, 1089 cm−1; HRMS (ESI) calcd for C19H27ClN2NaO5 [M+Na]+421.1501. found, 421.1490.\n    (3S,5R)—N-Allyl-3-isobutyl-5-methoxyisoxazolidine-5-carboxamide (T5)\n    \n      \n        \n        \n           \n           \n        \n      \n    \n    Terminator T5 was prepared according to General Procedure (f) from allylamine (0.35 mL, 4.6 mmol, 5.9 equiv) and (3S,5R)-methyl 3-isobutyl-5-methoxyisoxazolidine-5-carboxylate (0.17 g, 0.78 mmol, 1.0 equiv). The product was isolated as a white solid (0.18 g, 0.74 mmol, 95%). [u]D25 (c=2.0, CH2Cl2)=+95.3; mp=33-35° C.; 1H NMR (300 MHz, CDCl3) δ 6.75 (br t, 1H), 5.88-5.73 (m, 1H), 5.59 (br d, 1H), 5.21-5.09 (m, 2H), 4.01-3.79 (m, 2H), 3.50-3.32 (m, 1H), 3.25 (s, 3H), 2.60 (dd, J=8.1, 13.6 Hz, 1H), 1.99 (dd, J=8.4, 13.6 Hz, 1H), 1.72-1.53 (m, 1H), 1.54-1.27 (m, 2H), 0.93-0.85 (m, 6H); 13C NMR (100 MHz, CDCl3) δ 167.4, 133.4, 116.7, 109.2, 59.3, 51.5, 48.2, 41.5, 40.5, 26.5, 22.7, 22.6; IR (thin film) ν 2957, 2871, 2837, 1672, 1645, 1526, 1261, 1148, 991, 919 cm−1; HRMS (ESI) calcd for C12H23N2O3 [M+H]+ 243.1703. found, 243.1697.\n     D-Gulose-/β3h-(4-methoxyphenyl)-isoxazolidine (14)\n    \n      \n        \n        \n           \n           \n        \n      \n    \n    The cycloaddition was followed General Procedure (c) from methyl 2-methoxy acrylate 8 (1.7 g, 15 mmol, 2.1 equiv), D-gulose oxime 3 (2.0 g, 7.3 mmol, 1.0 equiv) and 4-methoxybenzaldehyde (1.0 g, 7.3 mmol, 1.0 equiv) in toluene (35 mL). The cycloadduct was purified by flash chromatography (3:1 hexanes/EtOAc) and recrystallized from hexanes to afford the product as a white solid (2.5 g, 4.9 mmol, 67%). [α]D 25 (c=0.3, CH2Cl2)=+54.0; mp=58-60° C.; 1H NMR (300 MHz, CDCl3) δ 7.36 (d, J=8.7 Hz, 2H), 6.83 (d, J=8.7 Hz, 2H), 5.08 (d, J=6.0 Hz, 1H), 4.74 (s, 1H), 4.67 (dd, J=4.2, 6.0 Hz, 1H), 4.32-4.18 (m, 2H), 4.18-4.06 (m, 1H), 3.92-3.81 (m, 4H), 3.77 (s, 3H), 3.60 (dd, J=7.0, 8.3 Hz, 1H), 3.41 (s, 3H), 2.95 (dd, J=8.4, 13.6 Hz, 1H), 2.56 (dd, J=8.0, 13.6 Hz, 1H), 1.61 (s, 3H), 1.42 (s, 3H), 1.31 (s, 3H), 1.28 (s, 3H); 13C NMR (100 MHz, CDCl3) δ 168.8, 159.2, 130.2, 128.8, 114.0, 112.6, 109.5, 104.4, 98.2, 84.4, 82.5, 80.7, 75.8, 66.2, 65.9, 55.2, 52.9, 51.8, 48.7, 26.6, 26.0, 25.3, 24.8; IR (thin film) ν 2986, 2937, 1750, 1515, 1456, 1372, 1251, 1067 cm−1; HRMS (ESI) calcd for C25H36NO10 [M+H]+ 510.2334, found, 510.2332.\n    β3h-(4-Methoxyphenyl)-isoxazolidine (15)\n    \n      \n        \n        \n           \n           \n        \n      \n    \n    Auxiliary Cleavage was performed according to General Procedure (d) from D-gulose-β3 h-(4-methoxyphenyl)-isoxazolidine 14 (2.6 g, 5.1 mmol, 1.0 equiv) and HClO4 (1.3 mL, 15 mmol, 2.9 equiv) in CH3CN (50 mL). The crude reaction mixture was purified by flash chromatography (1:1 hexanes/EtOAc) to afford the product as a white solid (0.96 g, 3.6 mmol, 71%).[α]D25 (c=0.5, CH2Cl2)=+42.2; mp=92-93° C.; 1H NMR (400 MHz, CDCl3) δ 7.35 (d, J=8.7 Hz, 2H), 6.89 (d, J=8.7 Hz, 2H), 5.70 (br d, 1H), 4.48-5.57 (m, 1H), 3.87 (s, 3H), 3.80 (s, 3H), 3.42 (s, 3H), 2.91 (dd, J=9.3, 13.5 Hz, 1H), 2.52 (dd, J=7.4, 13.5 Hz, 1H); 13C NMR (100 MHz, CDCl3) δ 168.0, 159.7, 129.0, 128.0, 114.2, 108.3, 63.7, 55.2, 52.8, 51.7, 48.4; IR (thin film) ν 2951, 2838, 1749, 1516, 1437, 1059, 811 cm−1; HRMS (ESI) calcd for C13H18NO5 [M+H]+ 268.1179. found, 268.1183.\n    (3R,5R)—N-β-(Diethylamino)propyl)-5-methoxy-3-(4-methoxyphenyl)isoxazolidine-5-carboxamide (T6)\n    \n      \n        \n        \n           \n           \n        \n      \n    \n    Terminator T6 was prepared according to General Procedure (f) from N,N-diethyl-1,3-diaminopropane (0.60 mL, 3.7 mmol, 4.7 equiv) and β3h-(4-methoxyphenyl)-isoxazolidine 15 (0.17 g, 0.78 mmol, 1.0 equiv) in DMF (0.60 mL). The product was isolated as a colorless liquid (0.21 g, 0.58 mmol, 74%). [α]D 25 (c=0.5, CH2Cl2)=+26.1; 1H NMR (400 MHz, CDCl3) δ 8.11 (br t, 1H), 7.32 (d, J=8.5 Hz, 2H), 6.85 (d, J=8.5 Hz, 2H), 5.71 (br d, 1H), 4.43-4.34 (m, 1H), 3.76 (s, 3H), 3.48-3.30 (m, 2H), 3.30 (s, 3H), 2.78 (dd, J=8.4, 13.6 Hz, 1H), 2.60-2.43 (m, 7H), 1.70-1.62 (m, 2H), 1.03 (t, J=7.1 Hz, 6H); 13C NMR (100 MHz, CDCl3) δ 167.0, 159.6, 128.9, 128.0, 114.2, 109.3, 63.6, 55.2, 52.0, 51.2, 48.0, 46.7, 39.3, 25.6, 11.4; IR (thin film) ν 2967, 2936, 2811, 1679, 1515, 1251, 1034, 830 cm−1; HRMS (ESI) calcd for C19H32N3O4 [M+H]+ 366.2387. found, 366.2397.\n    (3S,5R)-3-Benzyl-5-methoxy-N-(2-(pyrrolidin-1-yl)ethyl)isoxazolidine-5-carboxamide (T7)\n    \n      \n        \n        \n           \n           \n        \n      \n    \n    Terminator T7 was prepared according to General Procedure (f) from 2-cyclopentylethanamine (0.47 mL, 3.7 mmol, 10 equiv) and (3S,5R)-methyl 3-benzyl-5-methoxyisoxazolidine-5-carboxylate (87 mg, 0.35 mmol, 1.0 equiv). The crude reaction mixture was purified by flash chromatography (9:1 CH2Cl2/CH3OH) and the product was isolated as a clear liquid (87 mg, 0.26 mmol, 73%). [α]D 25 (c=1.0, CH2Cl2)=+58.4; 1H NMR (400 MHz, CDCl3) δ 7.35-7.13 (m, 5H), 7.06 (br t, 1H), 5.75 (br d, 1H), 3.76-3.57 (m, 1H), 3.54-3.31 (m, 2H), 3.28 (s, 3H), 2.98 (dd, J=6.0, 13.7 Hz, 1H), 2.76 (dd, J=7.9, 13.6 Hz, 1H), 2.66-2.45 (m, 7H), 2.16 (dd, J=7.9, 13.6 Hz, 1H), 1.87-1.61 (m, 4H); 13C NMR (100 MHz, CDCl3) δ 167.5, 137.4, 128.7, 128.7, 126.7, 109.2, 61.8, 54.5, 53.9, 51.5, 47.2, 38.0, 37.4, 23.5; IR (thin film) ν 3370, 2937, 2800, 1677, 1527, 1455, 1150, 1085, 701 cm−1; HRMS (ESI) calcd for C18H28N3O3 [M+H]+ 334.2125. found, 334.2132.\n    (3S,5R)-3-Isobutyl-5-methoxy-N-(pyridin-4-ylmethyl)isoxazolidine-5-carboxamide (T)\n    \n      \n        \n        \n           \n           \n        \n      \n    \n    Terminator T8 was prepared according to General Procedure (f) from 4-(aminomethyl)pyridine (0.40 mL, 4.0 mmol, 5.1 equiv) and (3S,5R)-methyl 3-isobutyl-5-methoxyisoxazolidine-5-carboxylate (0.17 g, 0.78 mmol, 1.0 equiv). The crude reaction mixture was purified by flash chromatography (9:1 CH2Cl2/CH3OH) and the product was isolated as a white solid (0.18 g, 0.61 mmol, 78%). [α]D 25 (c=1.0, CH2Cl2)=+68.6; mp=82-84° C.; 1H NMR (400 MHz, CDCl3) δ 8.53 (d, J=4.9 Hz, 2H), 7.13-7.20 (m, 3H), 5.59 (br d, 1H), 4.57-4.37 (m, 2H), 3.47-3.37 (m, 1H), 3.26 (s, 3H), 2.61 (dd, J=8.2, 13.6 Hz, 1H), 2.02 (dd, J=8.3, 13.6 Hz, 1H), 1.69-1.57 (m, 1H), 1.50-1.32 (m, 2H), 0.93-0.86 (m, 6H); 13C NMR (100 MHz, CDCl3) δ 168.0, 150.1, 146.6, 122.1, 109.1, 59.4, 51.5, 48.0, 42.0, 40.5, 26.5, 22.6, 22.6; IR (thin film) ν 3204, 2955, 1679, 1523, 1220, 1030 cm1; HRMS (ESI) calcd for C15H24N3O3 [M+H]+ 294.1812. found, 294.1812.\n    (3S,5R)-3-Isobutyl-5-methoxy-N-(4-sulfamoylphenethyl)isoxazolidine-5-carboxamide (T9)\n    \n      \n        \n        \n           \n           \n        \n      \n    \n    Terminator T9 was prepared according to General Procedure (f) from 4-(2-aminoethyl)benzenesulfonamide (0.79 g, 4.0 mmol, 5.1 equiv) and (3S,5R)-methyl 3-isobutyl-5-methoxyisoxazolidine-5-carboxylate (0.17 g, 0.78 mmol, 1.0 equiv) and in DMF (2.0 mL). The crude reaction mixture was purified by flash chromatography (19:1 CH2Cl2/CH3OH) and the product was isolated as a white solid (0.26 g, 0.68 mmol, 87%).[α]D 25 (c=0.4, CH2Cl2)=+55.0; mp=68-70° C.; 1H NMR (400 MHz, CDCl3) δ 7.85 (d, J=8.4 Hz, 2H), 7.34 (d, J=8.4 Hz, 2H), 6.78 (br t, 1H), 5.58 (br d, 1H), 4.98 (s, 2H), 3.76-3.61 (m, 1H), 3.61-3.50 (m, 1H), 3.41-3.28 (m, 1H), 3.17 (s, 3H), 2.93 (t, J=7.0 Hz, 2H), 2.51 (dd, J=8.1, 13.6 Hz, 1H), 1.97 (dd, J=8.5, 13.6 Hz, 1H), 1.70-1.55 (m, 1H), 1.50-1.31 (m, 2H), 0.94-0.88 (m, 6H); 13C NMR (100 MHz, CDCl3) δ 167.8, 143.8, 140.6, 129.4, 126.6, 109.1, 59.2, 51.5, 48.3, 40.4, 39.8, 35.3, 26.5, 22.7, 22.6; IR (thin film) ν 2938, 2866, 1803, 1451, 1372, 1230, 1089, 849 cm−1; HRMS (ESI) calcd for C17H27N3NaO5S [M+Na]+408.1564. found, 408.1550.\n    \n      \n        \n          \n             \n            \n              \n                 \n              \n              \n                LIST OF REFERENCE SIGNS\n              \n              \n                 \n              \n            \n            \n              \n                 \n              \n            \n          \n          \n             \n             \n             \n             \n             \n            \n              \n                 \n                I\n                initiator\n                 tBu\n                tert. Butyl\n              \n              \n                 \n                T\n                teiminator\n                Boc\n                tert-Butyloxycarbonyl\n              \n              \n                 \n                M\n                monomer\n                Bz\n                benzyl\n              \n              \n                 \n                Me\n                methyl\n                Et\n                ethyl\n              \n              \n                 \n                Ph\n                phenyl\n                 iPr\n                iso-propyl\n              \n              \n                 \n              \n            \n          \n        \n      \n    \n    \n  \n    \n       1. A method for the generation of oligomers or a mixture of oligomers to form a chemical library by amide-forming oligomerization comprising the steps of:\n1) reacting a mixture of at least one initiator with at least one monomer to form a dimer of the initiator and the monomer or\nto form a pre-oligomer with an initiator attached to a chain of more than one monomer, or a mixture thereof by amide-bond formation;\n 2) adding at least one terminator for the formation of a linear oligomer or a mixture of linear oligomers by amide-bond formation;\nor, for the formation of a cyclic oligomer or a mixture of cyclic oligomers by amide-bond formation, changing the reaction conditions relative to step 1) so as to form a linking covalent bond between the at least one initiator and a monomer of the dimer or pre-oligomer formed in step 1),\n with the proviso that\nstep 2) can be omitted so that the dimer of the initiator and the monomer or the pre-oligomer with an initiator attached to a chain of more than one monomer, or a mixture thereof is formed as the linear oligomer or mixture of linear oligomers by amide-bond formation;\n wherein the initiator is selected from the group consisting of: \n      \n        \n          \n          \n             \n             \n          \n        \n        with, for the formation of a linear oligomer or a mixture of linear oligomers by amide-bond formation,\n        R being selected from the group consisting of: substituted or unsubstituted alkyl, heteroalkyl, cycloalkyl, heterocycloalkyl, aryl, heteroaryl, alkylaryl, heteroalkylaryl, alkenyl, heteroalkenyl, alkinyl, heteroalkinyl, —C(NH2)RI, —C(NH2){RI—CO—C(NH2)}nRI with n=1, 2 and RI being H or an amino-acid side chain, fluorescent dye, nucleic acid or derivative thereof, peptide nucleic acid, FLAG octapeptide (DYKDDDDK), biotin or affinity tag;\n        or with, for the formation of a cyclic oligomer or a mixture of cyclic oligomers by amide-bond formation,\n        R being selected from the group consisting of: —{(CH2)}nRc, —{(CHCH3)}nRc, {(CH(1,1-dimethylethyl))}nRc, —{(CH(benzyl))}nRc, in each case with n=1,2 and Rc being a linker structure allowing to form a linking covalent amide bond to the respective terminal monomer of the dimer or oligomer formed in step 1);\n        and in both cases with\n        X+ being a counterion, selected from the group consisting of: K+, Cs+, Li+, Na+, R4N+, R4P+ or R3S+ with R being an organic substituent or H;\n        X, Y, Z, being, independently from each other, selected from the group consisting of: F, OR, N+R3, N+R2OR, N+R2SR, and N+R2NR2, and including the situation of forming a cyclic or a bicyclic structure; wherein R is an organic substituent or H;\n        or covalent dimers or trimers thereof with R in this case being a common linker element;\n        wherein the monomer is selected from the group consisting of:\n      \n      \n        \n          \n          \n             \n             \n          \n        \n        with\n        X being selected from the group consisting of: halogen, —OH, —COOH, —NH2, —O-Alkyl, —O-Aryl, —O—CO-Alkyl, —O—CO-Aryl, —SH, S-Alkyl, —S-Aryl, N-Acyl, —NH-Alkyl, —NH-Aryl, —N(Alkyl)2, —N(Aryl)2, —N(Alkyl)(Aryl), —CO—NH-Alkyl, —CO—NH-Aryl, —CO—N(Alkyl)2, —CO—N(Aryl)2, —CO—N(Alkyl)(Aryl), —CN, —NO2, —N3, —S(O)Aryl, —S(O)2 Aryl;\n        Y being selected from the group consisting of: —PO3H, —COOH, —BF3 −X+, —BXYZ, wherein X+, X, Y, Z are defined as given above in the context of the initiator,\n        Z being selected from the group consisting of: —PO3H, —COOH, —BF3 −X+, —BXYZ, wherein X+, X, Y, Z are defined as given above in the context of the initiator, as well as derivatives thereof which upon collapse of X and Z upon cleavage of the NO bond lead to Y;\n        R being selected from the group consisting of: O, S, NR1, Si, CHR1R2;\n        R1-R6 being, independently from each other, selected from the group consisting of: hydrogen, halogen, substituted or unsubstituted alkyl, heteroalkyl, aryl, cycloalkyl, heterocycloalkyl, heteroaryl, alkylaryl, heteroalkylaryl, alkenyl, heteroalkenyl, alkinyl, heteroalkinyl, as well as cyclic forms linking these among each other;\n        Q being selected from the group consisting of: O, S, Si, NR1, where R1 is an organic substituent or H;\n        and wherein the terminator, if used, is selected from the group consisting of:\n      \n      \n        \n          \n          \n             \n             \n          \n        \n        with\n        R being selected from the group consisting of: CH2, (CH2)2, CHRT, CH2CHRT, (CH2)3, (CH2)2CHRT, CH2CHRTCH2, (CH2)4, wherein RT is selected from the group consisting of: hydrogen, halogen, substituted or unsubstituted alkyl, heteroalkyl, aryl, cycloalkyl, heterocycloalkyl, heteroaryl, alkylaryl, heteroalkylaryl, alkenyl, heteroalkenyl, alkinyl, heteroalkinyl;\n        R1 being selected from the group consisting of: substituted or unsubstituted alkyl, heteroalkyl, aryl, cycloalkyl, heterocycloalkyl, heteroaryl, alkylaryl, heteroalkylaryl, alkenyl, heteroalkenyl, alkinyl, heteroalkinyl, ester, carbamate, sulfonate, sulfinate, phosphate, silyl;\n        R7-R9 being, independently from each other, selected from the group consisting of: hydrogen, halogen, substituted or unsubstituted alkyl, heteroalkyl, aryl, cycloalkyl, heterocycloalkyl, heteroaryl, alkylaryl, heteroalkylaryl, alkenyl, heteroalkenyl, alkinyl, heteroalkinyl, ester, carbamate, sulfonate, sulfinate, phosphate, silyl, as well as cyclic forms linking these among each other and carbonyl, imidate, thiomidate\n        or covalent dimers or trimers thereof with R1 and/or at least one of R7 or R8 in this case being a common linker element.\n      \n    \n    \n       2. The method according to claim 1, wherein the generation of oligomers or a mixture of oligomers is carried out using the steps of\n1) reacting a mixture of at least one initiator with at least one monomer to form a dimer of the initiator and the monomer or\nto form a pre-oligomer with an initiator attached to a chain of more than one monomer, or a mixture thereof by amide-bond formation;\n 2) adding at least one terminator for the formation of a linear oligomer or a mixture of linear oligomers by amide-bond formation;\nor, for the formation of a cyclic oligomer or a mixture of cyclic oligomers by amide-bond formation, changing the reaction conditions relative to step 1) so as to form a linking covalent bond between the at least one initiator and the respective terminal monomer of the dimer or pre-oligomer formed in step 1).\n \n    \n    \n       3. The method according to claim 1, wherein one single initiator is used in step 1) and, in case of the formation of a linear oligomer or a mixture of linear oligomers by amide-bond formation, one single terminator is used in step 2).\n    \n    \n       4. Method according to claim 1, wherein the initiator for the formation of a linear oligomer or a mixture of linear oligomers by amide-bond formation is selected from the group consisting of:\n      \n        \n          \n          \n             \n             \n          \n        \n        with Me=—CH3.\n      \n    \n    \n       5. The method according to claim 1, wherein the initiator for the formation of a cyclic oligomer or a mixture of cyclic oligomers by amide-bond formation is selected in that the linker structure is selected from the group consisting of: a chain of one or two elements selected from the group of: amino acid, CO((CH2)2NH, and this chain terminated by a group selected from:\n      \n        \n          \n          \n             \n             \n          \n        \n        with Bz=benzyl; Boc=tert-butyloxycarbonyl.\n      \n    \n    \n       6. The method according to claim 1, wherein the initiator for the formation of a cyclic oligomer or a mixture of cyclic oligomers by amide-bond formation is given by a structure comprising at one initiator moiety selected from the group consisting of:\n      \n        \n          \n          \n             \n             \n          \n        \n        with\n        R being a linker element\n        X+ being a counter-ion, selected from the group consisting of: K+, Cs+, Li+, Na+, R4N+, R4P+ or R3S+ with R being an organic substituent or H;\n        X, Y, Z, being, independently from each other, selected from the group consisting of: F, OR, N+R3, N+R2OR, N+R2SR, and N+R2NR2, and including the situation of forming a cyclic or a bicyclic structure; wherein R is an organic substituent or H;\n        and at least one terminator moiety selected from the group consisting of:\n      \n      \n        \n          \n          \n             \n             \n          \n        \n        with\n        R being selected from the group consisting of: CH2, (CH2)2, CHRT, CH2CHRT, (CH2)3, (CH2)2CHRT, CH2CHRTCH2, (CH2)4, wherein RT is selected from the group consisting of: hydrogen, halogen, substituted or unsubstituted alkyl, heteroalkyl, aryl, cycloalkyl, heterocycloalkyl, heteroaryl, alkylaryl, heteroalkylaryl, alkenyl, heteroalkenyl, alkinyl, heteroalkinyl;\n        R1 being a linker element;\n        R7-R9 being, independently from each other, selected from the group consisting of: hydrogen, halogen, substituted or unsubstituted alkyl, heteroalkyl, aryl, cycloalkyl, heterocycloalkyl, heteroaryl, alkylaryl, heteroalkylaryl, alkenyl, heteroalkenyl, alkinyl, heteroalkinyl, ester, carbamate, sulfonate, sulfinate, phosphate, silyl, as well as cyclic forms linking these among each other and carbonyl, imidate, thiomidate, with the proviso that at least one of R7 or R8 is a linker element,\n        linked by a common linker element given by R in the initiator moiety and by R1 or R7 or\n        R8 in the terminator moiety.\n      \n    \n    \n       7. The method according to claim 1, wherein the monomer is selected from the group consisting of:\n      \n        \n          \n          \n             \n             \n          \n        \n        \n          \n          \n             \n             \n          \n        \n        \n          \n          \n             \n             \n          \n        \n        with Me==—CH3, tBu=1,1-dimethylethyl, Cbz=benzyloxycarbonyl, iPr=isopropyl, Ph=phenyl.\n      \n    \n    \n       8. The method according to claim 1, wherein the terminator is selected from the group consisting of:\n      \n        \n          \n          \n             \n             \n          \n        \n        with\n        R1 being selected from the group consisting of: substituted or unsubstituted alkyl, heteroalkyl, aryl, cycloalkyl, heterocycloalkyl, heteroaryl, alkylaryl, heteroalkylaryl, alkenyl, heteroalkenyl, alkinyl, heteroalkinyl, ester, carbamate, sulfonate, sulfinate, phosphate, silyl;\n        Me=—CH3, Et=ethyl; Ph=phenyl.\n      \n    \n    \n       9. The method according to claim 1, wherein step 1) and/or 2) are carried out, apart from solvent(s), without any added further chemical reagents or catalysts;\n    \n    \n       10. The method according to claim 1, wherein in step 1) and/or in step 2) organic solvents, water, aqueous buffer or combinations thereof are used.\n    \n    \n       11. The method according to claim 1, wherein in step 1) more than 1, monomer is used, and/or wherein in step 1) the reaction is carried over to lead to oligomers with at least 2 interlinked monomers.\n    \n    \n       12. The method according to claim 1, wherein in step 1) the reaction conditions are selected so as to lead, between different batches, to targeted different distributions of different oligomers in the mixture.\n    \n    \n       13. The method according to claim 1, wherein in step 1) one single initiator, one single monomer and, in case of the generation of linear oligomers, in step 2) one single terminator is used, and wherein the reaction conditions in step 1) and/or step 2) are adapted such as to form a specific trimer structure.\n    \n    \n       14. The method of identification of biologically and/or chemically active systems from a chemical library based on at least one mixture of oligomers made using a method for the generation of oligomers or a mixture of oligomers according to claim 1, wherein the mixtures of oligomers are screened for activity prior to purification or separation of the compounds from the mixture.\n    \n    \n       15. The method according to claim 14,\nusing a number of specifically differing mixtures wherein in step 1) and/or in step 2) organic solvents, water, aqueous buffer or combinations thereof are used, checking these mixtures for biological and/or chemical activity, inferring from activity patterns initiators and/or monomers and/or terminators inducing activity, preparing further mixtures according to the method for the generation of oligomers or a mixture of oligomers based on the identified active initiators and/or monomers and/or terminators only, thereby successively reducing the number of possible active oligomers. \n    \n    \n       16. The method according to claim 14,\nusing a number of specifically differing mixtures wherein in step 1) more than 1, monomer is used, and/or wherein in step 1) the reaction is carried over to lead to oligomers with at least 2 interlinked monomers, checking these mixtures for biological and/or chemical activity, inferring from activity patterns initiators and/or monomers and/or terminators inducing activity, preparing further mixtures according to the method for the generation of oligomers or a mixture of oligomers based on the identified active initiators and/or monomers and/or terminators only, thereby successively reducing the number of possible active oligomers. \n    \n    \n       17. The method according to claim 1, wherein the initiator for the formation of a cyclic oligomer or a mixture of cyclic oligomers by amide-bond formation is selected from the group consisting of:\n      \n        \n          \n          \n             \n             \n          \n        \n        wherein\n        R1 is a linker element;\n        Rq is a structural element complementing to a 4, 5, 6, or 7 membered ring;\n        Rt is a structural element complementing to a 4, 5, 6, or 7 membered ring;\n        R7-R9 being, independently from each other, selected from the group consisting of: hydrogen, halogen, substituted or unsubstituted alkyl, heteroalkyl, aryl, cycloalkyl, heterocycloalkyl, heteroaryl, alkylaryl, heteroalkylaryl, alkenyl, heteroalkenyl, alkinyl, heteroalkinyl, as well as cyclic forms linking these among each other and carbonyl, imidate, thiomidate,\n        R being selected from the group consisting of: O, S, NR1, SiR1R2, CR1R2; wherein R1 and R2 are, independently from each other, selected from the group consisting of: hydrogen, halogen, substituted or unsubstituted alkyl, heteroalkyl, aryl, cycloalkyl, heterocycloalkyl, heteroaryl, alkylaryl, heteroalkylaryl, alkenyl, heteroalkenyl, alkinyl, heteroalkinyl,\n        Y being selected from the group consisting of: —PO3H, —COOH, —BF3 −X+, —BXYZ, wherein X+, X, Y, Z are defined as given above in the context of the initiator.\n      \n    \n    \n       18. The method according to claim 1, wherein the initiator for the formation of a cyclic oligomer or a mixture of cyclic oligomers by amide-bond formation is selected from the group consisting of:\n      \n        \n          \n          \n             \n             \n          \n        \n        with boc=tert-butyloxycarbonyl, Ph=phenyl, Fmoc=fluorenylmethyleneoxycarbonyl, Me=—CH3, Bz=benzyl.\n      \n    \n    \n       19. The method according to claim 1, wherein in step 1) 2-6 different monomers are used, and/or wherein in step 1) the reaction is carried over to lead to oligomers with in the range of 2-10 interlinked monomers.\n    \n    \n       20. Method according to claim 1, wherein in step 1) 2-4 different monomers are used, and/or wherein in step 1) the reaction is carried over to lead to oligomers with in the range of 2-6 interlinked monomers.\n    \n    \n       21. The method according to claim 1, wherein in step 1) the reaction conditions selected from at least one of temperature, pressure, reactant concentrations, reactant addition order, reactant addition time, reactant chirality are selected so as to lead, between different batches, to targeted different distributions of different oligomers in the mixture.\n    \n    \n       22. The method according to claim 1, wherein the initiator for the formation of a cyclic oligomer or a mixture of cyclic oligomers by amide-bond formation is selected from the group consisting of:\n      \n        \n          \n          \n             \n             \n          \n        \n        wherein\n        R1 is a linker element;\n        Rq is a structural element complementing to a 4, 5, 6, or 7 membered ring, selected from the group consisting of: —C—, —CH2—C—, —CHRT—C—, —(CH2)2—C—, —(CHRT)2—C—, —(CH2)—C—(CH2)—, —(CHRT)—C—(CH2)—, —(CHRT)—C—(CHRT)—, —(CH2)3—C, wherein RT is selected from the group consisting of: hydrogen, halogen, substituted or unsubstituted alkyl, heteroalkyl, aryl, cycloalkyl, heterocycloalkyl, heteroaryl, alkylaryl, heteroalkylaryl, alkenyl, heteroalkenyl, alkinyl, heteroalkinyl;\n        Rt is a structural element complementing to a 4, 5, 6, or 7 membered ring, selected from the group consisting of: —CRU—, —CH2—CRU—, —CHRT—CRU-, —(CH2)2—CRU—, —(CHRT)2—CRU—, —(CH2)—CRU—(CH2)—, —(CHRT)—CRU—(CH2)—, —(CHRT)—CRU—(CHRT)—, —(CH2)3—CRU, wherein RT is selected from the group consisting of: hydrogen, halogen, substituted or unsubstituted alkyl, heteroalkyl, aryl, cycloalkyl, heterocycloalkyl, heteroaryl, alkylaryl, heteroalkylaryl, alkenyl, heteroalkenyl, alkinyl, heteroalkinyl, and wherein RU is selected from the group consisting of: hydrogen, halogen, substituted or unsubstituted alkyl, heteroalkyl, aryl, cycloalkyl, heterocycloalkyl, heteroaryl, alkylaryl, heteroalkylaryl, alkenyl, heteroalkenyl, alkinyl, heteroalkinyl;\n        R7—R9 being, independently from each other, selected from the group consisting of: hydrogen, halogen, substituted or unsubstituted alkyl, heteroalkyl, aryl, cycloalkyl, heterocycloalkyl, heteroaryl, alkylaryl, heteroalkylaryl, alkenyl, heteroalkenyl, alkinyl, heteroalkinyl, as well as cyclic forms linking these among each other and carbonyl, imidate, thiomidate,\n        R being selected from the group consisting of: O, S, NR1, SiR1R2, CR1R2; wherein R1 and R2 are, independently from each other, selected from the group consisting of: hydrogen, halogen, substituted or unsubstituted alkyl, heteroalkyl, aryl, cycloalkyl, heterocycloalkyl, heteroaryl, alkylaryl, heteroalkylaryl, alkenyl, heteroalkenyl, alkinyl, heteroalkinyl,\n        Y being selected from the group consisting of: —PO3H, —COOH, —BF3 −X+, —BXYZ, wherein X+, X, Y, Z are defined as given above in the context of the initiator.\n      \n    \n  "}
{"text":"Sound signal processing method and sound signal processing apparatus\n\nABSTRACT\n\nA method for processing an input sound signal of singing voice, to obtain a sound signal with an impression different from the input sound signal, includes: selecting a genre from among a plurality of tune genres in accordance with a selection operation by a user, setting, to a first unit, a set of first parameters corresponding to the selected genre, displaying a first impression identifier corresponding to the selected genre for a first control of a first user parameter in the set of first parameters, changing the first user parameter in accordance with a change operation on the first control by the user, and strengthening, by the first unit, signal components within a particular frequency band of the sound signal, in accordance with the set of first parameters including the first user parameters.\n    \n    CROSS-REFERENCE TO RELATED APPLICATION\n    The present application is continuation of International Application No. PCT/JP2016/70731 filed on Jul. 13, 2016, which claims priority from Japanese Application No. JP2015-191555 filed on Sep. 29, 2015. The contents of these applications are hereby incorporated by reference into this application.\n    \n    \n    BACKGROUND OF THE INVENTION\n    1. Field of the Invention\n    The present invention relates to a sound signal processing method and a sound signal processing apparatus.\n    2. Description of the Related Art\n    Specific examples of a signal processing element, which performs signal processing on a sound signal, include filters, compressors, and multiband compressors. A filter is a linear system through which signal components within a particular frequency band are attenuated or amplified in a multiplying manner, and is also called an equalizer. A compressor is a non-linear system with which the signal level of an input signal is measured successively to output the input signal with the level compressed when the measured level is high. A compressor is also utilized for its level compression effect and transient characteristics to control temporal changes of the level. The waveform of a sound signal on which level compression is performed by a compressor is known to be deformed (that is, high frequency components are added), and because of that fact, a compressor is sometimes used to add harmonic components. A multiband compressor is a non-linear system in which an input signal is divided into bands through a plurality of filters so that compressors each work on one of the bands, and output signals from the compressors are added up to be output as one signal. A multiband compressor is not only usable as a kind of compressor, but is also useful for adding signal components within a particular frequency band. In a possible use for a filter, a compressor, a multiband compressor, or a similar signal processing element, appropriate signal processing performed by the signal processing element on a sound signal that represents a singing voice in karaoke or the like can manipulate the impression of the singing voice to make the singing voice sound like that of a professional singer by, for example, changing the singing voice into a more robust singing voice or a warmer singing voice. There are, however, many parameters that define signal processing in those signal processing elements, and it is difficult for a karaoke user who possesses no special knowledge on signal processing to grasp all of the parameters. In addition, the parameters and impressions of a voice have complicate association relations, and general karaoke users do not know which parameter is to be set to what value in order to yield a desired impression.\n    Signal processing in a second-order peaking filter, which is given as a specific example of a filter, is defined by three parameters, namely, a center frequency, a gain, and an amplitude enhancement factor. General karaoke users do not know what values are to be set as the three parameters in order to close the gap between the impression of a singing voice and an impression aimed for. Even when a relation between a parameter and an impression is known, inconvenience occurs in that frequency components to be amplified by the filter are amplified excessively in the case where the content of the frequency components in a sound signal that is a processing target is high from the beginning. Signal processing in a compressor is defined by three parameters, namely, a threshold, a compression ratio (an amplification ratio of an input signal having a signal level exceeding the threshold), and a time constant. General karaoke users, however, do not know what values are to be set as the three parameters in order to close the gap between the impression of a singing voice and an impression aimed for. The problem becomes more compounded in the case of a multiband compressor, in which parameters related to filters and parameters related to compressors are required to be set. (RAY M. Dolby, “An Audio Noise Reduction System”, JOURNAL OF THE AUDIO ENGINEERING SOCIETY, OCTOBER 1967, VOL. 15, NO. 4, p. 383-388) (Non-patent Literature 1)\n    SUMMARY OF THE INVENTION\n    A method for processing an input sound signal of singing voice, to obtain a sound signal with an impression different from the input sound signal, according to an aspect of the present invention includes: selecting a genre from among a plurality of tune genres in accordance with a selection operation by a user; setting, to a first unit, a set of first parameters corresponding to the selected genre; displaying a first impression identifier corresponding to the selected genre for a first control of a first user parameter in the set of first parameters; changing the first user parameter in accordance with a change operation on the first control by the user; and strengthening, by the first unit, signal components within a particular frequency band of the sound signal, in accordance with the set of first parameters including the first user parameters.\n    \n    \n    \n      BRIEF DESCRIPTION OF THE DRAWINGS\n       FIG. 1 is a diagram for illustrating an example of the configuration of a sound reproduction system 1, which includes a sound signal processing apparatus 10 according to an embodiment of the present invention.\n       FIG. 2 is a diagram for illustrating an example of the configuration of the sound signal processing apparatus 10.\n       FIG. 3 is a function block diagram of signal processing executed by a control unit 100 of the sound signal processing apparatus 10 as programmed by a control program 1440.\n       FIG. 4 is a diagram for illustrating an example of a setting screen, which is displayed on a display unit of a user interface (hereinafter abbreviated as “I/F”) unit 13 by the control unit 100 as programmed by the control program 1440.\n       FIG. 5A and FIG. 5B are examples of updating the setting screen.\n       FIG. 6A and FIG. 6B are function block diagrams of signal processing in Modification Example (3).\n       FIG. 7 is a flowchart for illustrating an example of the processing of the control unit 100 according to an embodiment of the present invention.\n    \n    \n    \n    DETAILED DESCRIPTION OF THE INVENTION\n    Embodiments of the present invention are described below referring to the accompanying drawings.\n     FIG. 1 is a diagram for illustrating an example of the configuration of a sound reproduction system 1, which includes a sound signal processing apparatus 10 according to the embodiment of the present invention. The sound reproduction system 1 is, for example, a karaoke system, and includes a sound signal input apparatus 11 and a sound reproduction apparatus 12 besides the sound signal processing apparatus 10. The sound signal input apparatus 11 and the sound reproduction apparatus 12 are connected to the sound signal processing apparatus 10 via audio cables or other signal lines. The sound signal input apparatus 11 is a microphone used by a user of the sound reproduction system 1. When the user switches the sound signal input apparatus 11 on and starts singing a karaoke tune, the sound signal input apparatus 11 picks up the user's singing voice, and outputs a sound signal representing the singing voice to the sound signal processing apparatus 10. The sound reproduction apparatus 12 is, for example, a speaker. The sound reproduction apparatus 12 emits a sound corresponding to the sound signal supplied from the sound signal processing apparatus 10.\n    The sound signal processing apparatus 10 is what is called an online karaoke machine. The sound signal processing apparatus 10 prompts the user to select a karaoke tune to be sung, obtains a sound signal that represents the sound wave form of an accompaniment sound (hereinafter referred to as “accompaniment sound signal”) of the karaoke tune from a karaoke tune distribution server (not shown in FIG. 1), and outputs the accompaniment sound signal to the sound reproduction apparatus 12. When a sound signal is started being input from the sound signal input apparatus 11, the sound signal processing apparatus 10 performs signal processing on the input sound signal, mixes the processed sound signal with the accompaniment sound signal, and outputs the mixed signal to the sound reproduction apparatus 12. The signal processing executed in the sound signal processing apparatus 10 according to this embodiment includes processing of changing the impression of a singing voice. The user of the sound reproduction system 1 can manipulate the impression of his or her own singing voice by operating the sound signal processing apparatus 10. The following description is centered on the sound signal processing apparatus 10, which prominently exhibits features of this embodiment.\n     FIG. 2 is a diagram for illustrating an example of the configuration of the sound signal processing apparatus 10.\n    As illustrated in FIG. 2, the sound signal processing apparatus 10 includes a control unit 100, an external apparatus I/F unit 110, a communication I/F unit 120, a user I/F unit 130, a storage unit 140, and a bus 150 through which data is exchanged among the components of the sound signal processing apparatus 10.\n    The control unit 100 is, for example, a central processing unit (CPU). The control unit 100 functions as the center of control of the sound signal processing apparatus 10 by operating as programmed by a control program 1440, which is stored in the storage unit 140. Details of processing executed as programmed by the control program 1440 are disclosed later.\n    The external apparatus I/F unit 110 is an aggregation of I/Fs for connecting external apparatus via signal lines, for example, serial I/Fs or parallel I/Fs. In this embodiment, the sound signal input apparatus 11 and the sound reproduction apparatus 12 are each connected via a signal line to the external apparatus I/F unit 110. The external apparatus I/F unit 110 passes a signal received from a connected apparatus that is connected to the external apparatus I/F unit 110 to the control unit 100, and transmits a signal received from the control unit 100 to the connected apparatus. An analog apparatus to/from which an analog signal is input/output can be connected to the external apparatus I/F unit 110 when the external apparatus I/F unit 110 includes an A/D converter and a D/A converter. In this case, the external apparatus I/F unit 110 performs A/D conversion with the use of the A/D converter on an analog signal received from the connected apparatus to pass digital data that is the result of the A/D conversion to the control unit 100, and performs D/A conversion with the use of the D/A converter on digital data received from the control unit 100 to output an analog signal that is the result of the D/A conversion to the connected apparatus.\n    The communication I/F unit 120 is, for example, a network interface card (NIC). The communication I/F unit 120 is connected to a telecommunication line to receive data transmitted from an other apparatus such as a contents server via the telecommunication line, and passes the received data to the control unit 100. The communication I/F unit 120 also sends data passed from the control unit 100 to an other apparatus via the telecommunication line. The communication I/F unit 120 in this embodiment is used for data communication that is held to obtain an accompaniment sound signal of a karaoke tune from a karaoke tune distribution server.\n    The user I/F unit 130 includes a display unit and an operation unit. The display unit is made up of, for example, a liquid crystal display and a drive circuit for driving the liquid crystal display. The display unit displays various images under control of the control unit 100. Examples of images displayed on the display unit include an image of a menu screen that allows the user to select which karaoke tune the user wishes to sing, and an image of a scene fit to a karaoke tune of the user's choice (or an image in which character strings representing the lyrics of the karaoke tune are superimposed on the scene). The operation unit includes an input device, for example, a numeric keypad or a pointing device. When the user operates the input device, the operation unit passes operation data indicating the specifics of the operation by the user to the control unit 100. The control unit 100 is informed of the specifics of operation by the user in this manner.\n    The storage unit 140 includes a volatile storage unit 142 and a non-volatile storage unit 144 as illustrated in FIG. 2. The volatile storage unit 142 is, for example, a random access memory (RAM). The volatile storage unit 142 is used by the control unit 100 as a work area when the control program 1440 is executed. The non-volatile storage unit 144 is, for example, a hard disk drive or an electrically erasable programmable read-only memory (EEPROM). The control program 1440 is stored in the non-volatile storage unit 144 in advance.\n    The control unit 100 reads the control program 1440 out of the non-volatile storage unit 144 onto the volatile storage unit 142, with the powering on or resetting of the sound signal processing apparatus 10 (a power source of the sound signal processing apparatus 10 is not shown) as a trigger, and starts executing the control program 1440 in FIG. 7. The control unit 100 operates as programmed in the control program 1440. The control unit 100 initially sets parameters and displays a karaoke screen on the display unit (ST1), executes processing of prompting the user to select a tune to be sung, and in response to tune-selecting operation by the user (ST2), obtaining (ST3) an accompaniment sound signal of the tune selected by the user. The control unit 100, in response to periodical timer interrupts (ST4), repeatedly executes processing of reproducing the obtained accompaniment sound signal (ST5), performing signal processing on a sound signal that represents the user's singing voice (i.e., a sound signal that is input from the sound signal input apparatus 11) to manipulate the impression of the singing voice (hereinafter referred to as “impression manipulation processing”) (ST6), and mixing the sound signal processed by the signal processing with the accompaniment sound signal to output the mixed signal to the sound reproduction apparatus 12 (ST7). In the step ST5, the control unit 100 may be informed of parameter-setting operation by the user, and in that case, the control unit 100 sets one or more parameters as described later. The timer interrupt (ST4) is preemptive and the sound signals are not disturbed by the user control process (ST3). In response to stop command from the user (ST8), the control unit 100 terminates the control program (ST9). Those processes in FIG. 7 except some processes related to the impression manipulation processing (ST6) are not particularly different from processes executed in a general karaoke machine. The following description is therefore focused on the impression manipulation processing.\n    Elements (function blocks) for the impression manipulation processing are roughly classified into signal processing blocks illustrated in FIG. 3 (a frequency band strengthening unit 1440 a, amplifiers 1440 b and 1440 c, an adder 1440 d, a level temporal change control unit 1440 e, an overtone strengthening unit 1440 f, amplifiers 1440 g and 1440 h, and an adder 1440 i) and a control block, which controls the operation of the signal processing blocks. The units illustrated in FIG. 3 and the control block (not shown in FIG. 3) are software modules that are implemented by allowing the control unit 100 to operate as programmed by the control program 1440. The control block sets parameters of the signal processing blocks of FIG. 3, and controls the signal processing blocks so that processing procedures of the signal processing blocks are performed in an order illustrated in FIG. 3 on a sound signal input from the sound signal input apparatus 11. The signal processing blocks of FIG. 3 have the following roles:\n    The frequency band strengthening unit 1440 a (a first unit) is, for example, a multiband compressor. The unit 1440 a includes N (N is an integer equal to or more than 2) filters by which an input sound signal is divided into bands, and N compressors each connected in series to corresponding one of the filters (the compressors and filters of the unit 1440 a are not shown in FIG. 3). The unit 1440 a strengthens frequency components in a particular band of a sound signal input from the sound signal input apparatus 11 (hereinafter referred to as “original sound signal”), based on a set of parameters set by the control block. The set of parameters set for the unit 1440 a by the control block are hereinafter referred to as “first parameters”.\n    The first parameters include parameters of the N filters (for example, one or more cutoff frequencies of each band pass filter or a similar kind of parameter for each filter), and a threshold, a compression ratio, and one or more time constants for each of the N compressors and a output gain. The time constants may include one of or both of an attack time, which is defined as the length of time since the level of an input signal exceeds the threshold until compression (lowering the gain of the input signal) is started (or completed), and a release time, which is defined as the length of time since the level of an input signal drops lower than the threshold until stopping of the compression is started (or completed). In this embodiment, the values of the first parameters determine range of the particular band, as well as frequency components belonging to the particular band and the signal intensity of the frequency components is controlled according to the output gain in the first parameters.\n    As illustrated in FIG. 3, an original sound signal input to the control unit 100 is supplied to the adder 1440 d after the strengthening of particular frequency components by the unit 1440 a and amplification by the amplifier 1440 b, and the same original sound signal is supplied to the adder 1440 d after amplification by the amplifier 1440 c. A gain of the amplifier 1440 b and a gain of the amplifier 1440 c are set by the control block as well. The adder 1440 d mixes an output signal from the amplifier 1440 b and an output signal from the amplifier 1440 c to output the mixed signal to the level temporal change control unit 1440 e.  \n    The level temporal change control unit 1440 e (a second unit) is a compressor. The unit 1440 e controls temporal changes of the level of an input signal (in this embodiment, a sound signal to which signal components within a particular frequency band are already added) based on a set of parameters set by the control block. The set of parameters set for the unit 1440 e by the control block are hereinafter referred to as “second parameters”. The second parameters include a threshold, a compression ratio, and one or more time constants of the compressor. An output signal from the unit 1440 e is supplied to the overtone strengthening unit 1440 f as illustrated in FIG. 3.\n    The overtone strengthening unit 1440 f strengthens harmonic components of an input sound signal (in this embodiment, an output signal from the level temporal change control unit 1440 e) based on a set of parameters set by the control block. The set of parameters set for the unit 1440 f by the control block are hereinafter referred to as “third parameters”. As illustrated in FIG. 3, the overtone strengthening unit 1440 f includes a filter and a compressor connected in series to the filter. The third parameters include a parameter of the filter and a threshold, a compression ratio, and one or more time constants of the compressor and a output gain.\n    As illustrated in FIG. 3, a sound signal input to the overtone strengthening unit 1440 f is subjected to filtering process performed by the filter, and a signal output from the filter is subjected to level compression performed by the compressor. When the threshold is set to a rather low value or when the compression ratio is set to a rather high value, harmonic components in a rather wide band are strengthened, and this phenomenon is utilized by the overtone strengthen unit 1440 f of this embodiment. The filter selectively filters the frequency band of the harmonic components. The filter resides upstream of the compressor in this embodiment, but the filter may reside downstream of the compressor. Alternatively, a filter for filtering the harmonic components may be provided both of upstream and downstream of the compressor.\n    The amplifier 1440 g amplifies an output signal from the overtone strengthen unit 1440 f, and supplies the amplified signal to the adder 1440 i. The amplifier 1440 h amplifies an output signal from the level temporal change control unit 1440 e, and outputs the amplified signal to the adder 1440 i. A gain of the amplifier 1440 g and a gain of the amplifier 1440 h are set by the control block as well. The adder 1440 i outputs a signal that is obtained by mixing an output signal from the amplifier 1440 g and an output signal from the amplifier 1440 h. This mixing by the adder 1440 is necessary because the harmonic components contained in an output signal from the unit 1440 f are often too heavily distorted to be directly output as sound. An output signal from the adder 1440 i is mixed with the accompaniment sound signal, and the mixed signal is output via the external apparatus I/F unit 110 to the sound reproduction apparatus 12, which then emits the mixed signal as acoustic sound. Sound of the accompaniment sound of a karaoke tune and sound of the singing voice changed in impression by signal processing of the sound signal processing apparatus 10 are reproduced concurrently in this manner.\n    In this embodiment, the impression of a reproduced singing voice by the sound reproduction apparatus 12 may be controlled by adjusting the values of the first parameters, the second parameters, and the third parameters, and the gains of the amplifiers 1440 b, 1440 c, 1440 g, and 1440 h. For instance, the reproduced singing voice will become a glamorous sound by setting the first parameters so that frequency components around 9 kHz are strengthened. Similarly, the reproduced singing voice will become an overall breathy sound by setting the first parameters so that frequency components in 8 kHz or a higher band are strengthened, the overall breathy sound will possess a perceptible fluctuation of the breathiness by further setting a rather heavy compression for the input signal of high level period. The reproduced singing voice will become a radiant sound by setting the first parameters so that frequency components in 12 kHz or a higher band are strengthened. The degree of impression manipulation by the frequency band strengthening unit 1440 a can be controlled by the adjustment of gains of the amplifiers 1440 b and 1440 c. For instance, when the first parameters are set so that frequency components around 9 kHz are strengthened, the reproduced singing voice will become more glamorous as the gain of the amplifier 1440 b increases.\n    The reproduced singing voice by the sound reproduction apparatus 12 will become an edgy sound by setting the compression ratio in the second parameters to a rather high value. Similarly, the reproduced singing voice will become a well-modulated sound, a smooth sound, a sustaining sound, or the like by setting a rather large time constant in the second parameter and then adjusting the threshold and the compression ratio in the second parameters. The same applies to the third parameters, and the reproduced singing voice will become a powerful sound by setting the third parameters so that a target range is focused around 3 kHz (so that an overtone is effectively strengthened). The reproduced singing voice will become a robust sound by setting the third parameters so that the target range is focused around 5 kHz. The reproduced singing voice will become an enriched sound or a warm sound by setting the third parameters so that a frequency around 500 Hz to 3 kHz is strengthened.\n    An important point here is that, while each of the unit 1440 a, the unit 1440 e, and the unit 1440 f has at least one compressor, parameters of the compressors are set separately and independently for each of the units. The reason is as follows. In the level temporal changes control, the parameters of the compressor are required to be set so that the effect is not too strong in order to prevent excessive modification on the temporal change of the level. The parameters of the compressor in the overtone strengthening, on the other hand, is required to be set so that the effect is substantially strong in order to ensure that the level of the harmonic components becomes high enough. The optimum parameters of the compressor thus vary according to the purpose of the unit to which it belongs, and the parameters for the overtone strengthening differs from the parameters for other than overtone strengthening, for example. Because it is not possible to achieve all purposes with one set of parameters of a compressor, this embodiment involves providing at least one independent compressor in each of the unit 1440 a, the unit 1440 e, and the unit 1440 f, and setting parameters of the independent compressor separately and independently for each of the units.\n    The impression of a singing voice reproduced by the sound reproduction apparatus 12 can be controlled by adjusting the values of the first parameters, the second parameters, and the third parameters, and the gains of the amplifiers as described above. However, general karaoke users without special knowledge on signal processing could not determine which parameter is to be set to what value in order to yield a desired impression. This embodiment enables general users without special knowledge to easily perform impression manipulation by providing optimized values of the first parameters, the second parameters, and the third parameters and optimized gains of the amplifiers in relation with singing genres (for example, Japanese Enka ballad singing, rock singing, and ballad singing, in other words, the genre to which a tune to be sung belongs), under the editorial supervision of one or more persons with special knowledge (for example, an technician working at the manufacturer of the apparatus 10 or the program 1440; hereinafter referred to as “expert user”). At first, the optimized parameter values and the optimized gains are grouped in terms of the genres, and the grouped values and gains are stored in advance in the non-volatile storage unit 144 in association with genre identifiers, indicating the genres. Accordingly, the general user can set parameters optimum for the desired singing genre to the units illustrated in FIG. 3 by specifying a genre identifier that is associated with the desired genre.\n    To give a more detailed description, the non-volatile storage unit 144 stores, in association with a genre identifier of each genre, a set of parameter values optimized for one or more tunes that belong to the genre, and each stored set of parameters includes at least a user parameter for each unit associated with an impression identifier (for example, a character string representing an impression) that indicates some impression of a singing voice controlled by the parameter of the unit. The expert user determines in advance a suitable impression identifier of each unit for each singing genre independently, and therefore different impression identifiers may consequently be associated with the same parameter of the same unit according to the genres.\n    For instance, regarding to a “rock singing” genre, values of the first parameters for strengthening frequency components around 9 kHz, values of the second parameters including a rather high compression ratio, and values of the third parameters for strengthening a frequency around 3 kHz are stored in the storage unit 144, in this embodiment. In this case, “glamorousness” is stored as an impression identifier of a first user parameter in the first parameters, “edginess” is stored as an impression identifier of a second user parameter in the second parameters, and “powerfulness” is stored as an impression identifier of the third user parameter in the third parameters. Regarding to a “Japanese Enka ballad singing” genre, values of the first parameters for strengthening frequency components around or higher than 8 kHz with strong compression for the signal of high level period, values of the second parameters including an intermediate time constant, and values of the third parameters for strengthening a frequency around 5 kHz are stored in the storage unit 144. In this case, “pathos/longing” is stored as an impression identifier of the first user parameter, “modulation” is stored as an impression identifier of the second user parameter, and “robustness” is stored as an impression identifier of the third user parameter. Regarding to a “ballad singing” genre, values of the first parameters for strengthening frequency components around or higher than 12 kHz, values of the second parameters including a rather long time constant, and values of the third parameters for strengthening a frequency of from 500 Hz to 3 kHz are stored in the storage unit 144. In this case, “breathiness” is stored as an impression identifier of the first user parameter, “smoothness” is stored as an impression identifier of the second user parameter, and “warmth” is stored as an impression identifier of the third user parameter.\n    The control block (the control unit 100) of this embodiment displays a setting screen illustrated in FIG. 4 on the display unit of the user I/F unit 130 (ST3) in response to a setting start operation from the user (ST2), so that the user can set parameters suitable for the genre of a tune to be sung out of parameters grouped in the manner described above. The setting screen is provided with, as illustrated in FIG. 4, a pulldown menu PM, display areas A01 to A03, and display images I01 to I03. Genre identifiers associated with their respective groups are displayed in a list format in the pulldown menu PM. The user can select parameters fit to the genre of a tune to be sung by selecting one of the genre identifiers displayed in a list format. In response to the genre-selection operation by the user (ST2), the control block sets the parameters fit to the genre (ST3).\n    When the pulldown menu PM is operated by the user to select one of the genre identifiers (one of the genres), the control block reads parameter values and impression identifiers that are stored in the non-volatile storage unit 144 in association with the selected genre identifier (the selected genre), and sets the read parameters to the units illustrated in FIG. 3. The control block also displays the impression identifiers respectively in the display areas A01, A02, and A03 corresponding to the first to third parameters. When the pulldown menu PM is operated so that “rock singing” is selected, for example, the setting screen on the display unit is changed to display in the manner illustrated in FIG. 5A. When the pulldown menu PM is operated so that “Japanese Enka ballad singing” is selected, the setting screen is changed to display in the manner illustrated in FIG. 5B.\n    The display images I01 to I03 are virtual images of a slider or other controls. The control block moves the position of a knob on a virtual slider of the display image I01 in a manner based on the value of the first parameter read out of the non-volatile storage unit 144, moves the position of a knob on a virtual slider of the display image I02 in a manner based on the read value of the second parameter, and moves the position of a knob on a virtual slider of the display image I03 in a manner based on the read value of the third parameter. When the first parameter to the third parameter each include a plurality of parameters, one of the plurality of parameters is associated with the display image. For example, in the case of the second parameter, which includes three types of parameters, namely, threshold, compression ratio, and time constant, the threshold is associated with the display image I02.\n    When one of the display images I01 to I03 is operated by the user to change the displayed position of the knob on the virtual slider (ST2), the value of the parameter associated with the virtual slider may be changed in accordance with the operation (ST3). In the case of the second parameter, for example, the threshold is changed based on how the display image I02 is operated, while the compression ratio and the time constant are left not changed. The left end and right end of the movable area of the knob of the display image I02 in this case are associated with a minimum value and a maximum value in which the threshold can be set by the user (a minimum value and a maximum value relative to a reference value are determined by the tune genre or the like), and the knob of the virtual slider is displayed at a position of the threshold value associated with the reference value. This mode enables the user to make fine adjustments on the amount of control exerted on temporal changes of the level because a lower threshold means a stronger effect in signal processing of a compressor in general.\n    In this embodiment, the user can set parameters optimized by an expert user for a singing genre to the signal processing elements illustrated in FIG. 3 merely by specifying the singing genre, which allows the user to easily manipulate the impression of a singing voice. For instance, when a Japanese Enka ballad is sung with the first parameter to the third parameter set as illustrated in FIG. 5B, the singing voice is enhanced in pathos/longing, modulation, and robustness. According to the sound signal processing apparatus 10 of this embodiment, a user who possesses no special knowledge on signal processing of a sound signal can thus easily manipulate the impression of a voice represented by a sound signal. Another effect that is presented according to this embodiment is that, compared to the case in which a multiband compressor or a similar signal processing element is used alone, various manners of impression manipulation can be performed by a combination of frequency band strengthening, level temporal change control, and overtone strengthening, thereby rendering other additional elements such as a sound mixer and a DAW software unnecessary.\n    While the description given above is about an embodiment of the present invention, the embodiment may be modified as follows:\n    (1) The embodiment described above deals with a case in which the sound signal processing apparatus 10 is a karaoke machine, and the present invention is applied to a voice singing a tune. However, applications of the present invention are not limited to the singing voice, and may be applied to manipulation of impression of any of a guide voice, a speech, a narration, a recitation, and the like. Applications of the present invention are also not limited to a voice, and may be applied to the manipulation of the impression of an instrument sound of a tune. When the present invention is applied to the instrument sound, in the same way as the embodiment, the first parameters to the third parameters are grouped in accordance with the genre of the tune, or the genres of the instruments used, and are stored in advance in the storage unit, with impression identifiers indicating impressions controlled by the corresponding user parameters. For instance, a “violin” genre is associated with values of the first parameters for strengthening frequency components around or higher than 13 kHz, values of the second parameters including a rather short release time, and values of the third parameters for strengthening a frequency around 500 Hz to 3 kHz, and the first to third impression identifiers “radiance”, “sustenance”, and “warmth” are associated with the first user parameter, the second user parameter, and the third user parameter, respectively.\n    (2) While a user specifies a singing genre by operating the pulldown menu PM on the setting screen in the embodiment described above, a genre may be automatically set in connection with the selection of a tune to be sung. The setting screen is not necessary in this case. The parameters are not necessarily grouped for each singing genre but may be grouped for each tune genre, or for each singer genre or each tune player genre. The grouped parameters are not necessarily stored in the non-volatile storage unit 144 of the sound signal processing apparatus 10 in association with the genre identifiers but may be stored in a storage apparatus that can hold communication to/from the sound signal processing apparatus 10 via a communication line or via other measures (e.g., a hard disk apparatus that can be networked).\n    (3) In the embodiment described above, the unit 1440 e receives a mixed signal of a signal from the unit 1440 a and an original sound signal, and a signal from the unit 1440 e is further processed by the unit 1440 f. One modification in FIG. 6A is that a first signal obtained by the level temporal change control unit 1440 e processing the mixed signal from the adder 1440 d and a second signal obtained by the overtone strengthening unit 1440 f processing the same mixed signal are amplified and mixed to generate a sound signal to be supplied to the sound reproduction apparatus 12. Another modification in FIG. 6B is that a first signal obtained by the overtone strengthening unit 1440 f processing the original signal, a second signal obtained by the frequency band strengthening unit 1440 a processing the original signal, and the original signal are amplified and mixed, and the mixed signal is processed by the level temporal change control unit 1440 e to generate a signal to be output to the sound reproduction apparatus 12.\n    An advantage of the latter modification in FIG. 6B is that the level of the mixed sound signal of two processed signals by the frequency band strengthening unit 1440 a and by the overtone strengthening unit 1440 f is controlled by the level temporal change control unit 1440 e. But no serious difference from it exists in the embodiment in FIG. 3 or the former modification in FIG. 6A, if the gain of the amplifier 1440 h for the level temporal change control unit 1440 e is sufficiently larger than the gain of the amplifier 1440 g in the subsequent processing.\n    The control unit 100 may execute signal processing that is specified by the user out of the three types of signal processing of the embodiment in FIG. 3, the modification in FIG. 6A, and the modification in FIG. 6B. The control unit 100 may automatically switch from one of the three types of signal processing to another to process a sound signal, depending on the singing genre of a singing voice represented by the sound signal to be processed.\n    (4) In the embodiment described above, the control unit 100 executes control program 1440 to function as the units illustrated in FIG. 3 and as the control block. Any of the units in FIG. 3 and the control block may be implemented by pieces of hardware such as an electronic circuit, to configure the sound signal processing apparatus 10 as the combination of the pieces of hardware and the control unit 100. The same may apply to the modification in FIG. 6A or FIG. 6B. The amplifiers 1440 b, 1440 c, 1440 g, and 1440 h in FIG. 3 are not indispensable, and any of them may be omitted. The same applies to the amplifiers in FIG. 6A or FIG. 6B. When the amplifier 1440 c in FIG. 3 is omitted, the adder 1440 d may be omitted, so that an output signal from the unit 1440 a is input to the unit 1440 e via the amplifier 1440 b (or input directly to the unit 1440 e by omitting the amplifier 1440 b as well).\n    (5) In the embodiment described above, the sound signal input apparatus 11, which supplies an input sound signal to be processed to the apparatus 10, and the sound reproduction apparatus 12, which reproduces an output signal from the apparatus 10, are connected to the sound signal processing apparatus 10 via audio cables or the like by one to one topology. One or both of the apparatus 11 and the apparatus 12 may be connected to the sound signal processing apparatus 10 via a communication network such as the Internet. For example, when the apparatus 11 and the apparatus 12 are both connected to the apparatus 10 via a network, the signal processing apparatus 10 may provide a sound impression manipulation service of an application service provider (ASP) type.\n    While all described here are some embodiments of the invention, various modifications may be made thereto, and it is intended that the appended claims cover all such modifications as fall within the true spirit and scope of the invention.\n    \n  \n    What is claimed is:\n    \n      1. A method of processing an input sound signal of singing voice, to obtain a processed sound signal with an impression different from the input sound signal using a processor or circuit that provides at least a first sound effect, the method comprising the steps of:\nselecting a genre from among a plurality of tune genres for singing voice in accordance with a selection operation by a user;\nreading out from a memory a set of parameters, including a set of first parameters and a first impression identifier, corresponding to the selected genre, the first impression identifier representing an impression controlled by a first user parameter included in the set of first parameters;\nsetting, to the first sound effect, the set of first parameters corresponding to the selected genre;\ndisplaying the first impression identifier corresponding to the selected genre and a first control that permits changing of the first user parameter by the user;\nchanging the first user parameter in accordance with a first change operation on the first control by the user; and\nadjusting, using the first sound effect, signal components within a particular frequency band of the input sound signal, in accordance with the set of first parameters including the first user parameter, to obtain the processed sound signal.\n\n    \n    \n      2. The method according to claim 1, wherein the first impression identifier is a character string.\n    \n    \n      3. The method according to claim 1, wherein the first impression identifier differs according to the corresponding genre.\n    \n    \n      4. The method according to claim 1, wherein the set of first parameters determine the particular frequency band within which the signal components are adjusted by the first sound effect.\n    \n    \n      5. The method according to the claim 1, wherein:\nthe processor or circuit provides a second sound effect,\nthe read-out set of parameters further include a set of second parameters and a second impression identifier, corresponding to the selected genre, the second impression identifier representing an impression controlled by a second user parameter included in the set of second parameters, and\nthe method further comprises:\nsetting, to the second sound effect, the set of second parameters corresponding to the selected genre;\ndisplaying the second impression identifier corresponding to the selected genre and a second control that permits changing of the second user parameter by the user;\nchanging the second user parameter in accordance with a second change operation on the second control by the user; and\ncontrolling, using the second sound effect, a temporal change of level of the sound signal processed by the first sound effect, in accordance with the set of second parameters including the second user parameter.\n\n\n    \n    \n      6. The method according to the claim 5, wherein:\nthe processor or circuit provides a third sound effect,\nthe read-out set of parameters further include a set of third parameters and a third impression identifier, corresponding to the selected genre, the third impression identifier representing an impression controlled by a third user parameter included in the set of third parameters, and\nthe method further comprises:\nsetting, to the third sound effect, the set of third parameters corresponding to the selected genre;\ndisplaying the third impression identifier corresponding to the selected genre and a third control that permits changing of the third user parameter by the user;\nchanging the third user parameter in accordance with a change operation on the third control by the user; and\nadjusting, using the third sound effect, harmonic components of the sound signal processed by the second sound effect, in accordance with the set of third parameters including the third user parameter.\n\n\n    \n    \n      7. The method according to the claim 1, wherein the first sound effect includes a multi-band compressor.\n    \n    \n      8. The method according to the claim 5, wherein the second sound effect includes a compressor.\n    \n    \n      9. The method according to the claim 6, wherein the third sound effect includes a filter and a compressor connected in series.\n    \n    \n      10. The method according to the claim 6, wherein adjustments using the first, second, and third sound effects are executed in a predetermined order.\n    \n    \n      11. A non-transitory computer-readable storage medium storing a program executable by a computer to execute a method of processing an input sound signal of singing voice, to obtain a processed sound signal with an impression different from the input sound signal, using at least a first sound effect provided by the computer, the method comprising the steps of:\nselecting a genre from among a plurality of tune genres for singing voice in accordance with a selection operation by a user;\nreading out from a memory a set of parameters, including a set of first parameters and a first impression identifier, corresponding to the selected genre, the first impression identifier representing an impression controlled by a first user parameter included in the set of first parameters;\nsetting, to the first sound effect, the set of first parameters corresponding to the selected genre;\ndisplaying the first impression identifier corresponding to the selected genre and a first control that permits the user to change the first user parameter;\nchanging the first user parameter in accordance with a first change operation on the first control by the user; and\nadjusting, using the first sound effect, signal components within a particular frequency band of the input sound signal, in accordance with the set of first parameters including the first user parameter, to obtain the processed sound signal.\n\n    \n    \n      12. A sound signal processing apparatus for processing an input sound signal of singing voice, to obtain a processed sound signal with an impression different from the input sound signal, the apparatus comprising:\na processor that implements stored instructions or a circuit that provides at least a first sound effect and executes a plurality of tasks, including:\na receiving task that receives a selection of a genre from among a plurality of tune genres for singing voice in accordance with a selection operation by a user;\na reading task that reads out from a memory a set of parameters, including a set of first parameters and a first impression identifier, corresponding to the selected genre, the first impression identifier representing an impression controlled by a first user parameter included in the set of first parameters;\na setting task that sets, to the first sound effect, the set of first parameters corresponding to the selected genre;\na displaying task that displays the first impression identifier corresponding to the selected genre and a first control that permits the user to change the first user parameter;\na changing task that changes the first user parameter in accordance with a first change operation on the first control by the user; and\nan adjusting task that adjusts, using the first sound effect, signal components within a particular frequency band of the input sound signal, in accordance with the set of first parameters including the first user parameter, to obtain the processed sound signal.\n\n\n    \n  "}
